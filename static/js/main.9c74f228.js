/*! For license information please see main.9c74f228.js.LICENSE.txt */
!function(){var e={3108:function(e,t,n){"use strict";n.d(t,{$n:function(){return h},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(2929);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function h(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},8189:function(e,t,n){"use strict";n.d(t,{Z:function(){return X}});var r=n(5987),i=n(687),a=n(7462),o=["xs","sm","md","lg","xl"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,u=e.step,c=void 0===u?5:u,l=(0,r.Z)(e,["values","unit","step"]);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function f(e,t){var r=o.indexOf(t);return r===o.length-1?h(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-c/100).concat(s,")")}return(0,a.Z)({keys:o,values:n,up:h,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?h("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},l)}var u=n(4942);function c(e,t,n){var r;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,u.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,u.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,u.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var l=n(2929),h={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=n(3108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,k.$n)(e.main,i):"dark"===t&&(e.dark=(0,k._j)(e.main,a)))}function x(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,o=e.secondary,s=void 0===o?{light:p.A200,main:p.A400,dark:p.A700}:o,u=e.error,c=void 0===u?{light:v[300],main:v[500],dark:v[700]}:u,x=e.warning,E=void 0===x?{light:m[300],main:m[500],dark:m[700]}:x,I=e.info,T=void 0===I?{light:y[300],main:y[500],dark:y[700]}:I,S=e.success,C=void 0===S?{light:g[300],main:g[500],dark:g[700]}:S,N=e.type,A=void 0===N?"light":N,R=e.contrastThreshold,P=void 0===R?3:R,D=e.tonalOffset,O=void 0===D?.2:D,L=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function M(e){return(0,k.mi)(e,w.text.primary)>=P?w.text.primary:b.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,l.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,l.Z)(5,JSON.stringify(e.main)));return _(e,"light",n,O),_(e,"dark",r,O),e.contrastText||(e.contrastText=M(e.main)),e},j={dark:w,light:b};return(0,i.Z)((0,a.Z)({common:h,type:A,primary:F(n),secondary:F(s,"A400","A200","A700"),error:F(c),warning:F(E),info:F(T),success:F(C),grey:f,contrastThreshold:P,getContrastText:M,augmentColor:F,tonalOffset:O},j[A]),L)}function E(e){return Math.round(1e5*e)/1e5}function I(e){return E(e)}var T={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?S:o,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,h=void 0===l?300:l,f=n.fontWeightRegular,d=void 0===f?400:f,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,_=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=c/14,C=w||function(e){return"".concat(e/k*x,"rem")},N=function(e,t,n,r,i){return(0,a.Z)({fontFamily:s,fontWeight:e,fontSize:C(t),lineHeight:n},s===S?{letterSpacing:"".concat(E(r/t),"em")}:{},i,b)},A={h1:N(h,96,1.167,-1.5),h2:N(h,60,1.2,-.5),h3:N(d,48,1.167,0),h4:N(d,34,1.235,.25),h5:N(d,24,1.334,0),h6:N(v,20,1.6,.15),subtitle1:N(d,16,1.75,.15),subtitle2:N(v,14,1.57,.1),body1:N(d,16,1.5,.15),body2:N(d,14,1.43,.15),button:N(v,14,1.75,.4,T),caption:N(d,12,1.66,.4),overline:N(d,12,2.66,1,T)};return(0,i.Z)((0,a.Z)({htmlFontSize:k,pxToRem:C,round:I,fontFamily:s,fontSize:c,fontWeightLight:h,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),_,{clone:!1})}function N(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],R={borderRadius:4},P=n(9439),D=n(1002),O={xs:0,sm:600,md:960,lg:1280,xl:1920},L={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(O[e],"px)")}};var M=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e};var F={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Z={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},U=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Z[e])return[e];e=Z[e]}var t=e.split(""),n=(0,P.Z)(t,2),r=n[0],i=n[1],a=F[r],o=j[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),B=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function V(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function q(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function z(e){var t=V(e.theme);return Object.keys(e).map((function(n){if(-1===B.indexOf(n))return null;var r=q(U(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||L;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,D.Z)(t)){var i=e.theme.breakpoints||L;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(M,{})}z.propTypes={},z.filterProps=B;function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=V({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var G={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},K={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function H(e){return"".concat(Math.round(e),"ms")}var Q={easing:G,duration:K,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,i=void 0===n?K.standard:n,a=t.easing,o=void 0===a?G.easeInOut:a,s=t.delay,u=void 0===s?0:s;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof i?i:H(i)," ").concat(o," ").concat("string"===typeof u?u:H(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Y=n(9535);function J(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,o=void 0===a?{}:a,u=e.palette,l=void 0===u?{}:u,h=e.spacing,f=e.typography,d=void 0===f?{}:f,p=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),v=x(l),m=s(n),y=W(h),g=(0,i.Z)({breakpoints:m,direction:"ltr",mixins:c(m,y,o),overrides:{},palette:v,props:{},shadows:A,typography:C(v,d),spacing:y,shape:R,transitions:Q,zIndex:Y.Z},p),k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,i.Z)(e,t)}),g)}var X=J()},9615:function(e,t,n){"use strict";n.d(t,{Z:function(){return In}});var r=n(7462),i=n(5987),a=n(2791),o=n(2110),s=n.n(o),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType,l=n(3144),h=n(4578),f=n(7326),d=n(3366),p={}.constructor;function v(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(v);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=v(e[n]);return t}function m(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=v(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=y(e[n]," ");else t=y(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function k(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function w(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=k(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var h=o[l];for(var f in h){var d=h[f];null!=d&&(r&&(r+=u),r+=b(f+":"+c+g(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=b(p+":"+c+g(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=b(m+":"+c+g(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),b(""+e+c+"{"+r,--a)+b("}",a)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,E=function(e){return x?x(e):e.replace(_,"\\$1")},I=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),T=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u((0,f.Z)((0,f.Z)(i)),s),i.selectorText="."+E(i.id)),i}(0,h.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(I),S={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},C={indent:1,children:!0},N=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(N);for(var a in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=C);var t=k(e).linebreak;if(null==e.indent&&(e.indent=C.indent),null==e.children&&(e.children=C.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),R=/@media|@supports\s+/,P={onCreateRule:function(e,t,n){return R.test(e)?new A(e,t,n):null}},D={indent:1,children:!0},O=/@keyframes\s+([\w-]+)/,L=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(O);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var u in this.id=!1===a?this.name:E(s(this,o)),this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=D);var t=k(e).linebreak;if(null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),M=/@keyframes\s+/,F=/\$([\w-]+)/g,j=function(e,t){return"string"===typeof e?e.replace(F,(function(e,n){return n in t?t[n]:e})):e},Z=function(e,t,n){var r=e[t],i=j(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&M.test(e)?new L(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Z(e,"animation-name",n.keyframes),"animation"in e&&Z(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return j(e,r.keyframes);default:return e}}},B=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.key,this.style,n)},t}(I),V={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new B(e,t,n):null}},q=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=k(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=w(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return w(this.at,this.style,e)},e}(),z=/@font-face/,W={onCreateRule:function(e,t,n){return z.test(e)?new q(e,t,n):null}},G=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return w(this.key,this.style,e)},e}(),K={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,n):null}},H=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},Y={onCreateRule:function(e,t,n){return e in Q?new H(e,t,n):null}},J=[S,P,U,V,W,K,Y],X={process:!0},$={force:!0,process:!0},ee=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,h=(0,r.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(h.selector="."+E(this.classes[f]));var d=m(f,t,h);if(!d)return null;this.register(d);var p=void 0===h.index?this.index.length:h.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),a=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==a&&(o=(0,r.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof L&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof L&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,$)}for(var l in s){var h=t.style[l],f=s[l];null==h&&h!==f&&t.prop(l,null,$)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=k(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),te=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ee(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ne=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),re=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=k(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ie=new re,ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),oe="2f1acc6c3a606b082e5eef5e54414ffb";null==ae[oe]&&(ae[oe]=0);var se=ae[oe]++,ue=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+se+i+t:a+n.key+"-"+se+(i?"-"+i:"")+"-"+t}},ce=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},he=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},fe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},pe=ce((function(){return document.querySelector("head")}));function ve(e){var t=ie.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=pe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var me=ce((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ye=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ge=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ke=function(){function e(e){this.getPropertyValue=le,this.setProperty=he,this.removeProperty=fe,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ie.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=me();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ve(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else pe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ge(n,t);if(!1===(i=ye(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=ge(n,t),u=ye(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof te&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,we=function(){function e(e){this.id=be++,this.version="10.9.2",this.plugins=new ne,this.options={id:{minify:!1},createGenerateId:ue,Renderer:c?ke:null,plugins:[]},this.generateId=ue({minify:!1});for(var t=0;t<J.length;t++)this.plugins.use(J[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ie.index?0:ie.index+1);var i=new te(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ie.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=m(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new we(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ee(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ee(r);a&&(t||(t={}),t[n]=a)}}return t}_e();function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Te={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Se=Te,Ce=n(4576),Ne="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ae=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Re=Date.now(),Pe="fnValues"+Re,De="fnStyle"+ ++Re,Oe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=m(e,{},n);return r[De]=t,r},onProcessStyle:function(e,t){if(Pe in t||De in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Pe]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[De];a&&(i.style=a(e)||{});var o=i[Pe];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Le="@global",Me="@global ",Fe=function(){function e(e,t,n){for(var i in this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),je=function(){function e(e,t,n){this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(Me.length);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ze=/\s*,\s*/g;function Ue(e,t){for(var n=e.split(Ze),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Be=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Le)return new Fe(e,t,n);if("@"===e[0]&&e.substr(0,Me.length)===Me)return new je(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,a=i?i[Le]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,r.Z)({},n,{selector:Ue(o,e.selector)}));delete i[Le]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var a in i)if("@"===a[0]&&a.substr(0,Le.length)===Le){var o=Ue(a.substr(Le.length),e.selector);t.addRule(o,i[a],(0,r.Z)({},n,{selector:o})),delete i[a]}}(e,t))}}},Ve=/\s*,\s*/g,qe=/&/g,ze=/\$([\w-]+)/g;var We=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ve),r=e.split(Ve),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(qe,o):o+" "+u}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(i,a,o){if("style"!==a.type)return i;var s,u,c=a,l=c.options.parent;for(var h in i){var f=-1!==h.indexOf("&"),d="@"===h[0];if(f||d){if(s=n(c,l,s),f){var p=t(h,c.selector);u||(u=e(l,o)),p=p.replace(ze,u);var v=c.key+"-"+h;"replaceRule"in l?l.replaceRule(v,i[h],(0,r.Z)({},s,{selector:p})):l.addRule(v,i[h],(0,r.Z)({},s,{selector:p}))}else d&&l.addRule(h,{},s).addRule(c.key,i[h],{selector:c.selector});delete i[h]}}return i}}},Ge=/[A-Z]/g,Ke=/^ms-/,He={};function Qe(e){return"-"+e.toLowerCase()}var Ye=function(e){if(He.hasOwnProperty(e))return He[e];var t=e.replace(Ge,Qe);return He[e]=Ke.test(t)?"-"+t:t};function Je(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ye(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Je):t.fallbacks=Je(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Je(e[t]);return e}return Je(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ye(t);return t===r?e:(n.prop(r,e),null)}}},$e=xe&&CSS?CSS.px:"px",et=xe&&CSS?CSS.ms:"ms",tt=xe&&CSS?CSS.percent:"%";function nt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var rt=nt({"animation-delay":et,"animation-duration":et,"background-position":$e,"background-position-x":$e,"background-position-y":$e,"background-size":$e,border:$e,"border-bottom":$e,"border-bottom-left-radius":$e,"border-bottom-right-radius":$e,"border-bottom-width":$e,"border-left":$e,"border-left-width":$e,"border-radius":$e,"border-right":$e,"border-right-width":$e,"border-top":$e,"border-top-left-radius":$e,"border-top-right-radius":$e,"border-top-width":$e,"border-width":$e,"border-block":$e,"border-block-end":$e,"border-block-end-width":$e,"border-block-start":$e,"border-block-start-width":$e,"border-block-width":$e,"border-inline":$e,"border-inline-end":$e,"border-inline-end-width":$e,"border-inline-start":$e,"border-inline-start-width":$e,"border-inline-width":$e,"border-start-start-radius":$e,"border-start-end-radius":$e,"border-end-start-radius":$e,"border-end-end-radius":$e,margin:$e,"margin-bottom":$e,"margin-left":$e,"margin-right":$e,"margin-top":$e,"margin-block":$e,"margin-block-end":$e,"margin-block-start":$e,"margin-inline":$e,"margin-inline-end":$e,"margin-inline-start":$e,padding:$e,"padding-bottom":$e,"padding-left":$e,"padding-right":$e,"padding-top":$e,"padding-block":$e,"padding-block-end":$e,"padding-block-start":$e,"padding-inline":$e,"padding-inline-end":$e,"padding-inline-start":$e,"mask-position-x":$e,"mask-position-y":$e,"mask-size":$e,height:$e,width:$e,"min-height":$e,"max-height":$e,"min-width":$e,"max-width":$e,bottom:$e,left:$e,top:$e,right:$e,inset:$e,"inset-block":$e,"inset-block-end":$e,"inset-block-start":$e,"inset-inline":$e,"inset-inline-end":$e,"inset-inline-start":$e,"box-shadow":$e,"text-shadow":$e,"column-gap":$e,"column-rule":$e,"column-rule-width":$e,"column-width":$e,"font-size":$e,"font-size-delta":$e,"letter-spacing":$e,"text-decoration-thickness":$e,"text-indent":$e,"text-stroke":$e,"text-stroke-width":$e,"word-spacing":$e,motion:$e,"motion-offset":$e,outline:$e,"outline-offset":$e,"outline-width":$e,perspective:$e,"perspective-origin-x":tt,"perspective-origin-y":tt,"transform-origin":tt,"transform-origin-x":tt,"transform-origin-y":tt,"transform-origin-z":tt,"transition-delay":et,"transition-duration":et,"vertical-align":$e,"flex-basis":$e,"shape-margin":$e,size:$e,gap:$e,grid:$e,"grid-gap":$e,"row-gap":$e,"grid-row-gap":$e,"grid-column-gap":$e,"grid-template-rows":$e,"grid-template-columns":$e,"grid-auto-rows":$e,"grid-auto-columns":$e,"box-shadow-x":$e,"box-shadow-y":$e,"box-shadow-blur":$e,"box-shadow-spread":$e,"font-line-height":$e,"text-shadow-x":$e,"text-shadow-y":$e,"text-shadow-blur":$e});function it(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=it(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=it(i,t[i],n);else for(var a in t)t[a]=it(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||rt[e];return!o||0===t&&o===$e?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var at=function(e){void 0===e&&(e={});var t=nt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=it(r,e[r],t);return e},onChangeValue:function(e,n){return it(n,e,t)}}},ot=n(3433),st="",ut="",ct="",lt="",ht=c&&"ontouchstart"in document.documentElement;if(c){var ft={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var pt in ft)if(pt+"Transform"in dt){st=pt,ut=ft[pt];break}"Webkit"===st&&"msHyphens"in dt&&(st="ms",ut=ft.ms,lt="edge"),"Webkit"===st&&"-apple-trailing-word"in dt&&(ct="apple")}var vt=st,mt=ut,yt=ct,gt=lt,kt=ht;var bt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===vt?"-webkit-"+e:mt+e)}},wt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===vt?mt+"print-"+e:e)}},_t=/[-\s]+(.)?/g;function xt(e,t){return t?t.toUpperCase():""}function Et(e){return e.replace(_t,xt)}function It(e){return Et("-"+e)}var Tt,St={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===vt){var n="mask-image";if(Et(n)in t)return e;if(vt+It(n)in t)return mt+e}return e}},Ct={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==yt||kt?e:mt+e)}},Nt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:mt+e)}},At={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:mt+e)}},Rt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===vt||"ms"===vt&&"edge"!==gt?mt+e:e)}},Pt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===vt||"ms"===vt||"apple"===yt?mt+e:e)}},Dt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===vt?"WebkitColumn"+It(e)in t&&mt+"column-"+e:"Moz"===vt&&("page"+It(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===vt)return e;var n=e.replace("-inline","");return vt+It(n)in t&&mt+n}},Lt={supportedProperty:function(e,t){return Et(e)in t&&e}},Mt={supportedProperty:function(e,t){var n=It(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:vt+n in t?mt+e:"Webkit"!==vt&&"Webkit"+n in t&&"-webkit-"+e}},Ft={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===vt?""+mt+e:e)}},jt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===vt?mt+"scroll-chaining":e)}},Zt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ut={supportedProperty:function(e,t){var n=Zt[e];return!!n&&(vt+It(n)in t&&mt+n)}},Bt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Vt=Object.keys(Bt),qt=function(e){return mt+e},zt={supportedProperty:function(e,t,n){var r=n.multiple;if(Vt.indexOf(e)>-1){var i=Bt[e];if(!Array.isArray(i))return vt+It(i)in t&&mt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(vt+It(i[0])in t))return!1;return i.map(qt)}return!1}},Wt=[bt,wt,St,Ct,Nt,At,Rt,Pt,Dt,Ot,Lt,Mt,Ft,jt,Ut,zt],Gt=Wt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Kt=Wt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,ot.Z)(t.noPrefill)),e}),[]),Ht={};if(c){Tt=document.createElement("p");var Qt=window.getComputedStyle(document.documentElement,"");for(var Yt in Qt)isNaN(Yt)||(Ht[Qt[Yt]]=Qt[Yt]);Kt.forEach((function(e){return delete Ht[e]}))}function Jt(e,t){if(void 0===t&&(t={}),!Tt)return e;if(null!=Ht[e])return Ht[e];"transition"!==e&&"transform"!==e||(t[e]=e in Tt.style);for(var n=0;n<Gt.length&&(Ht[e]=Gt[n](e,Tt.style,t),!Ht[e]);n++);try{Tt.style[e]=""}catch(r){return!1}return Ht[e]}var Xt,$t={},en={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},tn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function nn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Jt(t):", "+Jt(n);return r||(t||n)}function rn(e,t){var n=t;if(!Xt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=$t[r])return $t[r];try{Xt.style[e]=n}catch(i){return $t[r]=!1,!1}if(en[e])n=n.replace(tn,nn);else if(""===Xt.style[e]&&("-ms-flex"===(n=mt+n)&&(Xt.style[e]="-ms-flexbox"),Xt.style[e]=n,""===Xt.style[e]))return $t[r]=!1,!1;return Xt.style[e]="",$t[r]=n,$t[r]}c&&(Xt=document.createElement("p"));var an=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Jt(n);a&&a!==n&&(i=!0);var o=!1,s=rn(a,g(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===vt?e:"@"+mt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return rn(t,g(e))||e}}};var on=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var sn=_e({plugins:[Oe(),Be(),We(),Xe(),at(),"undefined"===typeof window?null:an(),on()]}),un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ae.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Ne]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),cn={disableGeneration:!1,generateClassName:un,jss:sn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},ln=a.createContext(cn);var hn=-1e9;function fn(){return hn+=1}var dn=n(687);function pn(e){var t="function"===typeof e;return{create:function(n,i){var a;try{a=t?e(n):e}catch(u){throw u}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],s=(0,r.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,dn.Z)(s[e],o[e])})),s},options:{}}}var vn={};function mn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ie({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function yn(e,t){var n=e.state,i=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var u=Se.get(a.sheetsManager,o,i);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Se.set(a.sheetsManager,o,i,u));var c=(0,r.Z)({},o.options,a,{theme:i,flip:"boolean"===typeof a.flip?a.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=a.sheetsRegistry;if(0===u.refs){var h;a.sheetsCache&&(h=Se.get(a.sheetsCache,o,i));var f=o.create(i,s);h||((h=a.jss.createStyleSheet(f,(0,r.Z)({link:!1},c))).attach(),a.sheetsCache&&Se.set(a.sheetsCache,o,i,h)),l&&l.add(h),u.staticSheet=h,u.dynamicStyles=Ee(f)}if(u.dynamicStyles){var d=a.jss.createStyleSheet(u.dynamicStyles,(0,r.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ie({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function gn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function kn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Se.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Se.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function bn(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?vn:u,l=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),h=pn(e),f=n||o||"makeStyles";h.options={index:fn(),name:n,meta:f,classNamePrefix:f};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ce.Z)()||c,i=(0,r.Z)({},a.useContext(ln),l),o=a.useRef(),u=a.useRef();bn((function(){var r={name:n,state:{},stylesCreator:h,stylesOptions:i,theme:t};return yn(r,e),u.current=!1,o.current=r,function(){kn(r)}}),[t,h]),a.useEffect((function(){u.current&&gn(o.current,e),u.current=!0}));var f=mn(o.current,e.classes,s);return f};return d}var _n=n(358),xn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,u=t.withTheme,c=void 0!==u&&u,l=t.name,h=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var f=l,d=wn(e,(0,r.Z)({defaultTheme:o,Component:n,name:l||n.displayName,classNamePrefix:f},h)),p=a.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,h=(0,i.Z)(e,["classes","innerRef"]),f=d((0,r.Z)({},n.defaultProps,e)),p=h;return("string"===typeof l||c)&&(s=(0,Ce.Z)()||o,l&&(p=(0,_n.Z)({theme:s,name:l,props:h})),c&&!p.theme&&(p.theme=s)),a.createElement(n,(0,r.Z)({ref:u||t,classes:f},p))}));return s()(p,n),p}},En=n(8189);var In=function(e,t){return xn(e,(0,r.Z)({defaultTheme:En.Z},t))}},9535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2929);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},3969:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return f},debounce:function(){return d.Z},deprecatedPropType:function(){return p},isMuiElement:function(){return v.Z},ownerDocument:function(){return m.Z},ownerWindow:function(){return y.Z},requirePropFactory:function(){return g},setRef:function(){return k.Z},unstable_useId:function(){return E},unsupportedProp:function(){return b},useControlled:function(){return w},useEventCallback:function(){return _.Z},useForkRef:function(){return x.Z},useIsFocusVisible:function(){return I.Z}});var r=n(1122),i=n(7545),a=n(7462),o=n(2791),s=n(5987),u=n(8182),c=n(9615),l=o.forwardRef((function(e,t){var n=e.children,i=e.classes,c=e.className,l=e.color,h=void 0===l?"inherit":l,f=e.component,d=void 0===f?"svg":f,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,b=(0,s.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(d,(0,a.Z)({className:(0,u.Z)(i.root,c,"inherit"!==h&&i["color".concat((0,r.Z)(h))],"default"!==v&&"medium"!==v&&i["fontSize".concat((0,r.Z)(v))]),focusable:"false",viewBox:k,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},b),n,y?o.createElement("title",null,y):null)}));l.muiName="SvgIcon";var h=(0,c.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function f(e,t){var n=function(t,n){return o.createElement(h,(0,a.Z)({ref:n},t),e)};return n.muiName=h.muiName,o.memo(o.forwardRef(n))}var d=n(503);function p(e,t){return function(){return null}}var v=n(3375),m=n(4667),y=n(7636);function g(e){return function(){return null}}var k=n(1565);function b(e,t,n,r,i){return null}function w(e){var t=e.controlled,n=e.default,r=(e.name,e.state,o.useRef(void 0!==t).current),i=o.useState(n),a=i[0],s=i[1];return[r?t:a,o.useCallback((function(e){r||s(e)}),[])]}var _=n(2216),x=n(9806);function E(e){var t=o.useState(e),n=t[0],r=t[1],i=e||n;return o.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var I=n(1175)},3375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},4667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4667);function i(e){return(0,r.Z)(e).defaultView||window}},1565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},9806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(1565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},1175:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(2791),i=n(4164),a=!0,o=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function h(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:f,onBlurVisible:d,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",h,!0))}),[])}}},358:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},4576:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791);var i=r.createContext(null);function a(){return r.useContext(i)}},687:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462),i=n(1002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},2929:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},4378:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"CameraAlt");t.Z=o},14:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},7595:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},9704:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook");t.Z=o},3155:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentity");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(3969)},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var Z=!1;function U(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Se(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Ee)&&(Ne(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ze=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,It,Tt=!1,St=[],Ct=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Zt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Rt.forEach(Zt),Pt.forEach(Zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<St.length){Bt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(zt){var i=Qt(e,t,n,r);if(null===i)zr(e,t,r,Ht,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,$t=null;function en(){if($t)return $t;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=F({},cn,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},hn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return En}var Tn=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Hn(e){jr(e,0)}function Qn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Xn=$n}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Re(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Ir(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Ir("animationend"),Sr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),u(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ze=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ze,je=!1,Ze=null,e}function Zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Sr:case Cr:u=yn;break;case Nr:u=An;break;case"scroll":u=fn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Pe(p,f))&&l.push(Wr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=f;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Kr(l),f=Kr(f)}l=null}else l=null;null!==u&&Hr(o,s,u,l,!1),null!==c&&null!==h&&Hr(o,h,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(zn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Vn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Zn=!0,jn);case"textInput":return(e=t.data)===jn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),$t=Xt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Ii(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Si={},Ci=Ei(Si),Ni=Ei(!1),Ai=Si;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ni),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ti(Ci,e)):Ii(Ni),Ti(Ni,n)}var ji=null,Zi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke($e,Vi),i}finally{kt=t,Ui=!1}}return null}var qi=[],zi=0,Wi=null,Gi=0,Ki=[],Hi=0,Qi=null,Yi=1,Ji="";function Xi(e,t){qi[zi++]=Gi,qi[zi++]=Wi,Wi=e,Gi=t}function $i(e,t,n){Ki[Hi++]=Yi,Ki[Hi++]=Ji,Ki[Hi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--zi],qi[zi]=null,Gi=qi[--zi],qi[zi]=null;for(;e===Qi;)Qi=Ki[--Hi],Ki[Hi]=null,Ji=Ki[--Hi],Ki[Hi]=null,Yi=Ki[--Hi],Ki[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ii(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Sa(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=h}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Za,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=m}if(v===s.length)return n(i,h),ia&&Xi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Xi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===h?l=k:h.sibling=k,h=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Oc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),Ja=Qa(!1),Xa={},$a=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti($a,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Ti($a,t)}function io(){Ii($a),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti($a,n))}function oo(e){eo.current===e&&(Ii($a),Ii(eo))}var so=Ei(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(ko)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=So(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,zo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Zo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return So().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Zo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Zo(t,n,a,r))}vo.flags|=e,i.memoizedState=Zo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function zo(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{kt=n,fo.transition=r}}function es(){return So().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Sa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ia,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ia,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Zo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(So(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],So().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Wu=r),fs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ss(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ri(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Cs(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ri(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&za(t,o,r,c),Aa=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Aa||Va(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ia(u):u=Ri(t,u=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&za(t,o,r,u),Aa=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Aa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Aa||Va(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),zs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Zs(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Zs(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Zs(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Hi++]=Yi,Ki[Hi++]=Ji,Ki[Hi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Zs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no($a.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Zr(Lr[i],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":Y(r,o),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zr("invalid",r);break;case"textarea":ie(r,o),Zr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Zr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),i=r;break;case"iframe":case"object":case"embed":Zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Zr(Lr[i],e);i=r;break;case"source":Zr("error",e),i=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),i=r;break;case"details":Zr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Zr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Zr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ii(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ii(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Hs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Zr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||$s(n,t);case 6:var r=lu,i=hu;lu=null,fu(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Vt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ys&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fu(e,t,n),Ys=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ec(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||h,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Xs=e,h=e.child;null!==h;){for(f=Xs=h;null!==Xs;){switch(p=(d=Xs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Xs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Xs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Qs;var c=Ys;if(Qs=o,(Ys=u)&&!c)for(Xs=i;null!==Xs;)u=(o=Xs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Xs=u):_u(i);for(;null!==a;)Xs=a,ku(a,t,n),a=a.sibling;Xs=i,Qs=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xs=a):bu(e)}}function bu(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function _u(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var xu,Eu=Math.ceil,Iu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Su=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Au=null,Ru=0,Pu=0,Du=Ei(0),Ou=0,Lu=null,Mu=0,Fu=0,ju=0,Zu=null,Uu=null,Bu=0,Vu=1/0,qu=null,zu=!1,Wu=null,Gu=null,Ku=!1,Hu=null,Qu=0,Yu=0,Ju=null,Xu=-1,$u=0;function ec(){return 0!==(6&Cu)?Je():-1!==Xu?Xu:Xu=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(Fu|=n),4===Ou&&sc(e,Ru)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Vu=Je()+500,Zi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Nu?Ru:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Zi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,$u=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Nu===e&&Ru===t||(qu=null,Vu=Je()+500,fc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Iu.current=o,Cu=i,null!==Au?t=0:(Nu=null,Ru=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,fc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,fc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Uu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Uu,qu),t);break}wc(e,Uu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Uu,qu),r);break}wc(e,Uu,qu);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Zu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Uu,Uu=n,null!==t&&oc(t)),e}function oc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ft(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,fc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uu,qu),rc(e,Je()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Vu=Je()+500,Zi&&Vi())}}function lc(e){null!==Hu&&0===Hu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Su.transition,r=kt;try{if(Su.transition=null,kt=1,e)return e()}finally{kt=r,Su.transition=n,0===(6&(Cu=t))&&Vi()}}function hc(){Pu=Du.current,Ii(Du)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Au=e=Dc(e.current,null),Ru=Pu=t,Ou=0,Lu=null,ju=Fu=Mu=0,Uu=Zu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wa(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Ou=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Ou&&(Ou=2),null===Zu?Zu=[o]:Zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gu||!Gu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Nu,Ru)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Nu===e&&Ru===t||(qu=null,fc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cu=n,Iu.current=r,null!==Au)throw Error(a(261));return Nu=null,Ru=0,Ou}function yc(){for(;null!==Au;)kc(Au)}function gc(){for(;null!==Au&&!Qe();)kc(Au)}function kc(e){var t=xu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Tu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=kt,i=Su.transition;try{Su.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Hu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Su.transition,Su.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=zt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Cu=u,kt=s,Su.transition=o}else e.current=n;if(Ku&&(Ku=!1,Hu=e,Qu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=Wu,Wu=null,e;0!==(1&Qu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Ju?Yu++:(Yu=0,Ju=e):Yu=0,Vi()}(e,t,n,r)}finally{Su.transition=i,kt=r}return null}function _c(){if(null!==Hu){var e=bt(Qu),t=Su.transition,n=kt;try{if(Su.transition=null,kt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Qu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Xs=e.current;null!==Xs;){var o=Xs,s=o.child;if(0!==(16&Xs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var h=Xs;switch(h.tag){case 0:case 11:case 15:nu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Xs=f;else for(;null!==Xs;){var d=(h=Xs).sibling,p=h.return;if(au(h),h===l){Xs=null;break}if(null!==d){d.return=p,Xs=d;break}Xs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(o=Xs).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xs=g;break e}Xs=o.return}}var k=e.current;for(Xs=k;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=k;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Xs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Xs=w;break e}Xs=u.return}}if(Cu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Su.transition=t}}return!1}function xc(e,t,n){e=Oa(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Oa(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===Ou||3===Ou&&(130023424&Ru)===Ru&&500>Je()-Bu?fc(e,0):ju|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case S:s=9;break e;case C:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Zc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Si;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Vc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function zc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=zs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return zs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=zs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Is(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Vr(8===e.nodeType?e.parentNode:e),lc((function(){zc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){zc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cu)&&(Vu=Je()+500,Vi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Se,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,h=60120,f=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),h=k("react.suspense_list"),f=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case f:case s:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,I=null,T=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?x():(E=!1,I=null)}}else E=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,x=function(){P.postMessage(null)}}else x=function(){y(A,0)};function D(e){I=e,E||(E=!0,x())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,O(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/InstagramClone/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return H},SDK_VERSION:function(){return mt},_DEFAULT_ENTRY_NAME:function(){return rt},_addComponent:function(){return st},_addOrOverwriteComponent:function(){return ut},_apps:function(){return at},_clearComponents:function(){return ft},_components:function(){return ot},_getProvider:function(){return lt},_registerComponent:function(){return ct},_removeServiceInstance:function(){return ht},deleteApp:function(){return bt},getApp:function(){return gt},getApps:function(){return kt},initializeApp:function(){return yt},onLog:function(){return xt},registerVersion:function(){return _t},setLogLevel:function(){return Et}});var t=n(2791),r=n(1250),i=n(9439),a=n(1002);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function h(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),s=new S(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=h;var d={};function p(){}function v(){}function m(){}var y={};l(y,s,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(C([])));k&&k!==t&&n.call(k,s)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function i(r,o,s,u){var c=f(e[r],e,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==(0,a.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(h(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Pc){return void n(Pc)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}var c=n(4942);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=n(3144),f=n(181);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,f.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var p=n(7326),v=n(9611);function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,v.Z)(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,p.Z)(e)}function b(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e,t,n){return w=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,v.Z)(i,n.prototype),i},w.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return w(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,v.Z)(n,e)},_(e)}var x=!1,E=!1,I="${JSCORE_VERSION}",T=function(e,t){if(!e)throw S(t)},S=function(e){return new Error("Firebase Database ("+I+") INTERNAL ASSERT FAILED: "+e)},C=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(C(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new A;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},A=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,h.Z)(n)}(_(Error)),R=function(e){var t=C(e);return N.encodeByteArray(t,!0)},P=function(e){return R(e).replace(/\./g,"")},D=function(e){try{return N.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function O(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=O(e[n],t[n]));return e}var L=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},M=function(){try{return L()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/InstagramClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&D(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},F=function(){var e;return null===(e=M())||void 0===e?void 0:e.config},j=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,h.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Z(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[P(JSON.stringify({alg:"none",type:"JWT"})),P(JSON.stringify(a)),""].join(".")}function U(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function B(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(U())}function V(){var e,t=null===(e=M())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function q(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function z(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function W(){var e=U();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function G(){return!0===x||!0===E}function K(){try{return"object"===typeof indexedDB}catch(e){return!1}}var H=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,p.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,p.Z)(a),Q.prototype.create),a}return(0,h.Z)(n)}(_(Error)),Q=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,h.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Y(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new H(n,a,t);return o}}]),e}();function Y(e,t){return e.replace(J,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var J=/\{\$([^}]+)}/g;function X(e){return JSON.parse(e)}function $(e){return JSON.stringify(e)}var ee=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=X(D(a[0])||""),n=X(D(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function re(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ie(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ae(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(oe(s)&&oe(u)){if(!ae(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function oe(e){return null!==e&&"object"===typeof e}function se(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function ue(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function ce(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var le=function(){function e(){l(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return(0,h.Z)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function he(e,t){var n=new fe(e,t);return n.subscribe.bind(n)}var fe=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,h.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=d(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=de),void 0===r.error&&(r.error=de),void 0===r.complete&&(r.complete=de);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function de(){}var pe=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ve(e,t){return"".concat(e," failed: ").concat(t," argument ")}function me(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ve(e,t)+"must be a valid function.")}function ye(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ve(e,t)+"must be a valid context object.")}var ge=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ke(e){return e&&e._delegate?e._delegate:e}var be=n(3433),we=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,h.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),_e="[DEFAULT]",xe=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,h.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new j;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_e})}catch(c){}var t,n=d(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,be.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,be.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=d(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=(0,i.Z)(a.value,2),c=u[0],l=u[1],h=this.normalizeInstanceIdentifier(c);r===h&&l.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(RA){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_e?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(RA){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.component?this.component.multipleInstances?e:_e:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ee,Ie,Te=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return(0,h.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Se=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ie||(Ie={}));var Ce={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Ne=Ie.INFO,Ae=(Ee={},(0,c.Z)(Ee,Ie.DEBUG,"log"),(0,c.Z)(Ee,Ie.VERBOSE,"log"),(0,c.Z)(Ee,Ie.INFO,"info"),(0,c.Z)(Ee,Ie.WARN,"warn"),(0,c.Z)(Ee,Ie.ERROR,"error"),Ee),Re=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ae[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Pe=function(){function e(t){l(this,e),this.name=t,this._logLevel=Ne,this._logHandler=Re,this._userLogHandler=null,Se.push(this)}return(0,h.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ie))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ie.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ie.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ie.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ie.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ie.INFO].concat(t)),this._logHandler.apply(this,[this,Ie.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ie.WARN].concat(t)),this._logHandler.apply(this,[this,Ie.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ie.ERROR].concat(t)),this._logHandler.apply(this,[this,Ie.ERROR].concat(t))}}]),e}();function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le,Me;var Fe=new WeakMap,je=new WeakMap,Ze=new WeakMap,Ue=new WeakMap,Be=new WeakMap;var Ve={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return je.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ze.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return We(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ge(this),n),We(Fe.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return We(e.apply(Ge(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ge(this),t].concat(r));return Ze.set(a,t.sort?t.sort():[t]),We(a)}}function ze(e){return"function"===typeof e?qe(e):(e instanceof IDBTransaction&&function(e){if(!je.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));je.set(e,t)}}(e),t=e,(Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ve):e);var t}function We(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(We(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Fe.set(t,e)})).catch((function(){})),Be.set(t,e),t}(e);if(Ue.has(e))return Ue.get(e);var t=ze(e);return t!==e&&(Ue.set(e,t),Be.set(t,e)),t}var Ge=function(e){return Be.get(e)};var Ke,He,Qe=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Je=new Map;function Xe(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Je.get(t))return Je.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ye.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Qe.includes(n))){var a=function(){var e=u(o().mark((function e(t){var a,s,u,c,l,h,f=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=f.length,l=new Array(c>1?c-1:0),h=1;h<c;h++)l[h-1]=f[h];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Je.set(t,a),a}}}Ve=function(e){return Oe(Oe({},e),{},{get:function(t,n,r){return Xe(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xe(t,n)||e.has(t,n)}})}(Ve);var $e=function(){function e(t){l(this,e),this.container=t}return(0,h.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var et="@firebase/app",tt="0.9.4",nt=new Pe("@firebase/app"),rt="[DEFAULT]",it=(Ke={},(0,c.Z)(Ke,et,"fire-core"),(0,c.Z)(Ke,"@firebase/app-compat","fire-core-compat"),(0,c.Z)(Ke,"@firebase/analytics","fire-analytics"),(0,c.Z)(Ke,"@firebase/analytics-compat","fire-analytics-compat"),(0,c.Z)(Ke,"@firebase/app-check","fire-app-check"),(0,c.Z)(Ke,"@firebase/app-check-compat","fire-app-check-compat"),(0,c.Z)(Ke,"@firebase/auth","fire-auth"),(0,c.Z)(Ke,"@firebase/auth-compat","fire-auth-compat"),(0,c.Z)(Ke,"@firebase/database","fire-rtdb"),(0,c.Z)(Ke,"@firebase/database-compat","fire-rtdb-compat"),(0,c.Z)(Ke,"@firebase/functions","fire-fn"),(0,c.Z)(Ke,"@firebase/functions-compat","fire-fn-compat"),(0,c.Z)(Ke,"@firebase/installations","fire-iid"),(0,c.Z)(Ke,"@firebase/installations-compat","fire-iid-compat"),(0,c.Z)(Ke,"@firebase/messaging","fire-fcm"),(0,c.Z)(Ke,"@firebase/messaging-compat","fire-fcm-compat"),(0,c.Z)(Ke,"@firebase/performance","fire-perf"),(0,c.Z)(Ke,"@firebase/performance-compat","fire-perf-compat"),(0,c.Z)(Ke,"@firebase/remote-config","fire-rc"),(0,c.Z)(Ke,"@firebase/remote-config-compat","fire-rc-compat"),(0,c.Z)(Ke,"@firebase/storage","fire-gcs"),(0,c.Z)(Ke,"@firebase/storage-compat","fire-gcs-compat"),(0,c.Z)(Ke,"@firebase/firestore","fire-fst"),(0,c.Z)(Ke,"@firebase/firestore-compat","fire-fst-compat"),(0,c.Z)(Ke,"fire-js","fire-js"),(0,c.Z)(Ke,"firebase","fire-js-all"),Ke),at=new Map,ot=new Map;function st(e,t){try{e.container.addComponent(t)}catch(n){nt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ut(e,t){e.container.addOrOverwriteComponent(t)}function ct(e){var t=e.name;if(ot.has(t))return nt.debug("There were multiple attempts to register component ".concat(t,".")),!1;ot.set(t,e);var n,r=d(at.values());try{for(r.s();!(n=r.n()).done;){st(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt;lt(e,t).clearInstance(n)}function ft(){ot.clear()}var dt=(He={},(0,c.Z)(He,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,c.Z)(He,"bad-app-name","Illegal App name: '{$appName}"),(0,c.Z)(He,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,c.Z)(He,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,c.Z)(He,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,c.Z)(He,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,c.Z)(He,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,c.Z)(He,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(He,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(He,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(He,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),He),pt=new Q("app","Firebase",dt),vt=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new we("app",(function(){return i}),"PUBLIC"))}return(0,h.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw pt.create("app-deleted",{appName:this._name})}}]),e}(),mt="9.17.2";function yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:rt,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw pt.create("bad-app-name",{appName:String(a)});if(n||(n=F()),!n)throw pt.create("no-options");var o=at.get(a);if(o){if(ae(n,o.options)&&ae(i,o.config))return o;throw pt.create("duplicate-app",{appName:a})}var s,u=new Te(a),c=d(ot.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(f){c.e(f)}finally{c.f()}var h=new vt(n,i,u);return at.set(a,h),h}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=at.get(e);if(!t&&e===rt)return yt();if(!t)throw pt.create("no-app",{appName:e});return t}function kt(){return Array.from(at.values())}function bt(e){return wt.apply(this,arguments)}function wt(){return(wt=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!at.has(n)){e.next=6;break}return at.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t,n){var r,i=null!==(r=it[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nt.warn(s.join(" "))}ct(new we("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xt(e,t){if(null!==e&&"function"!==typeof e)throw pt.create("invalid-log-argument");!function(e,t){var n,r=d(Se);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ie[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Et(e){var t;t=e,Se.forEach((function(e){e.setLogLevel(t)}))}var It="firebase-heartbeat-store",Tt=null;function St(){return Tt||(Tt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=We(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(We(s.result),e.oldVersion,e.newVersion,We(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(It)}}).catch((function(e){throw pt.create("idb-open",{originalErrorMessage:e.message})}))),Tt}function Ct(e){return Nt.apply(this,arguments)}function Nt(){return Nt=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St();case 3:return n=e.sent,e.abrupt("return",n.transaction(It).objectStore(It).get(Pt(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof H?nt.warn(e.t0.message):(r=pt.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),nt.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Nt.apply(this,arguments)}function At(e,t){return Rt.apply(this,arguments)}function Rt(){return Rt=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St();case 3:return r=e.sent,i=r.transaction(It,"readwrite"),a=i.objectStore(It),e.next=8,a.put(n,Pt(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof H?nt.warn(e.t0.message):(s=pt.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),nt.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Rt.apply(this,arguments)}function Pt(e){return"".concat(e.name,"!").concat(e.options.appId)}var Dt=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new jt(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,h.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ot(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ot(),n=Lt(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=P(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ot(){return(new Date).toISOString().substring(0,10)}function Lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=d(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zt(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Zt(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Mt,Ft,jt=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,h.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Pc){t(Pc)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ct(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",At(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,be.Z)(r.heartbeats),(0,be.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zt(e){return P(JSON.stringify({version:2,heartbeats:e})).length}Mt="",ct(new we("platform-logger",(function(e){return new $e(e)}),"PRIVATE")),ct(new we("heartbeat",(function(e){return new Dt(e)}),"PRIVATE")),_t(et,tt,Mt),_t(et,tt,"esm2017"),_t("fire-js","");var Ut=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,st(t,new we("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,h.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),bt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){st(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ut(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Bt=(Ft={},(0,c.Z)(Ft,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,c.Z)(Ft,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ft),Vt=new Q("app-compat","Firebase",Bt);var qt=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(te(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:_t,setLogLevel:Et,onLog:xt,apps:null,SDK_VERSION:mt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ct(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Vt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&O(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!te(n,e=e||rt))throw Vt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ut);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){O(n,e)},createSubscribe:he,ErrorFactory:Q,deepExtend:O}),n}(),zt=new Pe("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wt=self.firebase.SDK_VERSION;Wt&&Wt.indexOf("LITE")>=0&&zt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gt=qt;!function(e){_t("@firebase/app-compat","0.2.4",e)}();Gt.registerVersion("firebase","9.17.2","app-compat");var Kt=n(3878),Ht=n(9199),Qt=n(5267);function Yt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function Jt(){return Jt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Yt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jt.apply(this,arguments)}function Xt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var $t;Object.create;var en="facebook.com",tn="github.com",nn="google.com",rn="password",an="twitter.com",on="EMAIL_SIGNIN",sn="PASSWORD_RESET",un="RECOVER_EMAIL",cn="REVERT_SECOND_FACTOR_ADDITION",ln="VERIFY_AND_CHANGE_EMAIL",hn="VERIFY_EMAIL";function fn(){return(0,c.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var dn=function(){var e;return e={},(0,c.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,c.Z)(e,"argument-error",""),(0,c.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,c.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,c.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,c.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,c.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,c.Z)(e,"cors-unsupported","This browser is not supported."),(0,c.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,c.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,c.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,c.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,c.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,c.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,c.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,c.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,c.Z)(e,"expired-action-code","The action code has expired."),(0,c.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,c.Z)(e,"internal-error","An internal AuthError has occurred."),(0,c.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,c.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,c.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,c.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,c.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,c.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,c.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,c.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,c.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,c.Z)(e,"invalid-email","The email address is badly formatted."),(0,c.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,c.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,c.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,c.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,c.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,c.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,c.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,c.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,c.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,c.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,c.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,c.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,c.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,c.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,c.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,c.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,c.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,c.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,c.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,c.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,c.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,c.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,c.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,c.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,c.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,c.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,c.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,c.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,c.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,c.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,c.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,c.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,c.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,c.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,c.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,c.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,c.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,c.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,c.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,c.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,c.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,c.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,c.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,c.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,c.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,c.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,c.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,c.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,c.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,c.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,c.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,c.Z)(e,"timeout","The operation has timed out."),(0,c.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,c.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,c.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,c.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,c.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,c.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,c.Z)(e,"unverified-email","The operation requires a verified email."),(0,c.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,c.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,c.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,c.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,c.Z)(e,"user-signed-out",""),(0,c.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,c.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,c.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},pn=fn,vn=new Q("auth","Firebase",fn()),mn=new Pe("@firebase/auth");function yn(e){if(mn.logLevel<=Ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mn.error.apply(mn,["Auth (".concat(mt,"): ").concat(e)].concat(n))}}function gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _n.apply(void 0,[e].concat(n))}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _n.apply(void 0,[e].concat(n))}function bn(e,t,n){var r=Object.assign(Object.assign({},pn()),(0,c.Z)({},t,n));return new Q("auth","Firebase",r).create(t,{appName:e.name})}function wn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gn(e,"argument-error"),bn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,be.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,be.Z)(o)))}return vn.create.apply(vn,[e].concat(n))}function xn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _n.apply(void 0,[t].concat(r))}}function En(e){var t="INTERNAL ASSERTION FAILED: "+e;throw yn(t),new Error(t)}function In(e,t){e||En(t)}var Tn=new Map;function Sn(e){In(e instanceof Function,"Expected a class definition");var t=Tn.get(e);return t?(In(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tn.set(e,t),t)}function Cn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nn(){return"http:"===An()||"https:"===An()}function An(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rn=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,In(n>t,"Short delay should be less than long delay!"),this.isMobile=B()||z()}return(0,h.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nn()||q()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Pn(e,t){In(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Dn=function(){function e(){l(this,e)}return(0,h.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),On=($t={},(0,c.Z)($t,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,c.Z)($t,"MISSING_CUSTOM_TOKEN","internal-error"),(0,c.Z)($t,"INVALID_IDENTIFIER","invalid-email"),(0,c.Z)($t,"MISSING_CONTINUE_URI","internal-error"),(0,c.Z)($t,"INVALID_PASSWORD","wrong-password"),(0,c.Z)($t,"MISSING_PASSWORD","internal-error"),(0,c.Z)($t,"EMAIL_EXISTS","email-already-in-use"),(0,c.Z)($t,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,c.Z)($t,"INVALID_IDP_RESPONSE","invalid-credential"),(0,c.Z)($t,"INVALID_PENDING_TOKEN","invalid-credential"),(0,c.Z)($t,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,c.Z)($t,"MISSING_REQ_TYPE","internal-error"),(0,c.Z)($t,"EMAIL_NOT_FOUND","user-not-found"),(0,c.Z)($t,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,c.Z)($t,"EXPIRED_OOB_CODE","expired-action-code"),(0,c.Z)($t,"INVALID_OOB_CODE","invalid-action-code"),(0,c.Z)($t,"MISSING_OOB_CODE","internal-error"),(0,c.Z)($t,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,c.Z)($t,"INVALID_ID_TOKEN","invalid-user-token"),(0,c.Z)($t,"TOKEN_EXPIRED","user-token-expired"),(0,c.Z)($t,"USER_NOT_FOUND","user-token-expired"),(0,c.Z)($t,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,c.Z)($t,"INVALID_CODE","invalid-verification-code"),(0,c.Z)($t,"INVALID_SESSION_INFO","invalid-verification-id"),(0,c.Z)($t,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,c.Z)($t,"MISSING_SESSION_INFO","missing-verification-id"),(0,c.Z)($t,"SESSION_EXPIRED","code-expired"),(0,c.Z)($t,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,c.Z)($t,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,c.Z)($t,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,c.Z)($t,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,c.Z)($t,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,c.Z)($t,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,c.Z)($t,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,c.Z)($t,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,c.Z)($t,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,c.Z)($t,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,c.Z)($t,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$t),Ln=new Rn(3e4,6e4);function Mn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Fn(e,t,n,r){return jn.apply(this,arguments)}function jn(){return jn=u(o().mark((function e(t,n,r,i){var a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",Zn(t,a,u(o().mark((function e(){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s={},i&&("GET"===n?s=i:a={body:JSON.stringify(i)}),u=se(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Dn.fetch()(qn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),jn.apply(this,arguments)}function Zn(e,t,n){return Un.apply(this,arguments)}function Un(){return Un=u(o().mark((function e(t,n,r){var a,s,u,c,l,h,f,d,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},On),n),e.prev=2,s=new zn(t),e.next=6,Promise.race([r(),s.promise]);case 6:return u=e.sent,s.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(c=e.sent))){e.next=13;break}throw Wn(t,"account-exists-with-different-credential",c);case 13:if(!u.ok||"errorMessage"in c){e.next=17;break}return e.abrupt("return",c);case 17:if(l=u.ok?c.errorMessage:c.error.message,h=l.split(" : "),f=(0,i.Z)(h,2),d=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Wn(t,"credential-already-in-use",c);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Wn(t,"email-already-in-use",c);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Wn(t,"user-disabled",c);case 29:if(v=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw bn(t,v,p);case 34:gn(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof H)){e.next=41;break}throw e.t0;case 41:gn(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Un.apply(this,arguments)}function Bn(e,t,n,r){return Vn.apply(this,arguments)}function Vn(){return Vn=u(o().mark((function e(t,n,r,i){var a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Fn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(s=e.sent)&&gn(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function qn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Pn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var zn=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(kn(n.auth,"network-request-failed"))}),Ln.get())}))}return(0,h.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Wn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=kn(e,t,r);return i.customData._tokenResponse=n,i}function Gn(e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Kn.apply(this,arguments)}function Hn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return Jn=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}function Xn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function $n(){return $n=u(o().mark((function e(t){var n,r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=ke(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xn((a=tr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),s="object"===typeof a.firebase?a.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Xn(er(a.auth_time)),issuedAtTime:Xn(er(a.iat)),expirationTime:Xn(er(a.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function er(e){return 1e3*Number(e)}function tr(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return yn("JWT malformed, contained fewer than 3 sections"),null;try{var s=D(a);return s?JSON.parse(s):(yn("Failed to decode base64 JWT payload"),null)}catch(u){return yn("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function nr(e,t){return rr.apply(this,arguments)}function rr(){return rr=u(o().mark((function e(t,n){var r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof H&&ir(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),rr.apply(this,arguments)}function ir(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ar=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,h.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),or=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,h.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Xn(this.lastLoginAt),this.creationTime=Xn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function sr(e){return ur.apply(this,arguments)}function ur(){return ur=u(o().mark((function e(t){var n,r,i,a,s,u,c,l,h,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,nr(t,Yn(r,{idToken:i}));case 6:xn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),s=a.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?hr(s.providerUserInfo):[],c=lr(t.providerData,u),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===c||void 0===c?void 0:c.length),f=!!l&&h,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new or(s.createdAt,s.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function cr(){return(cr=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ke(t),e.next=3,sr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,be.Z)(n),(0,be.Z)(t))}function hr(e){return e.map((function(e){var t=e.providerId,n=Xt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function fr(e,t){return dr.apply(this,arguments)}function dr(){return dr=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn(t,{},u(o().mark((function e(){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=se({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,s=i.apiKey,u=qn(t,a,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Dn.fetch()(u,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}var pr=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,h.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xn(e.idToken,"internal-error"),xn("undefined"!==typeof e.idToken,"internal-error"),xn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=tr(e);return xn(t,"internal-error"),xn("undefined"!==typeof t.exp,"internal-error"),xn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return En("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function vr(e,t){xn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var mr=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Xt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,be.Z)(a.providerData):[],this.metadata=new or(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,h.Z)(e,[{key:"getIdToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $n.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return cr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=u(o().mark((function e(t){var n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,sr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,nr(this,Gn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;xn(k&&x,t,"internal-error");var E=pr.fromJSON(this.name,x);xn("string"===typeof k,t,"internal-error"),vr(h,t.name),vr(f,t.name),xn("boolean"===typeof b,t,"internal-error"),xn("boolean"===typeof w,t,"internal-error"),vr(d,t.name),vr(p,t.name),vr(v,t.name),vr(m,t.name),vr(y,t.name),vr(g,t.name);var I=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,u=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new pr).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,sr(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),yr=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return(0,h.Z)(e,[{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();yr.type="NONE";var gr=yr;function kr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var br=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kr(this.userKey,a.apiKey,o),this.fullPersistenceKey=kr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,h.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?mr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=u(o().mark((function t(n,r){var i,a,s,c,l,h,f,p,v,m,y,g=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Sn(gr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||Sn(gr),c=kr(i,n.config.apiKey,n.name),l=null,h=d(r),t.prev=10,h.s();case 12:if((f=h.n()).done){t.next=29;break}return p=f.value,t.prev=14,t.next=17,p._get(c);case 17:if(!(v=t.sent)){t.next=23;break}return m=mr._fromJSON(n,v),p!==s&&(l=m),s=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),h.e(t.t1);case 34:return t.prev=34,h.f(),t.finish(34);case 37:if(y=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&y.length){t.next=40;break}return t.abrupt("return",new e(s,n,i));case 40:if(s=y[0],!l){t.next=44;break}return t.next=44,s._set(c,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ir(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_r(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sr(t))return"Blackberry";if(Cr(t))return"Webos";if(xr(t))return"Safari";if((t.includes("chrome/")||Er(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/firefox\//i.test(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/crios\//i.test(e)}function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iemobile/i.test(e)}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/android/i.test(e)}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/blackberry/i.test(e)}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/webos/i.test(e)}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ar(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return Nr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Rr(){return W()&&10===document.documentMode}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return Nr(e)||Tr(e)||Cr(e)||Sr(e)||/windows phone/i.test(e)||Ir(e)}function Dr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wr(U());break;case"Worker":t="".concat(wr(U()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(mt,"/").concat(r)}var Or=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return(0,h.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=d(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),s=d(n);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(o){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Lr=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fr(this),this.idTokenSubscription=new Fr(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,h.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Sn(t)),this._initializationPromise=this.queue(u(o().mark((function r(){var i,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,br.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,s&&s!==u||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return xn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ke(t):null)&&xn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=u(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&xn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Sn(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Q("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xn(n=t&&Sn(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,br.create(this,[Sn(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mr(e){return ke(e)}var Fr=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=he((function(e){return n.observer=e}))}return(0,h.Z)(e,[{key:"next",get:function(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function jr(e,t,n){var r=Mr(e);xn(r._canInitEmulator,r,"emulator-config-failed"),xn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Zr(t),s=function(e){var t=Zr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:Ur(r.substr(o.length+1))}}var s=r.split(":"),u=(0,i.Z)(s,2);return{host:u[0],port:Ur(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ur(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Br=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return(0,h.Z)(e,[{key:"toJSON",value:function(){return En("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return En("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return En("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return En("not implemented")}}]),e}();function Vr(e,t){return qr.apply(this,arguments)}function qr(){return qr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:resetPassword",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function zr(e,t){return Wr.apply(this,arguments)}function Wr(){return Wr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Gr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:update",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Hr(e,t){return Qr.apply(this,arguments)}function Qr(){return Qr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithPassword",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qr.apply(this,arguments)}function Yr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:sendOobCode",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Xr(e,t){return $r.apply(this,arguments)}function $r(){return $r=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,n));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,n));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t){return si.apply(this,arguments)}function si(){return si=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e,t){return ci.apply(this,arguments)}function ci(){return ci=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithEmailLink",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}var li=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,h.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oi(t,{email:this._email,oobCode:this._password}));case 5:gn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ui(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:gn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Br);function hi(e,t){return fi.apply(this,arguments)}function fi(){return fi=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithIdp",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}var di=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,h.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return hi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=se(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Xt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Br);function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:sendVerificationCode",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(){return mi=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithPhoneNumber",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}function yi(){return yi=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn(t,"POST","/v1/accounts:signInWithPhoneNumber",Mn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Wn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),yi.apply(this,arguments)}var gi=(0,c.Z)({},"USER_NOT_FOUND","user-not-found");function ki(){return ki=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithPhoneNumber",Mn(t,r),gi));case 2:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,h.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ki.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Br);var wi=function(){function e(t){var n,r,i,a,o,s;l(this,e);var u=ue(ce(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,h=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);xn(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,h.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ue(ce(e)).link,n=t?ue(ce(t)).deep_link_id:null,r=ue(ce(e)).deep_link_id;return(r?ue(ce(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(RA){return null}}}]),e}();var _i=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return(0,h.Z)(e,null,[{key:"credential",value:function(e,t){return li._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=wi.parseLink(t);return xn(n,"argument-error"),li._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_i.PROVIDER_ID="password",_i.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xi=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,h.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ei=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,h.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,be.Z)(this.scopes)}}]),n}(xi),Ii=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return xn(e.idToken||e.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return xn("providerId"in t&&"signInMethod"in t,"argument-error"),di._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ei),Ti=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return(0,h.Z)(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(RA){return null}}}]),n}(Ei);Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ti.PROVIDER_ID="facebook.com";var Si=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,h.Z)(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(RA){return null}}}]),n}(Ei);Si.GOOGLE_SIGN_IN_METHOD="google.com",Si.PROVIDER_ID="google.com";var Ci=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return(0,h.Z)(n,null,[{key:"credential",value:function(e){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(RA){return null}}}]),n}(Ei);Ci.GITHUB_SIGN_IN_METHOD="github.com",Ci.PROVIDER_ID="github.com";var Ni=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,h.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return hi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Br),Ai=function(e){m(n,e);var t=b(n);function n(e){return l(this,n),xn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,h.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ni.fromJSON(e);return xn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ni._create(r,n)}catch(i){return null}}}]),n}(xi),Ri=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return(0,h.Z)(n,null,[{key:"credential",value:function(e,t){return di._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(RA){return null}}}]),n}(Ei);function Pi(e,t){return Di.apply(this,arguments)}function Di(){return Di=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signUp",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}Ri.TWITTER_SIGN_IN_METHOD="twitter.com",Ri.PROVIDER_ID="twitter.com";var Oi=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,h.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=u(o().mark((function t(n,r,i){var a,s,u,c,l=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,mr._fromIdTokenResponse(n,i,a);case 3:return s=t.sent,u=Li(i),c=new e({user:s,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=u(o().mark((function t(n,r,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Li(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Li(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Mi(){return Mi=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mr(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Oi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Pi(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Oi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}var Fi=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,s;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,p.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,h.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(H);function ji(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fi._fromErrorAndOperation(e,n,t,r);throw n}))}function Zi(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ui(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ke(t),e.next=3,zi(!0,r,n);case 3:return e.t0=Hn,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,s=Zi(a||[]),r.providerData=r.providerData.filter((function(e){return s.has(e.providerId)})),s.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Vi(e,t){return qi.apply(this,arguments)}function qi(){return qi=u(o().mark((function e(t,n){var r,i,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=nr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Oi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function zi(e,t,n){return Wi.apply(this,arguments)}function Wi(){return(Wi=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr(n);case 2:i=Zi(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",xn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=u(o().mark((function e(t,n){var r,i,a,s,u,c,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,nr(t,ji(i,a,n,t),r);case 6:return xn((s=e.sent).idToken,i,"internal-error"),xn(u=tr(s.idToken),i,"internal-error"),c=u.sub,xn(t.uid===c,i,"user-mismatch"),e.abrupt("return",Oi._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&gn(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ki.apply(this,arguments)}function Hi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=u(o().mark((function e(t,n){var r,i,a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ji(t,i,n);case 4:return a=e.sent,e.next=7,Oi._fromIdTokenResponse(t,i,a);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hi(Mr(t),n));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Xi(e,t){return $i.apply(this,arguments)}function $i(){return($i=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ke(t),e.next=3,zi(!1,r,n.providerId);case 3:return e.abrupt("return",Vi(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gi(ke(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bn(t,"POST","/v1/accounts:signInWithCustomToken",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(){return ia=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mr(t),e.next=3,na(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Oi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}var aa=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,h.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oa._fromServerResponse(e,t):gn(e,"internal-error")}}]),e}(),oa=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,h.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(aa);function sa(e,t,n){var r;xn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),xn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(xn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ua(){return ua=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),a={requestType:"PASSWORD_RESET",email:n},r&&sa(i,a,r),e.next=5,ei(i,a);case 5:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(){return ca=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vr(ke(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gr(ke(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function ha(e,t){return fa.apply(this,arguments)}function fa(){return fa=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ke(t),e.next=3,Vr(r,{oobCode:n});case 3:i=e.sent,xn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return xn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:xn(i.mfaInfo,r,"internal-error");case 13:xn(i.email,r,"internal-error");case 14:return s=null,i.mfaInfo&&(s=aa._fromServerResponse(Mr(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:a});case 17:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function da(){return da=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ha(ke(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t,n){return va.apply(this,arguments)}function va(){return va=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t),e.next=3,Pi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Oi._fromIdTokenResponse(i,"signIn",a);case 6:return s=e.sent,e.next=9,i._updateCurrentUser(s.user);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(){return ma=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),a={requestType:"EMAIL_SIGNIN",email:n},xn(r.handleCodeInApp,i,"argument-error"),r&&sa(i,a,r),e.next=6,ni(i,a);case 6:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(){return ya=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),xn((a=_i.credentialWithLink(n,r||Cn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yi(i,a));case 4:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:createAuthUri",Mn(t,n)));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(){return ba=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nn()?Cn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ga(ke(t),i);case 4:return a=e.sent,s=a.signinMethods,e.abrupt("return",s||[]);case 7:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(){return(wa=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ke(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&sa(r.auth,a,n),e.next=8,Xr(r.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _a(){return(_a=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),e.next=3,t.getIdToken();case 3:return a=e.sent,s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&sa(i.auth,s,r),e.next=8,ii(i.auth,s);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ia(){return(Ia=u(o().mark((function e(t,n){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ke(t),e.next=6,a.getIdToken();case 6:return s=e.sent,u={idToken:s,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,nr(a,xa(a.auth,u));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t,n){return Sa.apply(this,arguments)}function Sa(){return Sa=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,s={idToken:a,returnSecureToken:!0},n&&(s.email=n),r&&(s.password=r),e.next=9,nr(t,zr(i,s));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}var Ca=(0,h.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Na=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,h.Z)(n)}(Ca),Aa=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return(0,h.Z)(n)}(Ca),Ra=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,h.Z)(n)}(Na),Pa=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return(0,h.Z)(n)}(Ca),Da=function(e){m(n,e);var t=b(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return(0,h.Z)(n)}(Na);function Oa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=tr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ca(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Aa(a,i);case"github.com":return new Ra(a,i);case"google.com":return new Pa(a,i);case"twitter.com":return new Da(a,i,e.screenName||null);case"custom":case"anonymous":return new Ca(a,null);default:return new Ca(a,r,i)}}(n)}var La=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return(0,h.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,c.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ma=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,h.Z)(e,[{key:"resolveSignIn",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Mr(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return aa._fromServerResponse(r,e)}));xn(i.mfaPendingCredential,r,"internal-error");var s=La._fromMfaPendingCredential(i.mfaPendingCredential);return new e(s,a,function(){var e=u(o().mark((function e(t){var a,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,s);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Oi._fromIdTokenResponse(r,n.operationType,u);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return xn(n.user,r,"internal-error"),e.abrupt("return",Oi._forOperation(n.user,n.operationType,u));case 17:gn(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fa(e,t){return Fn(e,"POST","/v2/accounts/mfaEnrollment:start",Mn(e,t))}function ja(e,t){return Fn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Mn(e,t))}var Za=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return aa._fromServerResponse(t.auth,e)})))}))}return(0,h.Z)(e,[{key:"getSession",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=La,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,nr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,nr(this.user,ja(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ua=new WeakMap;var Ba="__sak",Va=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return(0,h.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(RA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qa=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=U();return xr(e)||Nr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Pr(),e._shouldAllowMigration=!0,e}return(0,h.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Rr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=u(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(y(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(y(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(y(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Va);qa.type="LOCAL";var za=qa,Wa=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,h.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Va);Wa.type="SESSION";var Ga=Wa;function Ka(e){return Promise.all(e.map(function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ha=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,h.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,s=r.data,null===(c=this.handlersMap[a])||void 0===c?void 0:c.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(c).map(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ka(l);case 9:h=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ha.receivers=[];var Ya=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return(0,h.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u=this,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,o){var c=Qa("",20);i.port1.start();var l=setTimeout((function(){o(new Error("unsupported_event"))}),r);s={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),o(new Error("invalid_response"))}}},u.handlers.add(s),i.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ja(){return window}function Xa(){return"undefined"!==typeof Ja().WorkerGlobalScope&&"function"===typeof Ja().importScripts}function $a(){return eo.apply(this,arguments)}function eo(){return(eo=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function to(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var no="firebaseLocalStorageDb",ro="firebaseLocalStorage",io="fbase_key",ao=function(){function e(t){l(this,e),this.request=t}return(0,h.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function oo(e,t){return e.transaction([ro],t?"readwrite":"readonly").objectStore(ro)}function so(){var e=indexedDB.deleteDatabase(no);return new ao(e).toPromise()}function uo(){var e=indexedDB.open(no,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ro,{keyPath:io})}catch(r){n(r)}})),e.addEventListener("success",u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ro)){n.next=12;break}return r.close(),n.next=5,so();case 5:return n.t0=t,n.next=8,uo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function co(e,t,n){return lo.apply(this,arguments)}function lo(){return lo=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oo(t,!0).put((i={},(0,c.Z)(i,io,n),(0,c.Z)(i,"value",r),i)),e.abrupt("return",new ao(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function ho(e,t){return fo.apply(this,arguments)}function fo(){return fo=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oo(t,!1).get(n),e.next=3,new ao(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function po(e,t){var n=oo(e,!0).delete(t);return new ao(n).toPromise()}var vo=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,h.Z)(e,[{key:"_openDb",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,uo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xa()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ha._getInstance(Xa()?self:null),this.receiver._subscribe("keyChanged",function(){var e=u(o().mark((function e(n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=u(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ya(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&to()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,uo();case 5:return t=e.sent,e.next=8,co(t,Ba,"1");case 8:return e.next=10,po(t,Ba);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return co(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ho(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return po(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s,u,c,l,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=oo(e,!1).getAll();return new ao(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=d(t);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.fbase_key,c=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(o){i.e(o)}finally{i.f()}for(l=0,h=Object.keys(this.localCache);l<h.length;l++)f=h[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();vo.type="LOCAL";var mo=vo;function yo(e,t){return Fn(e,"POST","/v2/accounts/mfaSignIn:start",Mn(e,t))}function go(e){return ko.apply(this,arguments)}function ko(){return ko=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=kn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function wo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var _o=1e12,xo=function(){function e(t){l(this,e),this.auth=t,this.counter=_o,this._widgets=new Map}return(0,h.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Eo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||_o;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||_o;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||_o,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Eo=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;xn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,h.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Io=wo("rcb"),To=new Rn(3e4,6e4),So="https://www.google.com/recaptcha/api.js?",Co=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ja().grecaptcha)||void 0===t?void 0:t.render)}return(0,h.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return xn(No(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ja().grecaptcha):new Promise((function(r,i){var a=Ja().setTimeout((function(){i(kn(e,"network-request-failed"))}),To.get());Ja()[Io]=function(){Ja().clearTimeout(a),delete Ja()[Io];var o=Ja().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(kn(e,"internal-error"))},bo("".concat(So,"?").concat(se({onload:Io,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(kn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ja().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function No(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ao=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"load",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ro="recaptcha",Po={theme:"light",type:"image"},Do=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Po),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mr(r),this.isInvisible="invisible"===this.parameters.size,xn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;xn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ao:new Co,this.validateStartingState()}return(0,h.Z)(e,[{key:"verify",value:function(){var e=u(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){xn(!this.parameters.sitekey,this.auth,"argument-error"),xn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ja()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){xn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xn(Nn()&&!Xa(),this.auth,"internal-error"),e.next=3,Oo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,go(this.auth);case 8:xn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return xn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Oo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Lo=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return(0,h.Z)(e,[{key:"confirm",value:function(e){var t=bi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Mo(){return Mo=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t),e.next=3,Uo(i,n,ke(r));case 3:return a=e.sent,e.abrupt("return",new Lo(a,(function(e){return Yi(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Fo(e,t,n){return jo.apply(this,arguments)}function jo(){return(jo=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),e.next=3,zi(!1,i,"phone");case 3:return e.next=5,Uo(i.auth,n,ke(r));case 5:return a=e.sent,e.abrupt("return",new Lo(a,(function(e){return Xi(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(){return(Zo=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ke(t),e.next=3,Uo(i.auth,n,ke(r));case 3:return a=e.sent,e.abrupt("return",new Lo(a,(function(e){return ea(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return Bo=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,h,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xn("string"===typeof a,t,"argument-error"),xn(r.type===Ro,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return xn("enroll"===u.type,t,"internal-error"),e.next=13,Fa(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return xn("signin"===u.type,t,"internal-error"),xn(l=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,yo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return h=e.sent,e.abrupt("return",h.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pi(t,{phoneNumber:s.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Bo.apply(this,arguments)}function Vo(){return(Vo=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(ke(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qo=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Mr(t)}return(0,h.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Uo(this.auth,e,ke(t))}}],[{key:"credential",value:function(e,t){return bi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bi._fromTokenResponse(n,r):null}}]),e}();function zo(e,t){return t?Sn(t):(xn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}qo.PROVIDER_ID="phone",qo.PHONE_SIGN_IN_METHOD="phone";var Wo=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,h.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return hi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return hi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return hi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Br);function Go(e){return Hi(e.auth,new Wo(e),e.bypassAuthState)}function Ko(e){var t=e.auth,n=e.user;return xn(n,t,"internal-error"),Gi(n,new Wo(e),e.bypassAuthState)}function Ho(e){return Qo.apply(this,arguments)}function Qo(){return Qo=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xn(r=t.user,n,"internal-error"),e.abrupt("return",Vi(r,new Wo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}var Yo=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,h.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=u(o().mark((function t(n,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var n,r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Go;case"linkViaPopup":case"linkViaRedirect":return Ho;case"reauthViaPopup":case"reauthViaRedirect":return Ko;default:gn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Jo=new Rn(2e3,1e4);function Xo(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t),wn(t,n,xi),a=zo(i,r),s=new rs(i,"signInViaPopup",n,a),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function es(){return(es=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wn((i=ke(t)).auth,n,xi),a=zo(i.auth,r),s=new rs(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return(ns=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wn((i=ke(t)).auth,n,xi),a=zo(i.auth,r),s=new rs(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o){var s;return l(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,p.Z)(s),s}return(0,h.Z)(n,[{key:"executeNotNull",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(1===this.filter.length,"Popup operations only handle one event"),t=Qa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(kn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(kn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(kn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Jo.get())}()}}]),n}(Yo);rs.currentPopupAction=null;var is=new Map,as=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,h.Z)(n,[{key:"execute",value:function(){var e=u(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=is.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,os(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jt(y(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:is.set(this.auth._key(),t);case 21:return this.bypassAuthState||is.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=u(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jt(y(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jt(y(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yo);function os(e,t){return ss.apply(this,arguments)}function ss(){return ss=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fs(n),i=hs(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(e,t){return cs.apply(this,arguments)}function cs(){return cs=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t)._set(fs(n),"true"));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){is.set(e._key(),t)}function hs(e){return Sn(e._redirectPersistence)}function fs(e){return kr("pendingRedirect",e.config.apiKey,e.name)}function ds(e,t,n){return function(e,t,n){return ps.apply(this,arguments)}(e,t,n)}function ps(){return ps=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t),wn(t,n,xi),e.next=4,i._initializationPromise;case 4:return a=zo(i,r),e.next=7,us(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t,n){return function(e,t,n){return ms.apply(this,arguments)}(e,t,n)}function ms(){return(ms=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wn((i=ke(t)).auth,n,xi),e.next=4,i.auth._initializationPromise;case 4:return a=zo(i.auth,r),e.next=7,us(a,i.auth);case 7:return e.next=9,xs(i);case 9:return s=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",s));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ys(e,t,n){return function(e,t,n){return gs.apply(this,arguments)}(e,t,n)}function gs(){return(gs=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wn((i=ke(t)).auth,n,xi),e.next=4,i.auth._initializationPromise;case 4:return a=zo(i.auth,r),e.next=7,zi(!1,i,n.providerId);case 7:return e.next=9,us(a,i.auth);case 9:return e.next=11,xs(i);case 11:return s=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",s));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr(t)._initializationPromise;case 2:return e.abrupt("return",ws(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){return _s.apply(this,arguments)}function _s(){return _s=u(o().mark((function e(t,n){var r,i,a,s,u,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Mr(t),a=zo(i,n),s=new as(i,a,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function xs(e){return Es.apply(this,arguments)}function Es(){return(Es=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qa("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Is=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,h.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ss(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ss(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ts(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ts(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ts(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ss(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Cs(e){return Ns.apply(this,arguments)}function Ns(){return Ns=u(o().mark((function e(t){var n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Fn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}var As=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function Ps(){return Ps=u(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cs(t);case 4:n=e.sent,r=n.authorizedDomains,i=d(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(s=a.value,e.prev=11,!Ds(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:gn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ps.apply(this,arguments)}function Ds(e){var t=Cn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Rs.test(r))return!1;if(As.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Os=new Rn(3e4,6e4);function Ls(){var e=Ja().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,be.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ms=null;function Fs(e){return Ms=Ms||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ls(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ls(),n(kn(e,"network-request-failed"))},timeout:Os.get()})}if(null===(i=null===(r=Ja().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ja().gapi)||void 0===a?void 0:a.load)){var s=wo("iframefcb");return Ja()[s]=function(){gapi.load?o():n(kn(e,"network-request-failed"))},bo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ms=null,e}))}(e),Ms}var js=new Rn(5e3,15e3),Zs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Us=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bs(e){var t=e.config;xn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Pn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:mt},i=Us.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(se(r).slice(1))}function Vs(e){return qs.apply(this,arguments)}function qs(){return qs=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs(t);case 2:return n=e.sent,xn(r=Ja().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Bs(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zs,dontclear:!0},(function(e){return new Promise(function(){var n=u(o().mark((function n(r,i){var a,s,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ja().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=kn(t,"network-request-failed"),s=Ja().setTimeout((function(){i(a)}),js.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}var zs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ws="_blank",Gs="http://localhost",Ks=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return(0,h.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Hs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},zs),{width:r.toString(),height:a.toString(),top:o,left:s}),l=U().toLowerCase();n&&(u=Er(l)?Ws:n),_r(l)&&(t=t||Gs,c.scrollbars="yes");var h=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Ar(l)&&"_self"!==u)return Qs(t||"",u),new Ks(null);var f=window.open(t||"",u,h);xn(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Ks(f)}function Qs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ys="__/auth/handler",Js="emulator/auth/handler";function Xs(e,t,n,r,a,o){xn(e.config.authDomain,e,"auth-domain-config-required"),xn(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mt,eventId:a};if(t instanceof xi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",re(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=(0,i.Z)(c[u],2),h=l[0],f=l[1];s[h]=f}}if(t instanceof Ei){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ys);return Pn(t,Js)}(e),"?").concat(se(p).slice(1))}var $s="webStorageSupport",eu=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ga,this._completeRedirectFn=ws,this._overrideRedirectResult=ls}return(0,h.Z)(e,[{key:"_openPopup",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return In(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),s=Xs(t,n,r,Cn(),i),e.abrupt("return",Hs(t,s,Qa()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Xs(t,n,r,Cn(),i),Ja().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(In(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(t);case 2:return n=e.sent,r=new Is(t),n.register("authEvent",(function(e){return xn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($s,{type:$s},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$s];void 0!==i&&t(!!i),gn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ps.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Pr()||xr()||Nr()}}]),e}(),tu=eu,nu=function(){function e(t){l(this,e),this.factorId=t}return(0,h.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return En("unexpected MultiFactorSessionType")}}}]),e}(),ru=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,h.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Fn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Mn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Fn(e,"POST","/v2/accounts/mfaSignIn:finalize",Mn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(nu),iu=function(){function e(){l(this,e)}return(0,h.Z)(e,null,[{key:"assertion",value:function(e){return ru._fromCredential(e)}}]),e}();iu.FACTOR_ID="phone";var au="@firebase/auth",ou="0.21.4",su=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return(0,h.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var uu;!function(e){var t;null===(t=M())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function cu(){return window}uu="Browser",ct(new we("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){xn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),xn(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:uu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(uu)},i=new Lr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ct(new we("auth-internal",(function(e){return function(e){return new su(e)}(Mr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_t(au,ou,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uu)),_t(au,ou,"esm2017");function lu(e,t,n){return hu.apply(this,arguments)}function hu(){return hu=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cu(),s=a.BuildInfo,In(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,yu(n.sessionId);case 4:return u=e.sent,c={},Nr()?c.ibi=s.packageName:Tr()?c.apn=s.packageName:gn(t,"operation-not-supported-in-this-environment"),s.displayName&&(c.appDisplayName=s.displayName),c.sessionId=u,e.abrupt("return",Xs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function fu(){return fu=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cu(),r=n.BuildInfo,i={},Nr()?i.iosBundleId=r.packageName:Tr()?i.androidPackageName=r.packageName:gn(t,"operation-not-supported-in-this-environment"),e.next=5,Cs(t,i);case 5:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function du(e){var t=cu().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return vu=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cu(),a=i.cordova,s=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(kn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Tr()&&document.addEventListener("visibilitychange",l,!1),s=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,s(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),vu.apply(this,arguments)}function mu(e){var t,n,r,i,a,o,s,u,c,l,h=cu();xn("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xn("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xn("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xn("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xn("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function yu(e){return gu.apply(this,arguments)}function gu(){return(gu=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ku(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e){if(In(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var bu=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,h.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jt(y(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Is);function wu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Tu(),postBody:null,tenantId:e.tenantId,error:kn(e,"no-auth-event")}}function _u(e,t){return Su()._set(Cu(e),t)}function xu(e){return Eu.apply(this,arguments)}function Eu(){return Eu=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su()._get(Cu(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Su()._remove(Cu(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Iu(e,t){var n,r,i=function(e){var t=Nu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Nu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Nu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Nu(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?kn(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Tu(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Su(){return Sn(za)}function Cu(e){return kr("authEvent",e.config.apiKey,e.name)}function Nu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,Kt.Z)(t)||(0,Ht.Z)(t)||(0,f.Z)(t)||(0,Qt.Z)());r[0];return ue(r.slice(1).join("?"))}var Au=function(){function e(){l(this,e),this._redirectPersistence=Ga,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ws,this._overrideRedirectResult=ls}return(0,h.Z)(e,[{key:"_initialize",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new bu(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){gn(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mu(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),is.clear(),e.next=10,this._originValidation(t);case 10:return s=wu(t,r,i),e.next=13,_u(t,s);case 13:return e.next=15,lu(t,s,n);case 15:return u=e.sent,e.next=18,du(u);case 18:return c=e.sent,e.abrupt("return",pu(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=cu(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,s=setTimeout(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xu(e);case 2:t.onEvent(Pu());case 3:case"end":return n.stop()}}),n)}))),500),c=function(){var n=u(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(s),n.next=3,xu(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Iu(i,r.url)),t.onEvent(a||Pu());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,c);var l=i,h="".concat(a.packageName.toLowerCase(),"://");cu().handleOpenURL=function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(h)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ru=Au;function Pu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}function Du(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return!("file:"!==Du()&&"ionic:"!==Du()&&"capacitor:"!==Du()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lu(){return W()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return/Edge\/\d+/.test(e)}function Fu(){try{var e=self.localStorage,t=Qa();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U();return Lu()||Mu(e)}()||K()}catch(n){return ju()&&K()}return!1}function ju(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Zu(){return("http:"===Du()||"https:"===Du()||q()||Ou())&&!(z()||V())&&Fu()&&!ju()}function Uu(){return Ou()&&"undefined"!==typeof document}function Bu(){return Vu.apply(this,arguments)}function Vu(){return(Vu=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uu()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qu={LOCAL:"local",NONE:"none",SESSION:"session"},zu=xn,Wu="persistence";function Gu(e,t){zu(Object.values(qu).includes(t),e,"invalid-persistence-type"),z()?zu(t!==qu.SESSION,e,"unsupported-persistence-type"):V()?zu(t===qu.NONE,e,"unsupported-persistence-type"):ju()?zu(t===qu.NONE||t===qu.LOCAL&&K(),e,"unsupported-persistence-type"):zu(t===qu.NONE||Fu(),e,"unsupported-persistence-type")}function Ku(e){return Hu.apply(this,arguments)}function Hu(){return Hu=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Qu(),r=kr(Wu,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Qu(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Yu=xn,Ju=function(){function e(){l(this,e),this.browserResolver=Sn(tu),this.cordovaResolver=Sn(Ru),this.underlyingResolver=null,this._redirectPersistence=Ga,this._completeRedirectFn=ws,this._overrideRedirectResult=ls}return(0,h.Z)(e,[{key:"_initialize",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=u(o().mark((function e(t,n,r,i){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Uu()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Yu(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bu();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xu(e){return e.unwrap()}function $u(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ic(e,function(e,t){var n,r=ke(e),i=t;return xn(t.customData.operationType,r,"argument-error"),xn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ma._fromError(r,i)}(e,t));else if(r){var i=ec(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function ec(e){var t=(e instanceof H?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof H)&&"temporaryProof"in t&&"phoneNumber"in t)return qo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===rn)return null;switch(r){case nn:n=Si;break;case en:n=Ti;break;case tn:n=Ci;break;case an:n=Ri;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ni._create(r,s):di._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ii(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof H?n.credentialFromError(e):n.credentialFromResult(e)}function tc(e,t){return t.catch((function(t){throw t instanceof H&&$u(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ec(t)),additionalUserInfo:Oa(e),user:ac.getOrCreate(r)}}))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return tc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}var ic=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,h.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return tc(Xu(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ac=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=ke(e);return Ua.has(t)||Ua.set(t,Za._fromUser(t)),Ua.get(t)}(t)}return(0,h.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,Xi(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nc(this.auth,Fo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,ts(this._delegate,t,Ju)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Mr(this.auth));case 2:return e.abrupt("return",ys(this._delegate,t,Ju));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this.auth,ea(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return nc(this.auth,function(e,t,n){return Zo.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return tc(this.auth,function(e,t,n){return es.apply(this,arguments)}(this._delegate,e,Ju))}},{key:"reauthenticateWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ku(Mr(this.auth));case 2:return e.abrupt("return",vs(this._delegate,t,Ju));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return wa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ta(ke(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ta(ke(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Vo.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ia.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _a.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ac.USER_MAP=new WeakMap;var oc=xn,sc=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;oc(r,"invalid-api-key",{appName:t.name}),oc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ju:void 0;this._delegate=n.initialize({options:{persistence:cc(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(dn),this.linkUnderlyingAuth()}return(0,h.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ac.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){jr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return la.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ha(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(this._delegate,pa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ba.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=wi.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Zu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ks(this._delegate,Ju);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",tc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Mr(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=uc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=uc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ma.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ua.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gu(this._delegate,t),e.t0=t,e.next=e.t0===qu.SESSION?4:e.t0===qu.LOCAL?6:e.t0===qu.NONE?11:13;break;case 4:return n=Ga,e.abrupt("break",14);case 6:return e.next=8,Sn(mo)._isAvailable();case 8:return r=e.sent,n=r?mo:za,e.abrupt("break",14);case 11:return n=gr,e.abrupt("break",14);case 13:return e.abrupt("return",gn("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return tc(this._delegate,function(e){return Mi.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return tc(this._delegate,Yi(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return tc(this._delegate,function(e,t){return ia.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return tc(this._delegate,function(e,t,n){return Yi(ke(e),_i.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return tc(this._delegate,function(e,t,n){return ya.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return nc(this._delegate,function(e,t,n){return Mo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Zu(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",tc(this._delegate,Xo(this._delegate,t,Ju)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oc(Zu(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ku(this._delegate);case 3:return e.abrupt("return",ds(this._delegate,t,Ju));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return da.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function uc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ac.getOrCreate(e))},error:t,complete:n}}function cc(e,t){var n=function(e,t){var n=Qu();if(!n)return[];var r=kr(Wu,e,t);switch(n.getItem(r)){case qu.NONE:return[gr];case qu.LOCAL:return[mo,Ga];case qu.SESSION:return[Ga];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(mo)||n.push(mo),"undefined"!==typeof window)for(var r=0,i=[za,Ga];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(gr)||n.push(gr),n}sc.Persistence=qu;var lc=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new qo(Xu(Gt.auth()))}return(0,h.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return qo.credential(e,t)}}]),e}();lc.PHONE_SIGN_IN_METHOD=qo.PHONE_SIGN_IN_METHOD,lc.PROVIDER_ID=qo.PROVIDER_ID;var hc,fc=xn,dc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt.app();l(this,e),fc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Do(t,n,i.auth()),this.type=this._delegate.type}return(0,h.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(hc=Gt).INTERNAL.registerComponent(new we("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:on,PASSWORD_RESET:sn,RECOVER_EMAIL:un,REVERT_SECOND_FACTOR_ADDITION:cn,VERIFY_AND_CHANGE_EMAIL:ln,VERIFY_EMAIL:hn}},EmailAuthProvider:_i,FacebookAuthProvider:Ti,GithubAuthProvider:Ci,GoogleAuthProvider:Si,OAuthProvider:Ii,SAMLAuthProvider:Ai,PhoneAuthProvider:lc,PhoneMultiFactorGenerator:iu,RecaptchaVerifier:dc,TwitterAuthProvider:Ri,Auth:sc,AuthCredential:Br,Error:H}).setInstantiationMode("LAZY").setMultipleInstances(!1)),hc.registerVersion("@firebase/auth-compat","0.3.4");var pc="@firebase/database",vc="0.14.4",mc="";function yc(e){mc=e}var gc=function(){function e(t){l(this,e),this.domStorage_=t,this.prefix_="firebase:"}return(0,h.Z)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:X(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),kc=function(){function e(){l(this,e),this.cache_={},this.isInMemoryStorage=!0}return(0,h.Z)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return te(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),bc=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gc(t)}}catch(n){}return new kc},wc=bc("localStorage"),_c=bc("sessionStorage"),xc=new Pe("@firebase/database"),Ec=function(){var e=1;return function(){return e++}}(),Ic=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,T(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new le;n.update(t);var r=n.digest();return N.encodeByteArray(r)},Tc=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?$(r):r,t+=" "}return t},Sc=null,Cc=!0,Nc=function(e,t){T(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(xc.logLevel=Ie.VERBOSE,Sc=xc.log.bind(xc),t&&_c.set("logging_enabled",!0)):"function"===typeof e?Sc=e:(Sc=null,_c.remove("logging_enabled"))},Ac=function(){if(!0===Cc&&(Cc=!1,null===Sc&&!0===_c.get("logging_enabled")&&Nc(!0)),Sc){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Tc.apply(null,t);Sc(r)}},Rc=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ac.apply(void 0,[e].concat(n))}},Pc=function(){var e="FIREBASE INTERNAL ERROR: "+Tc.apply(void 0,arguments);xc.error(e)},Dc=function(){var e="FIREBASE FATAL ERROR: ".concat(Tc.apply(void 0,arguments));throw xc.error(e),new Error(e)},Oc=function(){var e="FIREBASE WARNING: "+Tc.apply(void 0,arguments);xc.warn(e)},Lc=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Mc="[MIN_NAME]",Fc="[MAX_NAME]",jc=function(e,t){if(e===t)return 0;if(e===Mc||t===Fc)return-1;if(t===Mc||e===Fc)return 1;var n=Gc(e),r=Gc(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Zc=function(e,t){return e===t?0:e<t?-1:1},Uc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$(t))},Bc=function e(t){if("object"!==typeof t||null===t)return $(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=$(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Vc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var zc=function(e){T(!Lc(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Wc=new RegExp("^-?(0*)\\d{1,10}$"),Gc=function(e){if(Wc.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Kc=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Oc("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Hc=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Qc=function(){function e(t,n){var r=this;l(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return(0,h.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Oc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Yc=function(){function e(t,n,r){var i=this;l(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return(0,h.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Ac("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oc(e)}}]),e}(),Jc=function(){function e(t){l(this,e),this.accessToken=t}return(0,h.Z)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Jc.OWNER="owner";var Xc="5",$c=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,el="ac",tl="websocket",nl="long_polling",rl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];l(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wc.get("host:"+t)||this._host}return(0,h.Z)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wc.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function il(e,t,n){var r;if(T("string"===typeof t,"typeof type must == string"),T("object"===typeof n,"typeof params must == object"),t===tl)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==nl)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return qc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var al=function(){function e(){l(this,e),this.counters_={}}return(0,h.Z)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;te(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return O(void 0,this.counters_)}}]),e}(),ol={},sl={};function ul(e){var t=e.toString();return ol[t]||(ol[t]=new al),ol[t]}var cl=function(){function e(t){l(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,h.Z)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Kc((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ll="start",hl="close",fl=function(){function e(t,n,r,i,a,o,s){var u=this;l(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rc(t),this.stats_=ul(n),this.urlFn=function(e){return u.appCheckToken&&(e[el]=u.appCheckToken),il(n,nl,e)}}return(0,h.Z)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new cl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(G()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new dl((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ll)n.id=a,n.password=o;else{if(i!==hl)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ll]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Xc,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[el]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&$c.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=$(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=R(t),r=Vc(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!G()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=$(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!G()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),dl=function(){function e(t,n,r,i){if(l(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,G())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ec(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Ac("frame writing exception"),s.stack&&Ac(s.stack),Ac(s)}}}return(0,h.Z)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;G()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Ac("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ac("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),pl=null;"undefined"!==typeof MozWebSocket?pl=MozWebSocket:"undefined"!==typeof WebSocket&&(pl=WebSocket);var vl=function(){function e(t,n,r,i,a,o,s){l(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rc(this.connId),this.stats_=ul(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return(0,h.Z)(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wc.set("previous_websocket_failure",!0);try{var r;if(G()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Xc,"/").concat(mc,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/InstagramClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new pl(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){wc.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=X(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(T(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=$(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Vc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Xc,!G()&&"undefined"!==typeof location&&location.hostname&&$c.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[el]=r),i&&(a.p=i),il(e,tl,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pl&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return wc.isInMemoryStorage||!0===wc.get("previous_websocket_failure")}}]),e}();vl.responsesRequiredToBeHealthy=2,vl.healthyTimeout=3e4;var ml=function(){function e(t){l(this,e),this.initTransports_(t)}return(0,h.Z)(e,[{key:"initTransports_",value:function(t){var n=vl&&vl.isAvailable(),r=n&&!vl.previouslyFailed();if(t.webSocketOnly&&(n||Oc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vl];else{var i,a=this.transports_=[],o=d(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[fl,vl]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();ml.globalTransportInitialized_=!1;var yl=function(){function e(t,n,r,i,a,o,s,u,c,h){l(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rc("c:"+this.id+":"),this.transportManager_=new ml(n),this.log_("Connection created"),this.start_()}return(0,h.Z)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hc((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Uc("t",e),n=Uc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Uc("t",e),n=Uc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Uc("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Pc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Xc!==n&&Oc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hc((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hc((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),gl=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),kl=function(){function e(t){l(this,e),this.allowedEvents_=t,this.listeners_={},T(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return(0,h.Z)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,be.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){T(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),bl=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||B()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,h.Z)(n,[{key:"getInitialEvent",value:function(e){return T("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(kl),wl=function(){function e(t,n){if(l(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return(0,h.Z)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function _l(){return new wl("")}function xl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function El(e){return e.pieces_.length-e.pieceNum_}function Il(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new wl(e.pieces_,t)}function Tl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Sl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Cl(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new wl(t,0)}function Nl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof wl)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new wl(n,0)}function Al(e){return e.pieceNum_>=e.pieces_.length}function Rl(e,t){var n=xl(e),r=xl(t);if(null===n)return t;if(n===r)return Rl(Il(e),Il(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Pl(e,t){for(var n=Sl(e,0),r=Sl(t,0),i=0;i<n.length&&i<r.length;i++){var a=jc(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Dl(e,t){if(El(e)!==El(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ol(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(El(e)>El(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ll=(0,h.Z)((function e(t,n){l(this,e),this.errorPrefix_=n,this.parts_=Sl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ge(this.parts_[r]);Ml(this)}));function Ml(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fl(e))}function Fl(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var jl=function(e){m(n,e);var t=b(n);function n(){var e,r,i;return l(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return(0,h.Z)(n,[{key:"getInitialEvent",value:function(e){return T("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(kl),Zl=1e3,Ul=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,s,u,c){var h;if(l(this,n),(h=t.call(this)).repoInfo_=e,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=o,h.authTokenProvider_=s,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=n.nextPersistentConnectionId_++,h.log_=Rc("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Zl,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!G())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return jl.getInstance().on("visible",h.onVisible_,(0,p.Z)(h)),-1===e.host.indexOf("fblocal")&&bl.getInstance().on("online",h.onOnline_,(0,p.Z)(h)),h}return(0,h.Z)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_($(i)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new j,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=ee(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=ee(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+$(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Pc("Unrecognized action received from server: "+$(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=u(o().mark((function e(){var t,r,a,s,u,c,l,h,f,d,p,v,m,y,g=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,a())},f=function(e){T(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:h,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=(0,i.Z)(p,2),m=v[0],y=v[1],c?Ac("getToken() completed but was canceled"):(Ac("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,l=new yl(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,a,(function(e){Oc(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&Oc(e.t0),h());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Ac("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Ac("Resuming connection for reason: "+e),delete this.interruptReasons_[e],re(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Bc(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new wl(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Ac("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Ac("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=d(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=d(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";G()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+mc.replace(/\./g,"-")]=1,B()?e["framework.cordova"]=1:z()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=bl.getInstance().currentlyOnline();return re(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&te(e,"w")){var n=ne(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Oc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(gl);Ul.nextPersistentConnectionId_=0,Ul.nextConnectionId_=0;var Bl,Vl=function(){function e(t,n){l(this,e),this.name=t,this.node=n}return(0,h.Z)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ql=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Vl(Mc,e),r=new Vl(Mc,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Vl.MIN}}]),e}(),zl=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"compare",value:function(e,t){return jc(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw S("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Vl.MIN}},{key:"maxPost",value:function(){return new Vl(Fc,Bl)}},{key:"makePost",value:function(e,t){return T("string"===typeof e,"KeyIndex indexValue must always be a string."),new Vl(e,Bl)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Bl},set:function(e){Bl=e}}]),n}(ql),Wl=new zl,Gl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;l(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return(0,h.Z)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Kl=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Yl.EMPTY_NODE,this.right=null!=a?a:Yl.EMPTY_NODE}return(0,h.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Yl.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Yl.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Kl.RED=!0,Kl.BLACK=!1;var Hl,Ql=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Kl(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Yl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;l(this,e),this.comparator_=t,this.root_=n}return(0,h.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Kl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Kl.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Gl(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Gl(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Gl(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Gl(this.root_,null,this.comparator_,!0,e)}}]),e}();function Jl(e,t){return jc(e.name,t.name)}function Xl(e,t){return jc(e,t)}Yl.EMPTY_NODE=new Ql;var $l,eh,th,nh=function(e){return"number"===typeof e?"number:"+zc(e):"string:"+e},rh=function(e){if(e.isLeafNode()){var t=e.val();T("string"===typeof t||"number"===typeof t||"object"===typeof t&&te(t,".sv"),"Priority must be a string or number.")}else T(e===Hl||e.isEmpty(),"priority of unexpected type.");T(e===Hl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ih=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;l(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,T(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rh(this.priorityNode_)}return(0,h.Z)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Al(t)?this:".priority"===xl(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=xl(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(T(".priority"!==r||1===El(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Il(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nh(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?zc(this.value_):this.value_,this.lazyHash_=Ic(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(T(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return T(i>=0,"Unknown leaf type: "+n),T(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return $l},set:function(e){$l=e}}]),e}();ih.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ah,oh,sh=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?jc(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Vl.MIN}},{key:"maxPost",value:function(){return new Vl(Fc,new ih("[PRIORITY-POST]",th))}},{key:"makePost",value:function(e,t){var n=eh(e);return new Vl(t,new ih("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ql),uh=new sh,ch=Math.log(2),lh=function(){function e(t){l(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ch,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return(0,h.Z)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),hh=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Kl(o,a.node,Kl.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Kl(o,a.node,Kl.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new Kl(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Kl.BLACK):(s(h,Kl.BLACK),s(h,Kl.RED))}return a}(new lh(e.length));return new Yl(r||t,a)},fh={},dh=function(){function e(t,n){l(this,e),this.indexes_=t,this.indexSet_=n}return(0,h.Z)(e,[{key:"get",value:function(e){var t=ne(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yl?t:null}},{key:"hasIndex",value:function(e){return te(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){T(t!==Wl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Vl.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?hh(i,t.getCompare()):fh;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(ie(this.indexes_,(function(e,i){var a=ne(r.indexSet_,i);if(T(a,"Missing index implementation for "+i),e===fh){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Vl.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),hh(o,a.getCompare())}return fh}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Vl(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(ie(this.indexes_,(function(e){if(e===fh)return e;var r=n.get(t.name);return r?e.remove(new Vl(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return T(fh&&uh,"ChildrenNode.ts has not been loaded"),ah=ah||new e({".priority":fh},{".priority":uh})}}]),e}(),ph=function(){function e(t,n,r){l(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rh(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,h.Z)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||oh}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?oh:t}},{key:"getChild",value:function(e){var t=xl(e);return null===t?this:this.getImmediateChild(t).getChild(Il(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(T(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Vl(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?oh:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=xl(e);if(null===n)return t;T(".priority"!==xl(e)||1===El(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Il(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(uh,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nh(this.getPriority().val())+":"),this.forEachChild(uh,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ic(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Vl(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Vl(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Vl(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Vl.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Vl.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vh?-1:0}},{key:"withIndex",value:function(t){if(t===Wl||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Wl||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(uh),r=t.getIterator(uh),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Wl?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return oh||(oh=new e(new Yl(Xl),null,dh.Default))}}]),e}();ph.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var vh=new(function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.call(this,new Yl(Xl),ph.EMPTY_NODE,dh.Default)}return(0,h.Z)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ph.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ph));Object.defineProperties(Vl,{MIN:{value:new Vl(Mc,ph.EMPTY_NODE)},MAX:{value:new Vl(Fc,vh)}}),zl.__EMPTY_NODE=ph.EMPTY_NODE,ih.__childrenNodeConstructor=ph,Hl=vh,function(e){th=e}(vh);function mh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ph.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),T(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ih(n,mh(t))}if(e instanceof Array){var r=ph.EMPTY_NODE;return qc(e,(function(t,n){if(te(e,t)&&"."!==t.substring(0,1)){var i=mh(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(mh(t))}var i=[],a=!1,o=e;if(qc(o,(function(e,t){if("."!==e.substring(0,1)){var n=mh(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Vl(e,n)))}})),0===i.length)return ph.EMPTY_NODE;var s=hh(i,Jl,(function(e){return e.name}),Xl);if(a){var u=hh(i,uh.getCompare());return new ph(s,mh(t),new dh({".priority":u},{".priority":uh}))}return new ph(s,mh(t),dh.Default)}!function(e){eh=e}(mh);var yh=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).indexPath_=e,T(!Al(e)&&".priority"!==xl(e),"Can't create PathIndex with empty path or .priority key"),r}return(0,h.Z)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?jc(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=mh(e),r=ph.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vl(t,r)}},{key:"maxPost",value:function(){var e=ph.EMPTY_NODE.updateChild(this.indexPath_,vh);return new Vl(Fc,e)}},{key:"toString",value:function(){return Sl(this.indexPath_,0).join("/")}}]),n}(ql),gh=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?jc(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Vl.MIN}},{key:"maxPost",value:function(){return Vl.MAX}},{key:"makePost",value:function(e,t){var n=mh(e);return new Vl(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ql),kh=new gh;function bh(e){return{type:"value",snapshotNode:e}}function wh(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _h(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Eh=function(){function e(t){l(this,e),this.index_=t}return(0,h.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(_h(t,o)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(wh(t,n)):a.trackChildChange(xh(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(uh,(function(e,r){t.hasChild(e)||n.trackChildChange(_h(e,r))})),t.isLeafNode()||t.forEachChild(uh,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xh(t,r,i))}else n.trackChildChange(wh(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ph.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Ih=function(){function e(t){l(this,e),this.indexedFilter_=new Eh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,h.Z)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Vl(t,n))||(n=ph.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ph.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ph.EMPTY_NODE);var i=this;return t.forEachChild(uh,(function(e,t){i.matches(new Vl(e,t))||(r=r.updateImmediateChild(e,ph.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Th=function(){function e(t){var n=this;l(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ih(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,h.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Vl(t,n))||(n=ph.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ph.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ph.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(ph.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,ph.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;T(s.numChildren()===this.limit_,"");var u=new Vl(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(xh(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_h(t,h));var p=s.updateImmediateChild(t,ph.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(wh(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(_h(c.name,c.node)),i.trackChildChange(wh(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,ph.EMPTY_NODE)):e}}]),e}(),Sh=function(){function e(){l(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=uh}return(0,h.Z)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===uh}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ch(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Nh(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ah(e,t){var n=e.copy();return n.index_=t,n}function Rh(e){var t,n={};if(e.isDefault())return n;if(e.index_===uh?t="$priority":e.index_===kh?t="$value":e.index_===Wl?t="$key":(T(e.index_ instanceof yh,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=$(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=$(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+$(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=$(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+$(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Ph(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==uh&&(t.i=e.index_.toString()),t}var Dh=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Rc("p:rest:"),o.listens_={},o}return(0,h.Z)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Rh(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ne(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Rh(e._queryParams),r=e._path.toString(),i=new j;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+se(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=X(l.responseText)}catch(n){Oc("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Oc("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(gl),Oh=function(){function e(){l(this,e),this.rootNode_=ph.EMPTY_NODE}return(0,h.Z)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Lh(){return{value:null,children:new Map}}function Mh(e,t,n){if(Al(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=xl(t);e.children.has(r)||e.children.set(r,Lh()),Mh(e.children.get(r),t=Il(t),n)}}function Fh(e,t){if(Al(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(uh,(function(t,n){Mh(e,new wl(t),n)})),Fh(e,t)}if(e.children.size>0){var r=xl(t);if(t=Il(t),e.children.has(r))Fh(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function jh(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jh(r,new wl(t.toString()+"/"+e),n)}))}var Zh,Uh=function(){function e(t){l(this,e),this.collection_=t,this.last_=null}return(0,h.Z)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Bh=function(){function e(t,n){l(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Uh(t);var r=1e4+2e4*Math.random();Hc(this.reportStats_.bind(this),Math.floor(r))}return(0,h.Z)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;qc(t,(function(t,i){i>0&&te(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Hc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Vh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zh||(Zh={}));var qh,zh=function(){function e(t,n,r){l(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Zh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return(0,h.Z)(e,[{key:"operationForChild",value:function(t){if(Al(this.path)){if(null!=this.affectedTree.value)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new wl(t));return new e(_l(),n,this.revert)}return T(xl(this.path)===t,"operationForChild called for unrelated child."),new e(Il(this.path),this.affectedTree,this.revert)}}]),e}(),Wh=function(){function e(t,n){l(this,e),this.source=t,this.path=n,this.type=Zh.LISTEN_COMPLETE}return(0,h.Z)(e,[{key:"operationForChild",value:function(t){return Al(this.path)?new e(this.source,_l()):new e(this.source,Il(this.path))}}]),e}(),Gh=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.snap=r,this.type=Zh.OVERWRITE}return(0,h.Z)(e,[{key:"operationForChild",value:function(t){return Al(this.path)?new e(this.source,_l(),this.snap.getImmediateChild(t)):new e(this.source,Il(this.path),this.snap)}}]),e}(),Kh=function(){function e(t,n,r){l(this,e),this.source=t,this.path=n,this.children=r,this.type=Zh.MERGE}return(0,h.Z)(e,[{key:"operationForChild",value:function(t){if(Al(this.path)){var n=this.children.subtree(new wl(t));return n.isEmpty()?null:n.value?new Gh(this.source,_l(),n.value):new e(this.source,_l(),n)}return T(xl(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Il(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Hh=function(){function e(t,n,r){l(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return(0,h.Z)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Al(e))return this.isFullyInitialized()&&!this.filtered_;var t=xl(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Qh=(0,h.Z)((function e(t){l(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Yh(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw S("Should only compare child_ events.");var r=new Vl(t.childName,t.snapshotNode),i=new Vl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Jh(e,t){return{eventCache:e,serverCache:t}}function Xh(e,t,n,r){return Jh(new Hh(t,n,r),e.serverCache)}function $h(e,t,n,r){return Jh(e.eventCache,new Hh(t,n,r))}function ef(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tf(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nf=function(){return qh||(qh=new Yl(Zc)),qh},rf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nf();l(this,e),this.value=t,this.children=n}return(0,h.Z)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:_l(),value:this.value};if(Al(e))return null;var n=xl(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Il(e),t);return null!=i?{path:Nl(new wl(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Al(t))return this;var n=xl(t),r=this.children.get(n);return null!==r?r.subtree(Il(t)):new e(null)}},{key:"set",value:function(t,n){if(Al(t))return new e(n,this.children);var r=xl(t),i=(this.children.get(r)||new e(null)).set(Il(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Al(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xl(t),r=this.children.get(n);if(r){var i,a=r.remove(Il(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Al(e))return this.value;var t=xl(e),n=this.children.get(t);return n?n.get(Il(e)):null}},{key:"setTree",value:function(t,n){if(Al(t))return n;var r,i=xl(t),a=(this.children.get(i)||new e(null)).setTree(Il(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(_l(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Nl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,_l(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Al(e))return null;var i=xl(e),a=this.children.get(i);return a?a.findOnPath_(Il(e),Nl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,_l(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Al(t))return this;this.value&&r(n,this.value);var i=xl(t),a=this.children.get(i);return a?a.foreachOnPath_(Il(t),Nl(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(_l(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Nl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return qc(t,(function(e,t){n=n.set(new wl(e),t)})),n}}]),e}(),af=function(){function e(t){l(this,e),this.writeTree_=t}return(0,h.Z)(e,null,[{key:"empty",value:function(){return new e(new rf(null))}}]),e}();function of(e,t,n){if(Al(t))return new af(new rf(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Rl(i,t);return a=a.updateChild(o,n),new af(e.writeTree_.set(i,a))}var s=new rf(n),u=e.writeTree_.setTree(t,s);return new af(u)}function sf(e,t,n){var r=e;return qc(n,(function(e,n){r=of(r,Nl(t,e),n)})),r}function uf(e,t){if(Al(t))return af.empty();var n=e.writeTree_.setTree(t,new rf(null));return new af(n)}function cf(e,t){return null!=lf(e,t)}function lf(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Rl(n.path,t)):null}function hf(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(uh,(function(e,n){t.push(new Vl(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Vl(e,n.value))})),t}function ff(e,t){if(Al(t))return e;var n=lf(e,t);return new af(null!=n?new rf(n):e.writeTree_.subtree(t))}function df(e){return e.writeTree_.isEmpty()}function pf(e,t){return vf(_l(),e.writeTree_,t)}function vf(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(T(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=vf(Nl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Nl(e,".priority"),r)),n}function mf(e,t){return Af(t,e)}function yf(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function gf(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));T(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&kf(s,r.path)?i=!1:Ol(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=wf(e.allWrites,bf,_l()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=uf(e.visibleWrites,r.path):qc(r.children,(function(t){e.visibleWrites=uf(e.visibleWrites,Nl(r.path,t))}));return!0}return!1}function kf(e,t){if(e.snap)return Ol(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ol(Nl(e.path,n),t))return!0;return!1}function bf(e){return e.visible}function wf(e,t,n){for(var r=af.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Ol(n,o)?r=of(r,s=Rl(n,o),a.snap):Ol(o,n)&&(s=Rl(o,n),r=of(r,_l(),a.snap.getChild(s)));else{if(!a.children)throw S("WriteRecord should have .snap or .children");if(Ol(n,o))r=sf(r,s=Rl(n,o),a.children);else if(Ol(o,n))if(Al(s=Rl(o,n)))r=sf(r,_l(),a.children);else{var u=ne(a.children,xl(s));if(u){var c=u.getChild(Il(s));r=of(r,_l(),c)}}}}}return r}function _f(e,t,n,r,i){if(r||i){var a=ff(e.visibleWrites,t);if(!i&&df(a))return n;if(i||null!=n||cf(a,_l())){return pf(wf(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ol(e.path,t)||Ol(t,e.path))}),t),n||ph.EMPTY_NODE)}return null}var o=lf(e.visibleWrites,t);if(null!=o)return o;var s=ff(e.visibleWrites,t);return df(s)?n:null!=n||cf(s,_l())?pf(s,n||ph.EMPTY_NODE):null}function xf(e,t,n,r){return _f(e.writeTree,e.treePath,t,n,r)}function Ef(e,t){return function(e,t,n){var r=ph.EMPTY_NODE,i=lf(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(uh,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ff(e.visibleWrites,t);return n.forEachChild(uh,(function(e,t){var n=pf(ff(a,new wl(e)),t);r=r.updateImmediateChild(e,n)})),hf(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return hf(ff(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function If(e,t,n,r){return function(e,t,n,r,i){T(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Nl(t,n);if(cf(e.visibleWrites,a))return null;var o=ff(e.visibleWrites,a);return df(o)?i.getChild(n):pf(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Tf(e,t){return function(e,t){return lf(e.visibleWrites,t)}(e.writeTree,Nl(e.treePath,t))}function Sf(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ff(e.visibleWrites,t),c=lf(u,_l());if(null!=c)s=c;else{if(null==n)return[];s=pf(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Cf(e,t,n){return function(e,t,n,r){var i=Nl(t,n),a=lf(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?pf(ff(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Nf(e,t){return Af(Nl(e.treePath,t),e.writeTree)}function Af(e,t){return{treePath:e,writeTree:t}}var Rf=function(){function e(){l(this,e),this.changeMap=new Map}return(0,h.Z)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;T("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),T(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xh(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_h(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,wh(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw S("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xh(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Pf=new(function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Df=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return(0,h.Z)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Hh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cf(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tf(this.viewCache_),i=Sf(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Of(e,t,n,r,i){var a,o,s=new Rf;if(n.type===Zh.OVERWRITE){var u=n;u.source.fromUser?a=Ff(e,t,u.path,u.snap,r,i,s):(T(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Al(u.path),a=Mf(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Zh.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Nl(n,r);jf(t,xl(c))&&(s=Ff(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Nl(n,r);jf(t,xl(c))||(s=Ff(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(T(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Uf(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Zh.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Tf(r,n))return t;var s,u=new Df(r,t,i),c=t.eventCache.getNode();if(Al(n)||".priority"===xl(n)){var l;if(t.serverCache.isFullyInitialized())l=xf(r,tf(t));else{var h=t.serverCache.getNode();T(h instanceof ph,"serverChildren would be complete if leaf node"),l=Ef(r,h)}s=e.filter.updateFullNode(c,l,a)}else{var f=xl(n),d=Cf(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,Il(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,ph.EMPTY_NODE,Il(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=xf(r,tf(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Tf(r,_l()),Xh(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Tf(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Al(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Mf(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Al(n)){var c=new rf(null);return u.getNode().forEachChild(Wl,(function(e,t){c=c.set(new wl(e),t)})),Uf(e,t,n,c,i,a,s,o)}return t}var l=new rf(null);return r.foreach((function(e,t){var r=Nl(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Uf(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Zh.LISTEN_COMPLETE)throw S("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=$h(t,a.getNode(),a.isFullyInitialized()||Al(n),a.isFiltered());return Lf(e,o,n,r,Pf,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ef(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(bh(ef(t)))}}(t,a,h),{viewCache:a,changes:h}}function Lf(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Tf(r,n))return t;if(Al(n))if(T(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=tf(t),l=Ef(r,c instanceof ph?c:ph.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=xf(r,tf(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=xl(n);if(".priority"===f){T(1===El(n),"Can't have a priority with additional path components");var d=u.getNode(),p=If(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Il(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=If(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=Cf(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return Xh(t,o,u.isFullyInitialized()||Al(n),e.filter.filtersNodes())}function Mf(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Al(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=xl(n);if(!c.isCompleteForPath(n)&&El(n)>1)return t;var d=Il(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Pf,null)}var v=$h(t,u,c.isFullyInitialized()||Al(n),l.filtersNodes());return Lf(e,v,n,i,new Df(i,v,a),s)}function Ff(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Df(i,t,a);if(Al(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Xh(t,u,!0,e.filter.filtersNodes());else{var h=xl(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Xh(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=Il(n),p=c.getNode().getImmediateChild(h);if(Al(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===Tl(d)&&v.getChild(Cl(d)).isEmpty()?v:v.updateChild(d,r):ph.EMPTY_NODE}if(p.equals(f))s=t;else s=Xh(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function jf(e,t){return e.eventCache.isCompleteForChild(t)}function Zf(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Uf(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Al(n)?r:new rf(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Zf(0,t.serverCache.getNode().getImmediateChild(n),r);c=Mf(e,c,new wl(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var h=Zf(0,t.serverCache.getNode().getImmediateChild(n),r);c=Mf(e,c,new wl(n),h,i,a,o,s)}})),c}var Bf,Vf=function(){function e(t,n){l(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Eh(i.getIndex()),o=(r=i).loadsAllData()?new Eh(r.getIndex()):r.hasLimit()?new Th(r):new Ih(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(ph.EMPTY_NODE,s.getNode(),null),h=o.updateFullNode(ph.EMPTY_NODE,u.getNode(),null),f=new Hh(c,s.isFullyInitialized(),a.filtersNodes()),d=new Hh(h,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jh(d,f),this.eventGenerator_=new Qh(this.query_)}return(0,h.Z)(e,[{key:"query",get:function(){return this.query_}}]),e}();function qf(e,t){var n=tf(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Al(t)&&!n.getImmediateChild(xl(t)).isEmpty())?n.getChild(t):null}function zf(e){return 0===e.eventRegistrations_.length}function Wf(e,t,n){var r=[];if(n){T(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Gf(e,t,n,r){t.type===Zh.MERGE&&null!==t.source.queryId&&(T(tf(e.viewCache_),"We should always have a full cache before handling merges"),T(ef(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Of(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,T(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),T(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),T(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Kf(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Kf(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Yh(e,i,"child_removed",t,r,n),Yh(e,i,"child_added",t,r,n),Yh(e,i,"child_moved",a,r,n),Yh(e,i,"child_changed",t,r,n),Yh(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Hf,Qf=(0,h.Z)((function e(){l(this,e),this.views=new Map}));function Yf(e){return 0===e.views.size}function Jf(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return T(null!=a,"SyncTree gave us an op for an invalid query."),Gf(a,t,n,r)}var o,s=[],u=d(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Gf(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Xf(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=xf(n,i?r:null),u=!1;s?u=!0:r instanceof ph?(s=Ef(n,r),u=!1):(s=ph.EMPTY_NODE,u=!1);var c=Jh(new Hh(s,u,!1),new Hh(r,i,!1));return new Vf(t,c)}return o}function $f(e,t,n,r,i,a){var o=Xf(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(uh,(function(e,t){r.push(wh(e,t))})),n.isFullyInitialized()&&r.push(bh(n.getNode())),Kf(e,r,n.getNode(),t)}(o,n)}function ed(e,t,n,r){var a=t._queryIdentifier,o=[],s=[],u=ad(e);if("default"===a){var c,l=d(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=(0,i.Z)(c.value,2),f=h[0],p=h[1];s=s.concat(Wf(p,n,r)),zf(p)&&(e.views.delete(f),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(m){l.e(m)}finally{l.f()}}else{var v=e.views.get(a);v&&(s=s.concat(Wf(v,n,r)),zf(v)&&(e.views.delete(a),v.query._queryParams.loadsAllData()||o.push(v.query)))}return u&&!ad(e)&&o.push(new(T(Bf,"Reference.ts has not been loaded"),Bf)(t._repo,t._path)),{removed:o,events:s}}function td(e){var t,n=[],r=d(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function nd(e,t){var n,r=null,i=d(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||qf(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function rd(e,t){if(t._queryParams.loadsAllData())return od(e);var n=t._queryIdentifier;return e.views.get(n)}function id(e,t){return null!=rd(e,t)}function ad(e){return null!=od(e)}function od(e){var t,n=d(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var sd=1,ud=(0,h.Z)((function e(t){l(this,e),this.listenProvider_=t,this.syncPointTree_=new rf(null),this.pendingWriteTree_={visibleWrites:af.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function cd(e,t,n,r,i){return function(e,t,n,r,i){T(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=of(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?gd(e,new Gh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ld(e,t,n,r){!function(e,t,n,r){T(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=sf(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=rf.fromObject(n);return gd(e,new Kh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function hd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=yf(e.pendingWriteTree_,t),i=gf(e.pendingWriteTree_,t);if(i){var a=new rf(null);return null!=r.snap?a=a.set(_l(),!0):qc(r.children,(function(e){a=a.set(new wl(e),!0)})),gd(e,new zh(r.path,a,n))}return[]}function fd(e,t,n){return gd(e,new Gh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function dd(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||id(o,t))){var u=ed(o,t,n,r);Yf(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),h=e.syncPointTree_.findOnPath(a,(function(e,t){return ad(t)}));if(l&&!h){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var d=Sd(f),p=0;p<d.length;++p){var v=d[p],m=v.query,y=wd(e,v);e.listenProvider_.startListening(Cd(m),_d(e,m),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){var g=null;e.listenProvider_.stopListening(Cd(t),g)}else c.forEach((function(t){var n=e.queryToTagMap.get(xd(t));e.listenProvider_.stopListening(Cd(t),n)}))}Nd(e,c)}return s}function pd(e,t,n,r){var i=Ed(e,r);if(null!=i){var a=Id(i),o=a.path,s=a.queryId,u=Rl(o,t);return Td(e,o,new Gh(Vh(s),u,n))}return[]}function vd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Rl(e,i);a=a||nd(t,n),o=o||ad(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||ad(u),a=a||nd(u,_l())):(u=new Qf,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=ph.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=nd(t,_l());n&&(a=a.updateImmediateChild(e,n))}))}var l=id(u,t);if(!l&&!t._queryParams.loadsAllData()){var h=xd(t);T(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Ad();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}var d=mf(e.pendingWriteTree_,i),p=$f(u,t,n,d,a,s);if(!l&&!o&&!r){var v=rd(u,t);p=p.concat(Rd(e,t,v))}return p}function md(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=nd(n,Rl(e,t));if(r)return r}));return _f(r,t,i,n,!0)}function yd(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Rl(e,n);r=r||nd(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||nd(i,_l()):(i=new Qf,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Hh(r,!0,!1):null;return function(e){return ef(e.viewCache_)}(Xf(i,t,mf(e.pendingWriteTree_,t._path),a?o.getNode():ph.EMPTY_NODE,a))}function gd(e,t){return kd(t,e.syncPointTree_,null,mf(e.pendingWriteTree_,_l()))}function kd(e,t,n,r){if(Al(e.path))return bd(e,t,n,r);var i=t.get(_l());null==n&&null!=i&&(n=nd(i,_l()));var a=[],o=xl(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Nf(r,o);a=a.concat(kd(s,u,c,l))}return i&&(a=a.concat(Jf(i,e,r,n))),a}function bd(e,t,n,r){var i=t.get(_l());null==n&&null!=i&&(n=nd(i,_l()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Nf(r,t),u=e.operationForChild(t);u&&(a=a.concat(bd(u,i,o,s)))})),i&&(a=a.concat(Jf(i,e,r,n))),a}function wd(e,t){var n=t.query,r=_d(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ph.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Ed(e,n);if(r){var i=Id(r),a=i.path,o=i.queryId,s=Rl(a,t);return Td(e,a,new Wh(Vh(o),s))}return[]}(e,n._path,r):function(e,t){return gd(e,new Wh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return dd(e,n,null,i)}}}function _d(e,t){var n=xd(t);return e.queryToTagMap.get(n)}function xd(e){return e._path.toString()+"$"+e._queryIdentifier}function Ed(e,t){return e.tagToQueryMap.get(t)}function Id(e){var t=e.indexOf("$");return T(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new wl(e.substr(0,t))}}function Td(e,t,n){var r=e.syncPointTree_.get(t);return T(r,"Missing sync point for query tag that we're tracking"),Jf(r,n,mf(e.pendingWriteTree_,t),null)}function Sd(e){return e.fold((function(e,t,n){if(t&&ad(t))return[od(t)];var r=[];return t&&(r=td(t)),qc(n,(function(e,t){r=r.concat(t)})),r}))}function Cd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(T(Hf,"Reference.ts has not been loaded"),Hf)(e._repo,e._path):e}function Nd(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=xd(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function Ad(){return sd++}function Rd(e,t,n){var r=t._path,i=_d(e,t),a=wd(e,n),o=e.listenProvider_.startListening(Cd(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)T(!ad(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Al(e)&&t&&ad(t))return[od(t).query];var r=[];return t&&(r=r.concat(td(t).map((function(e){return e.query})))),qc(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Cd(l),_d(e,l))}return o}var Pd=function(){function e(t){l(this,e),this.node_=t}return(0,h.Z)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Dd=function(){function e(t,n){l(this,e),this.syncTree_=t,this.path_=n}return(0,h.Z)(e,[{key:"getImmediateChild",value:function(t){var n=Nl(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return md(this.syncTree_,this.path_)}}]),e}(),Od=function(e,t,n){return e&&"object"===typeof e?(T(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ld(e[".sv"],t,n):"object"===typeof e[".sv"]?Md(e[".sv"],t):void T(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ld=function(e,t,n){if("timestamp"===e)return n.timestamp;T(!1,"Unexpected server value: "+e)},Md=function(e,t,n){e.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&T(!1,"Unexpected increment value: "+r);var i=t.node();if(T(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Fd=function(e,t,n,r){return Zd(t,new Dd(n,e),r)},jd=function(e,t,n){return Zd(e,new Pd(t),n)};function Zd(e,t,n){var r,i=e.getPriority().val(),a=Od(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Od(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new ih(s,mh(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ih(a))),u.forEachChild(uh,(function(e,i){var a=Zd(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ud=(0,h.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};l(this,e),this.name=t,this.parent=n,this.node=r}));function Bd(e,t){for(var n=t instanceof wl?t:new wl(t),r=e,i=xl(n);null!==i;){var a=ne(r.node.children,i)||{children:{},childCount:0};r=new Ud(i,r,a),i=xl(n=Il(n))}return r}function Vd(e){return e.node.value}function qd(e,t){e.node.value=t,Hd(e)}function zd(e){return e.node.childCount>0}function Wd(e,t){qc(e.node.children,(function(n,r){t(new Ud(n,e,r))}))}function Gd(e,t,n,r){n&&!r&&t(e),Wd(e,(function(e){Gd(e,t,!0,r)})),n&&r&&t(e)}function Kd(e){return new wl(null===e.parent?e.name:Kd(e.parent)+"/"+e.name)}function Hd(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Vd(e)&&!zd(e)}(n),i=te(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Hd(e))}(e.parent,e.name,e)}var Qd=/[\[\].#$\/\u0000-\u001F\u007F]/,Yd=/[\[\].#$\u0000-\u001F\u007F]/,Jd=10485760,Xd=function(e){return"string"===typeof e&&0!==e.length&&!Qd.test(e)},$d=function(e){return"string"===typeof e&&0!==e.length&&!Yd.test(e)},ep=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Lc(e)||e&&"object"===typeof e&&te(e,".sv")},tp=function(e,t,n,r){r&&void 0===t||np(ve(e,"value"),t,n)},np=function e(t,n,r){var i=r instanceof wl?new Ll(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Fl(i));if("function"===typeof n)throw new Error(t+"contains a function "+Fl(i)+" with contents = "+n.toString());if(Lc(n))throw new Error(t+"contains "+n.toString()+" "+Fl(i));if("string"===typeof n&&n.length>Jd/3&&ge(n)>Jd)throw new Error(t+"contains a string greater than "+Jd+" utf8 bytes "+Fl(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(qc(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Xd(n)))throw new Error(t+" contains an invalid key ("+n+") "+Fl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ge(t),Ml(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ge(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Fl(i)+" in addition to actual children.")}},rp=function(e,t,n,r){if(!r||void 0!==t){var i=ve(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];qc(t,(function(e,t){var r=new wl(e);if(np(i,t,Nl(n,r)),".priority"===Tl(r)&&!ep(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Sl(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Xd(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Pl);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ol(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},ip=function(e,t,n){if(!n||void 0!==t){if(Lc(t))throw new Error(ve(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ep(t))throw new Error(ve(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ap=function(e,t,n,r){if((!r||void 0!==n)&&!Xd(n))throw new Error(ve(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},op=function(e,t,n,r){if((!r||void 0!==n)&&!$d(n))throw new Error(ve(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sp=function(e,t){if(".info"===xl(t))throw new Error(e+" failed = Can't modify data under /.info/")},up=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Xd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$d(e)}(n))throw new Error(ve(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},cp=(0,h.Z)((function e(){l(this,e),this.eventLists_=[],this.recursionDepth_=0}));function lp(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Dl(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function hp(e,t,n){lp(e,n),dp(e,(function(e){return Dl(e,t)}))}function fp(e,t,n){lp(e,n),dp(e,(function(e){return Ol(e,t)||Ol(t,e)}))}function dp(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(pp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function pp(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Sc&&Ac("event: "+n.toString()),Kc(r)}}}var vp="repo_interrupt",mp=function(){function e(t,n,r,i){l(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lh(),this.transactionQueueTree_=new Ud,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,h.Z)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function yp(e,t,n){if(e.stats_=ul(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Dh(e.repoInfo_,(function(t,n,r,i){bp(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return wp(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ul(e.repoInfo_,t,(function(t,n,r,i){bp(e,t,n,r,i)}),(function(t){wp(e,t)}),(function(t){!function(e,t){qc(t,(function(t,n){_p(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return sl[n]||(sl[n]=t()),sl[n]}(e.repoInfo_,(function(){return new Bh(e.stats_,e.server_)})),e.infoData_=new Oh,e.infoSyncTree_=new ud({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=fd(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),_p(e,"connected",!1),e.serverSyncTree_=new ud({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);fp(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function gp(e){var t=e.infoData_.getNode(new wl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function kp(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:gp(e)})}function bp(e,t,n,r,i){e.dataUpdateCount++;var a=new wl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=ie(n,(function(e){return mh(e)}));o=function(e,t,n,r){var i=Ed(e,r);if(i){var a=Id(i),o=a.path,s=a.queryId,u=Rl(o,t),c=rf.fromObject(n);return Td(e,o,new Kh(Vh(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=mh(n);o=pd(e.serverSyncTree_,a,u,i)}else if(r){var c=ie(n,(function(e){return mh(e)}));o=function(e,t,n){var r=rf.fromObject(n);return gd(e,new Kh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=mh(n);o=fd(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=Op(e,a)),fp(e.eventQueue_,h,o)}function wp(e,t){_p(e,"connected",t),!1===t&&function(e){Np(e,"onDisconnectEvents");var t=kp(e),n=Lh();jh(e.onDisconnect_,_l(),(function(r,i){var a=Fd(r,i,e.serverSyncTree_,t);Mh(n,r,a)}));var r=[];jh(n,_l(),(function(t,n){r=r.concat(fd(e.serverSyncTree_,t,n));var i=Zp(e,t);Op(e,i)})),e.onDisconnect_=Lh(),fp(e.eventQueue_,_l(),r)}(e)}function _p(e,t,n){var r=new wl("/.info/"+t),i=mh(n);e.infoData_.updateSnapshot(r,i);var a=fd(e.infoSyncTree_,r,i);fp(e.eventQueue_,r,a)}function xp(e){return e.nextWriteId_++}function Ep(e,t,n,r,i){Np(e,"set",{path:t.toString(),value:n,priority:r});var a=kp(e),o=mh(n,r),s=md(e.serverSyncTree_,t),u=jd(o,s,a),c=xp(e),l=cd(e.serverSyncTree_,t,u,c,!0);lp(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Oc("set at "+t+" failed: "+n);var o=hd(e.serverSyncTree_,c,!a);fp(e.eventQueue_,t,o),Ap(e,i,n,r)}));var h=Zp(e,t);Op(e,h),fp(e.eventQueue_,h,[])}function Ip(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Fh(e.onDisconnect_,t),Ap(e,n,r,i)}))}function Tp(e,t,n,r){var i=mh(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Mh(e.onDisconnect_,t,i),Ap(e,r,n,a)}))}function Sp(e,t,n){var r;r=".info"===xl(t._path)?dd(e.infoSyncTree_,t,n):dd(e.serverSyncTree_,t,n),hp(e.eventQueue_,t._path,r)}function Cp(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vp)}function Np(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Ac.apply(void 0,[t].concat(r))}function Ap(e,t,n,r){t&&Kc((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Rp(e,t,n){return md(e.serverSyncTree_,t,n)||ph.EMPTY_NODE}function Pp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||jp(e,t),Vd(t)){var n=Mp(e,t);T(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Dp(e,Kd(t),n)}else zd(t)&&Wd(t,(function(t){Pp(e,t)}))}function Dp(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Rp(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];T(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Rl(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){Np(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(hd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);jp(e,Bd(e.transactionQueueTree_,t)),Pp(e,e.transactionQueueTree_),fp(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Kc(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Oc("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Op(e,t)}}),o)}function Op(e,t){var n=Lp(e,t),r=Kd(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=Rl(n,u.path),l=!1,h=void 0;if(T(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(hd(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(hd(e.serverSyncTree_,u.currentWriteId,!0));else{var f=Rp(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){np("transaction failed: Data returned ",d,u.path);var p=mh(d);"object"===typeof d&&null!=d&&te(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=kp(e),y=jd(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=xp(e),o.splice(o.indexOf(v),1),i=(i=i.concat(cd(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(hd(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(hd(e.serverSyncTree_,u.currentWriteId,!0))}fp(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);jp(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Kc(r[c]);Pp(e,e.transactionQueueTree_)}(e,Mp(e,n),r),r}function Lp(e,t){var n,r=e.transactionQueueTree_;for(n=xl(t);null!==n&&void 0===Vd(r);)r=Bd(r,n),n=xl(t=Il(t));return r}function Mp(e,t){var n=[];return Fp(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Fp(e,t,n){var r=Vd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Wd(t,(function(t){Fp(e,t,n)}))}function jp(e,t){var n=Vd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,qd(t,n.length>0?n:void 0)}Wd(t,(function(t){jp(e,t)}))}function Zp(e,t){var n=Kd(Lp(e,t)),r=Bd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Up(e,t)})),Up(e,r),Gd(r,(function(t){Up(e,t)})),n}function Up(e,t){var n=Vd(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(T(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(T(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hd(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?qd(t,void 0):n.length=a+1,fp(e.eventQueue_,Kd(t),i);for(var s=0;s<r.length;s++)Kc(r[s])}}var Bp=function(e,t){var n=Vp(e),r=n.namespace;"firebase.com"===n.domain&&Dc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Dc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Oc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new rl(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new wl(n.pathString)}},Vp=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=d(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Oc("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},qp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zp=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=qp.charAt(n%64),n=Math.floor(n/64);T(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=qp.charAt(t[r]);return T(20===o.length,"nextPushId: Length should be 20."),o}}(),Wp=function(){function e(t,n,r,i){l(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return(0,h.Z)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+$(this.snapshot.exportVal())}}]),e}(),Gp=function(){function e(t,n,r){l(this,e),this.eventRegistration=t,this.error=n,this.path=r}return(0,h.Z)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Kp=function(){function e(t,n){l(this,e),this.snapshotCallback=t,this.cancelCallback=n}return(0,h.Z)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Hp=function(){function e(t,n){l(this,e),this._repo=t,this._path=n}return(0,h.Z)(e,[{key:"cancel",value:function(){var e=new j;return Ip(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){sp("OnDisconnect.remove",this._path);var e=new j;return Tp(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){sp("OnDisconnect.set",this._path),tp("OnDisconnect.set",e,this._path,!1);var t=new j;return Tp(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){sp("OnDisconnect.setWithPriority",this._path),tp("OnDisconnect.setWithPriority",e,this._path,!1),ip("OnDisconnect.setWithPriority",t,!1);var n=new j;return function(e,t,n,r,i){var a=mh(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Mh(e.onDisconnect_,t,a),Ap(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){sp("OnDisconnect.update",this._path),rp("OnDisconnect.update",e,this._path,!1);var t=new j;return function(e,t,n,r){if(re(n))return Ac("onDisconnect().update() called with empty data.  Don't do anything."),void Ap(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&qc(n,(function(n,r){var i=mh(r);Mh(e.onDisconnect_,Nl(t,n),i)})),Ap(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Qp=function(){function e(t,n,r,i){l(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return(0,h.Z)(e,[{key:"key",get:function(){return Al(this._path)?null:Tl(this._path)}},{key:"ref",get:function(){return new $p(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ph(this._queryParams),t=Bc(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ph(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ke(t))instanceof e))return!1;var n=this._repo===t._repo,r=Dl(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Yp(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Jp(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Wl){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Mc)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Fc)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===uh){if(null!=t&&!ep(t)||null!=n&&!ep(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(e.getIndex()instanceof yh||e.getIndex()===kh,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xp(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var $p=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,r,new Sh,!1)}return(0,h.Z)(n,[{key:"parent",get:function(){var e=Cl(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Qp),ev=function(){function e(t,n,r){l(this,e),this._node=t,this.ref=n,this._index=r}return(0,h.Z)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new wl(t),r=rv(this.ref,t);return new e(this._node.getChild(n),r,uh)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,rv(n.ref,r),uh))}))}},{key:"hasChild",value:function(e){var t=new wl(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function tv(e,t){return(e=ke(e))._checkNotDeleted("ref"),void 0!==t?rv(e._root,t):e._root}function nv(e,t){(e=ke(e))._checkNotDeleted("refFromURL");var n=Bp(t,e._repo.repoInfo_.nodeAdmin);up("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Dc("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),tv(e,n.path.toString())}function rv(e,t){var n,r,i,a;return null===xl((e=ke(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),op(n,r,i,a)):op("child","path",t,!1),new $p(e._repo,Nl(e._path,t))}function iv(e,t){e=ke(e),sp("push",e._path),tp("push",t,e._path,!0);var n,r=gp(e._repo),i=zp(r),a=rv(e,i),o=rv(e,i);return n=null!=t?ov(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function av(e){return sp("remove",e._path),ov(e,null)}function ov(e,t){e=ke(e),sp("set",e._path),tp("set",t,e._path,!1);var n=new j;return Ep(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function sv(e,t){e=ke(e),sp("setPriority",e._path),ip("setPriority",t,!1);var n=new j;return Ep(e._repo,Nl(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function uv(e,t,n){if(sp("setWithPriority",e._path),tp("setWithPriority",t,e._path,!1),ip("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new j;return Ep(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function cv(e,t){rp("update",t,e._path,!1);var n=new j;return function(e,t,n,r){Np(e,"update",{path:t.toString(),value:n});var i=!0,a=kp(e),o={};if(qc(n,(function(n,r){i=!1,o[n]=Fd(Nl(t,n),mh(r),e.serverSyncTree_,a)})),i)Ac("update() called with empty data.  Don't do anything."),Ap(0,r,"ok",void 0);else{var s=xp(e),u=ld(e.serverSyncTree_,t,o,s);lp(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Oc("update at "+t+" failed: "+n);var o=hd(e.serverSyncTree_,s,!a),u=o.length>0?Op(e,t):t;fp(e.eventQueue_,u,o),Ap(0,r,n,i)})),qc(n,(function(n){var r=Zp(e,Nl(t,n));Op(e,r)})),fp(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function lv(e){e=ke(e);var t=new Kp((function(){})),n=new hv(t);return function(e,t,n){var r=yd(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=mh(r).withIndex(t._queryParams.getIndex());if(vd(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=fd(e.serverSyncTree_,t._path,a);else{var o=_d(e.serverSyncTree_,t);i=pd(e.serverSyncTree_,t._path,a,o)}return fp(e.eventQueue_,t._path,i),dd(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Np(e,"get for query "+$(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new ev(t,new $p(e._repo,e._path),e._queryParams.getIndex())}))}var hv=function(){function e(t){l(this,e),this.callbackContext=t}return(0,h.Z)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Wp("value",this,new ev(e.snapshotNode,new $p(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Gp(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),fv=function(){function e(t,n){l(this,e),this.eventType=t,this.callbackContext=n}return(0,h.Z)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Gp(this,e,t):null}},{key:"createEvent",value:function(e,t){T(null!=e.childName,"Child events should have a childName.");var n=rv(new $p(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Wp(e.type,this,new ev(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function dv(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Sp(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Kp(n,a||void 0),c="value"===t?new hv(u):new fv(t,u);return function(e,t,n){var r;r=".info"===xl(t._path)?vd(e.infoSyncTree_,t,n):vd(e.serverSyncTree_,t,n),hp(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Sp(e._repo,e,c)}}function pv(e,t,n,r){return dv(e,"value",t,n,r)}function vv(e,t,n,r){return dv(e,"child_added",t,n,r)}function mv(e,t,n,r){return dv(e,"child_changed",t,n,r)}function yv(e,t,n,r){return dv(e,"child_moved",t,n,r)}function gv(e,t,n,r){return dv(e,"child_removed",t,n,r)}function kv(e,t,n){var r=null,i=n?new Kp(n):null;"value"===t?r=new hv(i):t&&(r=new fv(t,i)),Sp(e._repo,e,r)}var bv=(0,h.Z)((function e(){l(this,e)})),wv=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,h.Z)(n,[{key:"_apply",value:function(e){tp("endAt",this._value,e._path,!0);var t=Nh(e._queryParams,this._value,this._key);if(Xp(t),Jp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qp(e._repo,e._path,t,e._orderByCalled)}}]),n}(bv);function _v(e,t){return ap("endAt","key",t,!0),new wv(e,t)}var xv=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,h.Z)(n,[{key:"_apply",value:function(e){tp("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===Wl||n?Nh(e,t,n):Nh(e,t,Mc)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Xp(t),Jp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qp(e._repo,e._path,t,e._orderByCalled)}}]),n}(bv);function Ev(e,t){return ap("endBefore","key",t,!0),new xv(e,t)}var Iv=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,h.Z)(n,[{key:"_apply",value:function(e){tp("startAt",this._value,e._path,!0);var t=Ch(e._queryParams,this._value,this._key);if(Xp(t),Jp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qp(e._repo,e._path,t,e._orderByCalled)}}]),n}(bv);function Tv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ap("startAt","key",t,!0),new Iv(e,t)}var Sv=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,h.Z)(n,[{key:"_apply",value:function(e){tp("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===Wl||n?Ch(e,t,n):Ch(e,t,Fc)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Xp(t),Jp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qp(e._repo,e._path,t,e._orderByCalled)}}]),n}(bv);function Cv(e,t){return ap("startAfter","key",t,!0),new Sv(e,t)}var Nv=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this))._limit=e,r}return(0,h.Z)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qp(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(bv);function Av(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Nv(e)}var Rv=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this))._limit=e,r}return(0,h.Z)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qp(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(bv);function Pv(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Rv(e)}var Dv=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this))._path=e,r}return(0,h.Z)(n,[{key:"_apply",value:function(e){Yp(e,"orderByChild");var t=new wl(this._path);if(Al(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new yh(t),r=Ah(e._queryParams,n);return Jp(r),new Qp(e._repo,e._path,r,!0)}}]),n}(bv);function Ov(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return op("orderByChild","path",e,!1),new Dv(e)}var Lv=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"_apply",value:function(e){Yp(e,"orderByKey");var t=Ah(e._queryParams,Wl);return Jp(t),new Qp(e._repo,e._path,t,!0)}}]),n}(bv);function Mv(){return new Lv}var Fv=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"_apply",value:function(e){Yp(e,"orderByPriority");var t=Ah(e._queryParams,uh);return Jp(t),new Qp(e._repo,e._path,t,!0)}}]),n}(bv);function jv(){return new Fv}var Zv=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"_apply",value:function(e){Yp(e,"orderByValue");var t=Ah(e._queryParams,kh);return Jp(t),new Qp(e._repo,e._path,t,!0)}}]),n}(bv);function Uv(){return new Zv}var Bv=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,h.Z)(n,[{key:"_apply",value:function(e){if(tp("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wv(this._value,this._key)._apply(new Iv(this._value,this._key)._apply(e))}}]),n}(bv);function Vv(e,t){return ap("equalTo","key",t,!0),new Bv(e,t)}function qv(e){for(var t=ke(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){T(!Bf,"__referenceConstructor has already been defined"),Bf=e}($p),function(e){T(!Hf,"__referenceConstructor has already been defined"),Hf=e}($p);var zv={},Wv=!1;function Gv(e,t,n,r){e.repoInfo_=new rl("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Kv(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Dc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ac("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Bp(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/InstagramClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Bp(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new Jc(Jc.OWNER):new Yc(e.name,e.options,t);up("Invalid Firebase Database URL",s),Al(s.path)||Dc("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=zv[t.name];i||(i={},zv[t.name]=i);var a=i[e.toURLString()];a&&Dc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new mp(e,Wv,n,r),i[e.toURLString()]=a,a}(u,e,l,new Qc(e.name,n));return new Hv(h,e)}var Hv=function(){function e(t,n){l(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return(0,h.Z)(e,[{key:"_repo",get:function(){return this._instanceStarted||(yp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new $p(this._repo,_l())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=zv[t];n&&n[e.key]===e||Dc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Cp(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Dc("Cannot call "+e+" on a deleted database.")}}]),e}();function Qv(){ml.IS_TRANSPORT_INITIALIZED&&Oc("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Yv(){Qv(),fl.forceDisallow()}function Jv(){Qv(),vl.forceDisallow(),fl.forceAllow()}function Xv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ke(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Dc("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Dc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Jc(Jc.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Z(r.mockUserToken,e.app.options.projectId);a=new Jc(o)}Gv(i,t,n,a)}function $v(e){(e=ke(e))._checkNotDeleted("goOffline"),Cp(e._repo)}function em(e){var t;(e=ke(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(vp)}function tm(e,t){Nc(e,t)}var nm={".sv":"timestamp"};var rm=function(){function e(t,n){l(this,e),this.committed=t,this.snapshot=n}return(0,h.Z)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function im(e,t,n){var r;if(e=ke(e),sp("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new j,o=pv(e,(function(){}));return function(e,t,n,r,i,a){Np(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Ec(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Rp(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{np("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=Bd(e.transactionQueueTree_,t),h=Vd(l)||[];h.push(o),qd(l,h),"object"===typeof u&&null!==u&&te(u,".priority")?(c=ne(u,".priority"),T(ep(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(md(e.serverSyncTree_,t)||ph.EMPTY_NODE).getPriority().val();var f=kp(e),d=mh(u,c),p=jd(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=xp(e);var v=cd(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);fp(e.eventQueue_,t,v),Pp(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new ev(r,new $p(e._repo,e._path),uh),a.resolve(new rm(n,i)))}),o,i),a.promise}Ul.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ul.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){yc(mt),ct(new we("database",(function(e,t){var n=t.instanceIdentifier;return Kv(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),_t(pc,vc,e),_t(pc,vc,"esm2017")}();var am=new Pe("@firebase/database-compat"),om=function(e){var t="FIREBASE WARNING: "+e;am.warn(t)},sm=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(ve(e,t)+"must be a boolean.")},um=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ve(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},cm=function(){function e(t){l(this,e),this._delegate=t}return(0,h.Z)(e,[{key:"cancel",value:function(e){pe("OnDisconnect.cancel",0,1,arguments.length),me("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){pe("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){pe("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){pe("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(pe("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,om("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}me("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),lm=function(){function e(t,n){l(this,e),this.committed=t,this.snapshot=n}return(0,h.Z)(e,[{key:"toJSON",value:function(){return pe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),hm=function(){function e(t,n){l(this,e),this._database=t,this._delegate=n}return(0,h.Z)(e,[{key:"val",value:function(){return pe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return pe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return pe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return pe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return pe("DataSnapshot.child",0,1,arguments.length),t=String(t),op("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return pe("DataSnapshot.hasChild",1,1,arguments.length),op("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return pe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return pe("DataSnapshot.forEach",1,1,arguments.length),me("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return pe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return pe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return pe("DataSnapshot.ref",0,0,arguments.length),new dm(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),fm=function(){function e(t,n){l(this,e),this.database=t,this._delegate=n}return(0,h.Z)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;pe("Query.on",2,4,arguments.length),me("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new hm(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return pv(this._delegate,u,c),n;case"child_added":return vv(this._delegate,u,c),n;case"child_removed":return gv(this._delegate,u,c),n;case"child_changed":return mv(this._delegate,u,c),n;case"child_moved":return yv(this._delegate,u,c),n;default:throw new Error(ve("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(pe("Query.off",0,3,arguments.length),um("Query.off",e,!0),me("Query.off","callback",t,!0),ye("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,kv(this._delegate,e,r)}else kv(this._delegate,e)}},{key:"get",value:function(){var e=this;return lv(this._delegate).then((function(t){return new hm(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;pe("Query.once",1,4,arguments.length),me("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new j,u=function(e,t){var r=new hm(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":pv(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":vv(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":gv(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":mv(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":yv(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(ve("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return pe("Query.limitToFirst",1,1,arguments.length),new e(this.database,qv(this._delegate,Av(t)))}},{key:"limitToLast",value:function(t){return pe("Query.limitToLast",1,1,arguments.length),new e(this.database,qv(this._delegate,Pv(t)))}},{key:"orderByChild",value:function(t){return pe("Query.orderByChild",1,1,arguments.length),new e(this.database,qv(this._delegate,Ov(t)))}},{key:"orderByKey",value:function(){return pe("Query.orderByKey",0,0,arguments.length),new e(this.database,qv(this._delegate,Mv()))}},{key:"orderByPriority",value:function(){return pe("Query.orderByPriority",0,0,arguments.length),new e(this.database,qv(this._delegate,jv()))}},{key:"orderByValue",value:function(){return pe("Query.orderByValue",0,0,arguments.length),new e(this.database,qv(this._delegate,Uv()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pe("Query.startAt",0,2,arguments.length),new e(this.database,qv(this._delegate,Tv(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pe("Query.startAfter",0,2,arguments.length),new e(this.database,qv(this._delegate,Cv(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pe("Query.endAt",0,2,arguments.length),new e(this.database,qv(this._delegate,_v(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return pe("Query.endBefore",0,2,arguments.length),new e(this.database,qv(this._delegate,Ev(t,n)))}},{key:"equalTo",value:function(t,n){return pe("Query.equalTo",1,2,arguments.length),new e(this.database,qv(this._delegate,Vv(t,n)))}},{key:"toString",value:function(){return pe("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return pe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(pe("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new dm(this.database,new $p(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,me(e,"cancel",r.cancel,!0),r.context=n,ye(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(ve(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),dm=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,new Qp(r._repo,r._path,new Sh,!1))).database=e,i._delegate=r,i}return(0,h.Z)(n,[{key:"getKey",value:function(){return pe("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return pe("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,rv(this._delegate,e))}},{key:"getParent",value:function(){pe("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return pe("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){pe("Reference.set",1,2,arguments.length),me("Reference.set","onComplete",t,!0);var n=ov(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(pe("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,om("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sp("Reference.update",this._delegate._path),me("Reference.update","onComplete",t,!0);var i=cv(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){pe("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority","onComplete",n,!0);var r=uv(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){pe("Reference.remove",0,1,arguments.length),me("Reference.remove","onComplete",e,!0);var t=av(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;pe("Reference.transaction",1,3,arguments.length),me("Reference.transaction","transactionUpdate",e,!1),me("Reference.transaction","onComplete",t,!0),sm("Reference.transaction","applyLocally",n,!0);var i=im(this._delegate,e,{applyLocally:n}).then((function(e){return new lm(e.committed,new hm(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){pe("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority","onComplete",t,!0);var n=sv(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;pe("Reference.push",0,2,arguments.length),me("Reference.push","onComplete",t,!0);var i=iv(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return sp("Reference.onDisconnect",this._delegate._path),new cm(new Hp(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(fm),pm=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Yv,forceLongPolling:Jv}}return(0,h.Z)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xv(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(pe("database.ref",0,1,arguments.length),e instanceof dm){var t=nv(this._delegate,e.toString());return new dm(this,t)}var n=tv(this._delegate,e);return new dm(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";pe(t,1,1,arguments.length);var n=nv(this._delegate,e);return new dm(this,n)}},{key:"goOffline",value:function(){return pe("database.goOffline",0,0,arguments.length),$v(this._delegate)}},{key:"goOnline",value:function(){return pe("database.goOnline",0,0,arguments.length),em(this._delegate)}}]),e}();pm.ServerValue={TIMESTAMP:nm,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var vm=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;yc(r);var u=new xe("auth-internal",new Te("database-standalone"));return u.setComponent(new we("auth-internal",(function(){return i}),"PRIVATE")),{instance:new pm(Kv(t,u,void 0,n,s),t),namespace:a}}}),mm=pm.ServerValue;!function(e){e.INTERNAL.registerComponent(new we("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new pm(i,r)}),"PUBLIC").setServiceProps({Reference:dm,Query:fm,Database:pm,DataSnapshot:hm,enableLogging:tm,INTERNAL:vm,ServerValue:mm}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(Gt);var ym,gm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},km={},bm=bm||{},wm=gm||self;function _m(){}function xm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Em(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Im="closure_uid_"+(1e9*Math.random()>>>0),Tm=0;function Sm(e,t,n){return e.call.apply(e.bind,arguments)}function Cm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Nm(e,t,n){return(Nm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sm:Cm).apply(null,arguments)}function Am(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Rm(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Pm(){this.s=this.s,this.o=this.o}Pm.prototype.s=!1,Pm.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Im)&&e[Im]||(e[Im]=++Tm))},Pm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Om(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lm(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(xm(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Mm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Mm.prototype.h=function(){this.defaultPrevented=!0};var Fm=function(){if(!wm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{wm.addEventListener("test",_m,t),wm.removeEventListener("test",_m,t)}catch(n){}return e}();function jm(e){return/^[\s\xa0]*$/.test(e)}var Zm=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Um(e,t){return e<t?-1:e>t?1:0}function Bm(){var e=wm.navigator;return e&&(e=e.userAgent)?e:""}function Vm(e){return-1!=Bm().indexOf(e)}function qm(e){return qm[" "](e),e}qm[" "]=_m;var zm,Wm=Vm("Opera"),Gm=Vm("Trident")||Vm("MSIE"),Km=Vm("Edge"),Hm=Km||Gm,Qm=Vm("Gecko")&&!(-1!=Bm().toLowerCase().indexOf("webkit")&&!Vm("Edge"))&&!(Vm("Trident")||Vm("MSIE"))&&!Vm("Edge"),Ym=-1!=Bm().toLowerCase().indexOf("webkit")&&!Vm("Edge");function Jm(){var e=wm.document;return e?e.documentMode:void 0}e:{var Xm="",$m=function(){var e=Bm();return Qm?/rv:([^\);]+)(\)|;)/.exec(e):Km?/Edge\/([\d\.]+)/.exec(e):Gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ym?/WebKit\/(\S+)/.exec(e):Wm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($m&&(Xm=$m?$m[1]:""),Gm){var ey=Jm();if(null!=ey&&ey>parseFloat(Xm)){zm=String(ey);break e}}zm=Xm}var ty,ny={};function ry(){return function(e){var t=ny;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zm(String(zm)).split("."),n=Zm("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Um(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Um(0==a[2].length,0==o[2].length)||Um(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(wm.document&&Gm){var iy=Jm();ty=iy||(parseInt(zm,10)||void 0)}else ty=void 0;var ay=ty;function oy(e,t){if(Mm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qm){e:{try{qm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oy.X.h.call(this)}}Rm(oy,Mm);var sy={2:"touch",3:"pen",4:"mouse"};oy.prototype.h=function(){oy.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uy="closure_listenable_"+(1e6*Math.random()|0),cy=0;function ly(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++cy,this.ba=this.ea=!1}function hy(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function fy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function dy(e){var t={};for(var n in e)t[n]=e[n];return t}var py="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<py.length;a++)n=py[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function my(e){this.src=e,this.g={},this.h=0}function yy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Dm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}my.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gy(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ly(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ky="closure_lm_"+(1e6*Math.random()|0),by={};function wy(e,t,n,r,i){if(r&&r.once)return xy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wy(e,t[a],n,r,i);return null}return n=Ay(n),e&&e[uy]?e.N(t,n,Em(r)?!!r.capture:!!r,i):_y(e,t,n,!1,r,i)}function _y(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Em(i)?!!i.capture:!!i,s=Cy(e);if(s||(e[ky]=s=new my(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Fm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ty(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xy(e,t[a],n,r,i);return null}return n=Ay(n),e&&e[uy]?e.O(t,n,Em(r)?!!r.capture:!!r,i):_y(e,t,n,!0,r,i)}function Ey(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ey(e,t[a],n,r,i);else r=Em(r)?!!r.capture:!!r,n=Ay(n),e&&e[uy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gy(a=e.g[t],n,r,i))&&(hy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gy(t,n,r,i)),(n=-1<e?t[e]:null)&&Iy(n))}function Iy(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[uy])yy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ty(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cy(t))?(yy(n,e),0==n.h&&(n.src=null,t[ky]=null)):hy(e)}}}function Ty(e){return e in by?by[e]:by[e]="on"+e}function Sy(e,t){if(e.ba)e=!0;else{t=new oy(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Iy(e),e=n.call(r,t)}return e}function Cy(e){return(e=e[ky])instanceof my?e:null}var Ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ay(e){return"function"===typeof e?e:(e[Ny]||(e[Ny]=function(t){return e.handleEvent(t)}),e[Ny])}function Ry(){Pm.call(this),this.i=new my(this),this.P=this,this.I=null}function Py(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mm(t,e);else if(t instanceof Mm)t.target=t.target||e;else{var i=t;vy(t=new Mm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dy(o,r,!0,t)&&i}if(i=Dy(o=t.g=e,r,!0,t)&&i,i=Dy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dy(o=t.g=n[a],r,!1,t)&&i}function Dy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&yy(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Rm(Ry,Pm),Ry.prototype[uy]=!0,Ry.prototype.removeEventListener=function(e,t,n,r){Ey(this,e,t,n,r)},Ry.prototype.M=function(){if(Ry.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hy(n[r]);delete t.g[e],t.h--}}this.I=null},Ry.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ry.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oy=wm.JSON.stringify;function Ly(){var e=qy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var My,Fy=function(){function e(){l(this,e),this.h=this.g=null}return(0,h.Z)(e,[{key:"add",value:function(e,t){var n=jy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),jy=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,h.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zy}),(function(e){return e.reset()})),Zy=function(){function e(){l(this,e),this.next=this.g=this.h=null}return(0,h.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Uy(e){wm.setTimeout((function(){throw e}),0)}function By(e,t){My||function(){var e=wm.Promise.resolve(void 0);My=function(){e.then(zy)}}(),Vy||(My(),Vy=!0),qy.add(e,t)}var Vy=!1,qy=new Fy;function zy(){for(var e;e=Ly();){try{e.h.call(e.g)}catch(n){Uy(n)}var t=jy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vy=!1}function Wy(e,t){Ry.call(this),this.h=e||1,this.g=t||wm,this.j=Nm(this.lb,this),this.l=Date.now()}function Gy(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ky(e,t,n){if("function"===typeof e)n&&(e=Nm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Nm(e.handleEvent,e)}return 2147483647<Number(t)?-1:wm.setTimeout(e,t||0)}function Hy(e){e.g=Ky((function(){e.g=null,e.i&&(e.i=!1,Hy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Rm(Wy,Ry),(ym=Wy.prototype).ca=!1,ym.R=null,ym.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Py(this,"tick"),this.ca&&(Gy(this),this.start()))}},ym.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ym.M=function(){Wy.X.M.call(this),Gy(this),delete this.g};var Qy=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,h.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Hy(this)}},{key:"M",value:function(){Jt(y(n.prototype),"M",this).call(this),this.g&&(wm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Pm);function Yy(e){Pm.call(this),this.h=e,this.g={}}Rm(Yy,Pm);var Jy=[];function Xy(e,t,n,r){Array.isArray(n)||(n&&(Jy[0]=n.toString()),n=Jy);for(var i=0;i<n.length;i++){var a=wy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $y(e){fy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iy(e)}),e),e.g={}}function eg(){this.g=!0}function tg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Oy(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Yy.prototype.M=function(){Yy.X.M.call(this),$y(this)},Yy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eg.prototype.Aa=function(){this.g=!1},eg.prototype.info=function(){};var ng={},rg=null;function ig(){return rg=rg||new Ry}function ag(e){Mm.call(this,ng.Pa,e)}function og(e){var t=ig();Py(t,new ag(t))}function sg(e,t){Mm.call(this,ng.STAT_EVENT,e),this.stat=t}function ug(e){var t=ig();Py(t,new sg(t,e))}function cg(e,t){Mm.call(this,ng.Qa,e),this.size=t}function lg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wm.setTimeout((function(){e()}),t)}ng.Pa="serverreachability",Rm(ag,Mm),ng.STAT_EVENT="statevent",Rm(sg,Mm),ng.Qa="timingevent",Rm(cg,Mm);var hg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},fg={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function dg(){}function pg(e){return e.h||(e.h=e.i())}function vg(){}dg.prototype.h=null;var mg,yg={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gg(){Mm.call(this,"d")}function kg(){Mm.call(this,"c")}function bg(){}function wg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Yy(this),this.O=xg,e=Hm?125:void 0,this.T=new Wy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _g}function _g(){this.i=null,this.g="",this.h=!1}Rm(gg,Mm),Rm(kg,Mm),Rm(bg,dg),bg.prototype.g=function(){return new XMLHttpRequest},bg.prototype.i=function(){return{}},mg=new bg;var xg=45e3,Eg={},Ig={};function Tg(e,t,n){e.K=1,e.v=Wg(Ug(t)),e.s=n,e.P=!0,Sg(e,null)}function Sg(e,t){e.F=Date.now(),Rg(e),e.A=Ug(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),ik(n.i,"t",r),e.C=0,n=e.l.H,e.h=new _g,e.g=ab(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Qy(Nm(e.La,e,e.g),e.N)),Xy(e.S,e.g,"readystatechange",e.ib),t=e.H?dy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),og(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Cg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Ng(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ag(e,n))==Ig){4==t&&(e.o=4,ug(14),i=!1),tg(e.j,e.m,null,"[Incomplete Response]");break}if(r==Eg){e.o=4,ug(15),tg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tg(e.j,e.m,r,null),Mg(e,r)}Cg(e)&&r!=Ig&&r!=Eg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ug(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jk(t),t.K=!0,ug(11))):(tg(e.j,e.m,n,"[Invalid Chunked Response]"),Lg(e),Og(e))}function Ag(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ig:(n=Number(t.substring(n,r)),isNaN(n)?Eg:(r+=1)+n>t.length?Ig:(t=t.substr(r,n),e.C=r+n,t))}function Rg(e){e.V=Date.now()+e.O,Pg(e,e.O)}function Pg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lg(Nm(e.gb,e),t)}function Dg(e){e.B&&(wm.clearTimeout(e.B),e.B=null)}function Og(e){0==e.l.G||e.I||eb(e.l,e)}function Lg(e){Dg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gy(e.T),$y(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fk(n.h,e)))if(!e.J&&fk(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$k(n),qk(n)}Yk(n),ug(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=lg(Nm(n.cb,n),6e3));if(1>=hk(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else nb(n,11)}else if((e.J||n.g==e)&&$k(n),!jm(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.h;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(dk(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.za=f,zg(r.F,r.D,f))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ib(r,r.H?r.ka:null,r.V),d.J){pk(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Dg(p),Rg(p)),r.g=d}else Qk(r);0<n.i.length&&Wk(n)}else"stop"!=a[0]&&"close"!=a[0]||nb(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nb(n,7):Vk(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}og()}catch(a){}}function Fg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(xm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(xm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(xm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ym=wg.prototype).setTimeout=function(e){this.O=e},ym.ib=function(e){e=e.target;var t=this.L;t&&3==Mk(e)?t.l():this.La(e)},ym.La=function(e){try{if(e==this.g)e:{var t=Mk(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Hm||this.g&&(this.h.h||this.g.fa()||Fk(this.g)))){this.I||4!=t||7==n||og(),Dg(this);var r=this.g.aa();this.Y=r;t:if(Cg(this)){var i=Fk(this.g);e="";var a=i.length,o=4==Mk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lg(this),Og(this);var s="";break t}this.h.i=new wm.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jm(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,ug(12),Lg(this),Og(this);break e}tg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mg(this,r)}this.P?(Ng(this,t,s),Hm&&this.i&&3==t&&(Xy(this.S,this.T,"tick",this.hb),this.T.start())):(tg(this.j,this.m,s,null),Mg(this,s)),4==t&&Lg(this),this.i&&!this.I&&(4==t?eb(this.l,this):(this.i=!1,Rg(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ug(12)):(this.o=0,ug(13)),Lg(this),Og(this)}}}catch(t){}},ym.hb=function(){if(this.g){var e=Mk(this.g),t=this.g.fa();this.C<t.length&&(Dg(this),Ng(this,e,t),this.i&&4!=e&&Rg(this))}},ym.cancel=function(){this.I=!0,Lg(this)},ym.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(og(),ug(17)),Lg(this),this.o=2,Og(this)):Pg(this,this.V-e)};var jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zg(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zg){this.h=void 0!==t?t:e.h,Bg(this,e.j),this.s=e.s,this.g=e.g,Vg(this,e.m),this.l=e.l,t=e.i;var n=new ek;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),qg(this,n),this.o=e.o}else e&&(n=String(e).match(jg))?(this.h=!!t,Bg(this,n[1]||"",!0),this.s=Gg(n[2]||""),this.g=Gg(n[3]||"",!0),Vg(this,n[4]),this.l=Gg(n[5]||"",!0),qg(this,n[6]||"",!0),this.o=Gg(n[7]||"")):(this.h=!!t,this.i=new ek(null,this.h))}function Ug(e){return new Zg(e)}function Bg(e,t,n){e.j=n?Gg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qg(e,t,n){t instanceof ek?(e.i=t,function(e,t){t&&!e.j&&(tk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nk(this,t),ik(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Kg(t,Xg)),e.i=new ek(t,e.h))}function zg(e,t,n){e.i.set(t,n)}function Wg(e){return zg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kg(t,Qg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kg(t,Qg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kg(n,"/"==n.charAt(0)?Jg:Yg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kg(n,$g)),e.join("")};var Qg=/[#\/\?@]/g,Yg=/[#\?:]/g,Jg=/[#\?]/g,Xg=/[#\?@]/g,$g=/#/g;function ek(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nk(e,t){tk(e),t=ak(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rk(e,t){return tk(e),t=ak(e,t),e.g.has(t)}function ik(e,t,n){nk(e,t),0<n.length&&(e.i=null,e.g.set(ak(e,t),Om(n)),e.h+=n.length)}function ak(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ym=ek.prototype).add=function(e,t){tk(this),this.i=null,e=ak(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ym.forEach=function(e,t){tk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ym.oa=function(){tk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ym.W=function(e){tk(this);var t=[];if("string"===typeof e)rk(this,e)&&(t=t.concat(this.g.get(ak(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ym.set=function(e,t){return tk(this),this.i=null,rk(this,e=ak(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ym.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ym.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var ok=(0,h.Z)((function e(t,n){l(this,e),this.h=t,this.g=n}));function sk(e){this.l=e||ck,wm.PerformanceNavigationTiming?e=0<(e=wm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wm.g&&wm.g.Ga&&wm.g.Ga()&&wm.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uk,ck=10;function lk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hk(e){return e.h?1:e.g?e.g.size:0}function fk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dk(e,t){e.g?e.g.add(t):e.h=t}function pk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=d(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Om(e.i)}function mk(){}function yk(){this.g=new mk}function gk(e,t,n){var r=n||"";try{Fg(e,(function(e,n){var i=e;Em(e)&&(i=Oy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bk(e){this.l=e.ac||null,this.j=e.jb||!1}function wk(e,t){Ry.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_k,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sk.prototype.cancel=function(){if(this.i=vk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=d(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mk.prototype.stringify=function(e){return wm.JSON.stringify(e,void 0)},mk.prototype.parse=function(e){return wm.JSON.parse(e,void 0)},Rm(bk,dg),bk.prototype.g=function(){return new wk(this.l,this.j)},bk.prototype.i=(uk={},function(){return uk}),Rm(wk,Ry);var _k=0;function xk(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Ek(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ik(e)}function Ik(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ym=wk.prototype).open=function(e,t){if(this.readyState!=_k)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ik(this)},ym.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||wm).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},ym.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ek(this)),this.readyState=_k},ym.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ik(this)),this.g&&(this.readyState=3,Ik(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof wm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xk(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},ym.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ek(this):Ik(this),3==this.readyState&&xk(this)}},ym.Va=function(e){this.g&&(this.response=this.responseText=e,Ek(this))},ym.Ua=function(e){this.g&&(this.response=e,Ek(this))},ym.ga=function(){this.g&&Ek(this)},ym.setRequestHeader=function(e,t){this.v.append(e,t)},ym.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ym.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tk=wm.JSON.parse;function Sk(e){Ry.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ck,this.K=this.L=!1}Rm(Sk,Ry);var Ck="",Nk=/^https?$/i,Ak=["POST","PUT"];function Rk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pk(e),Ok(e)}function Pk(e){e.D||(e.D=!0,Py(e,"complete"),Py(e,"error"))}function Dk(e){if(e.h&&"undefined"!=typeof bm&&(!e.C[1]||4!=Mk(e)||2!=e.aa()))if(e.v&&4==Mk(e))Ky(e.Ha,0,e);else if(Py(e,"readystatechange"),4==Mk(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(jg)[1]||null;if(!a&&wm.self&&wm.self.location){var o=wm.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nk.test(a?a.toLowerCase():"")}t=i}if(t)Py(e,"complete"),Py(e,"success");else{e.m=6;try{var s=2<Mk(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Pk(e)}}finally{Ok(e)}}}function Ok(e,t){if(e.g){Lk(e);var n=e.g,r=e.C[0]?_m:null;e.g=null,e.C=null,t||Py(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Lk(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(wm.clearTimeout(e.A),e.A=null)}function Mk(e){return e.g?e.g.readyState:0}function Fk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ck:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wb){return null}}function jk(e){var t="";return fy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jk(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zg(e,t,n))}function Uk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bk(e){this.Ca=0,this.i=[],this.j=new eg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uk("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uk("baseRetryDelayMs",5e3,e),this.bb=Uk("retryDelaySeedMs",1e4,e),this.$a=Uk("forwardChannelMaxRetries",2,e),this.ta=Uk("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new sk(e&&e.concurrentRequestLimit),this.Fa=new yk,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Vk(e){if(zk(e),3==e.G){var t=e.U++,n=Ug(e.F);zg(n,"SID",e.I),zg(n,"RID",t),zg(n,"TYPE","terminate"),Kk(e,n),(t=new wg(e,e.j,t,void 0)).K=2,t.v=Wg(Ug(n)),n=!1,wm.navigator&&wm.navigator.sendBeacon&&(n=wm.navigator.sendBeacon(t.v.toString(),"")),!n&&wm.Image&&((new Image).src=t.v,n=!0),n||(t.g=ab(t.l,null),t.g.da(t.v)),t.F=Date.now(),Rg(t)}rb(e)}function qk(e){e.g&&(Jk(e),e.g.cancel(),e.g=null)}function zk(e){qk(e),e.u&&(wm.clearTimeout(e.u),e.u=null),$k(e),e.h.cancel(),e.m&&("number"===typeof e.m&&wm.clearTimeout(e.m),e.m=null)}function Wk(e){lk(e.h)||e.m||(e.m=!0,By(e.Ja,e),e.C=0)}function Gk(e,t){var n;n=t?t.m:e.U++;var r=Ug(e.F);zg(r,"SID",e.I),zg(r,"RID",n),zg(r,"AID",e.T),Kk(e,r),e.o&&e.s&&Zk(r,e.o,e.s),n=new wg(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Hk(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),dk(e.h,n),Tg(n,r,t)}function Kk(e,t){e.ia&&fy(e.ia,(function(e,n){zg(t,n,e)})),e.l&&Fg({},(function(e,n){zg(t,n,e)}))}function Hk(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Nm(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{gk(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Qk(e){e.g||e.u||(e.Z=1,By(e.Ia,e),e.A=0)}function Yk(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=lg(Nm(e.Ia,e),tb(e,e.A)),e.A++,!0)}function Jk(e){null!=e.B&&(wm.clearTimeout(e.B),e.B=null)}function Xk(e){e.g=new wg(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Ug(e.sa);zg(t,"RID","rpc"),zg(t,"SID",e.I),zg(t,"CI",e.L?"0":"1"),zg(t,"AID",e.T),zg(t,"TYPE","xmlhttp"),Kk(e,t),e.o&&e.s&&Zk(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Wg(Ug(t)),n.s=null,n.P=!0,Sg(n,e)}function $k(e){null!=e.v&&(wm.clearTimeout(e.v),e.v=null)}function eb(e,t){var n=null;if(e.g==t){$k(e),Jk(e),e.g=null;var r=2}else{if(!fk(e.h,t))return;n=t.D,pk(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Py(r=ig(),new cg(r,n)),Wk(e)}else Qk(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(hk(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=lg(Nm(e.Ja,e,t),tb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Yk(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nb(e,5);break;case 4:nb(e,10);break;case 3:nb(e,6);break;default:nb(e,2)}}function tb(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function nb(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Nm(e.kb,e);n||(n=new Zg("//www.google.com/images/cleardot.gif"),wm.location&&"http"==wm.location.protocol||Bg(n,"https"),Wg(n)),function(e,t){var n=new eg;if(wm.Image){var r=new Image;r.onload=Am(kk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Am(kk,n,r,"TestLoadImage: error",!1,t),r.onabort=Am(kk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Am(kk,n,r,"TestLoadImage: timeout",!1,t),wm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ug(2);e.G=0,e.l&&e.l.va(t),rb(e),zk(e)}function rb(e){if(e.G=0,e.la=[],e.l){var t=vk(e.h);0==t.length&&0==e.i.length||(Lm(e.la,t),Lm(e.la,e.i),e.h.i.length=0,Om(e.i),e.i.length=0),e.l.ua()}}function ib(e,t,n){var r=n instanceof Zg?Ug(n):new Zg(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Vg(r,r.m);else{var i=wm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Zg(null,void 0);r&&Bg(a,r),t&&(a.g=t),i&&Vg(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&zg(r,n,t),zg(r,"VER",e.ma),Kk(e,r),r}function ab(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Sk(new bk({jb:!0})):new Sk(e.ra)).Ka(e.H),t}function ob(){}function sb(){if(Gm&&!(10<=Number(ay)))throw Error("Environmental error: no available transport.")}function ub(e,t){Ry.call(this),this.g=new Bk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!jm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jm(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hb(this)}function cb(e){gg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lb(){kg.call(this),this.status=1}function hb(e){this.g=e}(ym=Sk.prototype).Ka=function(e){this.L=e},ym.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mg.g(),this.C=this.u?pg(this.u):pg(mg),this.g.onreadystatechange=Nm(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Rk(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,s=d(r.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;n.set(u,r.get(u))}}catch(v){s.e(v)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=wm.FormData&&e instanceof wm.FormData,!(0<=Dm(Ak,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=d(n);try{for(l.s();!(c=l.n()).done;){var h=(0,i.Z)(c.value,2),f=h[0],p=h[1];this.g.setRequestHeader(f,p)}}catch(v){l.e(v)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Lk(this),0<this.B&&((this.K=function(e){return Gm&&ry()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nm(this.qa,this)):this.A=Ky(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Rk(this,u)}},ym.qa=function(){"undefined"!=typeof bm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Py(this,"timeout"),this.abort(8))},ym.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Py(this,"complete"),Py(this,"abort"),Ok(this))},ym.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ok(this,!0)),Sk.X.M.call(this)},ym.Ha=function(){this.s||(this.F||this.v||this.l?Dk(this):this.fb())},ym.fb=function(){Dk(this)},ym.aa=function(){try{return 2<Mk(this)?this.g.status:-1}catch(uk){return-1}},ym.fa=function(){try{return this.g?this.g.responseText:""}catch(uk){return""}},ym.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tk(t)}},ym.Ea=function(){return this.m},ym.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ym=Bk.prototype).ma=8,ym.G=1,ym.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new wg(this,this.j,e,void 0),n=this.s;if(this.S&&(n?vy(n=dy(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hk(this,t,r),zg(i=Ug(this.F),"RID",e),zg(i,"CVER",22),this.D&&zg(i,"X-HTTP-Session-Id",this.D),Kk(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(jk(n)))+"&"+r:this.o&&Zk(i,this.o,n)),dk(this.h,t),this.Ya&&zg(i,"TYPE","init"),this.O?(zg(i,"$req",r),zg(i,"SID","null"),t.Z=!0,Tg(t,i,null)):Tg(t,i,r),this.G=2}}else 3==this.G&&(e?Gk(this,e):0==this.i.length||lk(this.h)||Gk(this))},ym.Ia=function(){if(this.u=null,Xk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=lg(Nm(this.eb,this),e)}},ym.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ug(10),qk(this),Xk(this))},ym.cb=function(){null!=this.v&&(this.v=null,qk(this),Yk(this),ug(19))},ym.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ug(2)):(this.j.info("Failed to ping google.com"),ug(1))},(ym=ob.prototype).xa=function(){},ym.wa=function(){},ym.va=function(){},ym.ua=function(){},ym.Ra=function(){},sb.prototype.g=function(e,t){return new ub(e,t)},Rm(ub,Ry),ub.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ug(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ib(e,null,e.V),Wk(e)},ub.prototype.close=function(){Vk(this.g)},ub.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Oy(e),e=n);t.i.push(new ok(t.ab++,e)),3==t.G&&Wk(t)},ub.prototype.M=function(){this.g.l=null,delete this.j,Vk(this.g),delete this.g,ub.X.M.call(this)},Rm(cb,gg),Rm(lb,kg),Rm(hb,ob),hb.prototype.xa=function(){Py(this.g,"a")},hb.prototype.wa=function(e){Py(this.g,new cb(e))},hb.prototype.va=function(e){Py(this.g,new lb)},hb.prototype.ua=function(){Py(this.g,"b")},sb.prototype.createWebChannel=sb.prototype.g,ub.prototype.send=ub.prototype.u,ub.prototype.open=ub.prototype.m,ub.prototype.close=ub.prototype.close,hg.NO_ERROR=0,hg.TIMEOUT=8,hg.HTTP_ERROR=6,fg.COMPLETE="complete",vg.EventType=yg,yg.OPEN="a",yg.CLOSE="b",yg.ERROR="c",yg.MESSAGE="d",Ry.prototype.listen=Ry.prototype.N,Sk.prototype.listenOnce=Sk.prototype.O,Sk.prototype.getLastError=Sk.prototype.Oa,Sk.prototype.getLastErrorCode=Sk.prototype.Ea,Sk.prototype.getStatus=Sk.prototype.aa,Sk.prototype.getResponseJson=Sk.prototype.Sa,Sk.prototype.getResponseText=Sk.prototype.fa,Sk.prototype.send=Sk.prototype.da,Sk.prototype.setWithCredentials=Sk.prototype.Ka;var fb=km.createWebChannelTransport=function(){return new sb},db=km.getStatEventTarget=function(){return ig()},pb=km.ErrorCode=hg,vb=km.EventType=fg,mb=km.Event=ng,yb=km.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gb=km.FetchXmlHttpFactory=bk,kb=km.WebChannel=vg,bb=km.XhrIo=Sk,wb="@firebase/firestore",_b=function(){function e(t){l(this,e),this.uid=t}return(0,h.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_b.UNAUTHENTICATED=new _b(null),_b.GOOGLE_CREDENTIALS=new _b("google-credentials-uid"),_b.FIRST_PARTY=new _b("first-party-uid"),_b.MOCK_USER=new _b("mock-user");var xb="9.17.2",Eb=new Pe("@firebase/firestore");function Ib(){return Eb.logLevel}function Tb(e){if(Eb.logLevel<=Ie.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nb);Eb.debug.apply(Eb,["Firestore (".concat(xb,"): ").concat(e)].concat((0,be.Z)(i)))}}function Sb(e){if(Eb.logLevel<=Ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nb);Eb.error.apply(Eb,["Firestore (".concat(xb,"): ").concat(e)].concat((0,be.Z)(i)))}}function Cb(e){if(Eb.logLevel<=Ie.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nb);Eb.warn.apply(Eb,["Firestore (".concat(xb,"): ").concat(e)].concat((0,be.Z)(i)))}}function Nb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ab(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xb,") INTERNAL ASSERTION FAILED: ")+e;throw Sb(t),new Error(t)}function Rb(e,t){e||Ab()}function Pb(e,t){return e}var Db={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ob=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,h.Z)(n)}(H),Lb=(0,h.Z)((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Mb=(0,h.Z)((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Fb=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_b.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jb=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return(0,h.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zb=function(){function e(t){l(this,e),this.t=t,this.currentUser=_b.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,h.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Lb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Lb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=a;e.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){Tb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(Tb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lb)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Tb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Rb("string"==typeof n.accessToken),new Mb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Rb(null===e||"string"==typeof e),new _b(e)}}]),e}(),Ub=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_b.FIRST_PARTY,this.p=new Map}return(0,h.Z)(e,[{key:"I",value:function(){return this.g?this.g():(Rb(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Bb=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return(0,h.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Ub(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_b.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Vb=(0,h.Z)((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),qb=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return(0,h.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Tb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Tb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Tb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Tb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Rb("string"==typeof t.token),e.A=t.token,new Vb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function zb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Wb=function(){function e(){l(this,e)}return(0,h.Z)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gb(e,t){return e<t?-1:e>t?1:0}function Kb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hb(e){return e+"\0"}var Qb=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ob(Db.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ob(Db.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ob(Db.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ob(Db.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,h.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gb(this.nanoseconds,e.nanoseconds):Gb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yb=function(){function e(t){l(this,e),this.timestamp=t}return(0,h.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Qb(0,0))}},{key:"max",value:function(){return new e(new Qb(253402300799,999999999))}}]),e}(),Jb=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Ab(),void 0===r?r=t.length-n:r>t.length-n&&Ab(),this.segments=t,this.offset=n,this.len=r}return(0,h.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Xb=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ob(Db.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,be.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jb),$b=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ew=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $b.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ob(Db.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ob(Db.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ob(Db.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ob(Db.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jb),tw=function(){function e(t){l(this,e),this.path=t}return(0,h.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Xb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Xb.fromString(t))}},{key:"fromName",value:function(t){return new e(Xb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Xb.emptyPath())}},{key:"comparator",value:function(e,t){return Xb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Xb(t.slice()))}}]),e}(),nw=(0,h.Z)((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function rw(e){return e.fields.find((function(e){return 2===e.kind}))}function iw(e){return e.fields.filter((function(e){return 2!==e.kind}))}nw.UNKNOWN_ID=-1;var aw=(0,h.Z)((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var ow=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return(0,h.Z)(e,null,[{key:"empty",value:function(){return new e(0,cw.min())}}]),e}();function sw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yb.fromTimestamp(1e9===r?new Qb(n+1,0):new Qb(n,r));return new cw(i,tw.empty(),t)}function uw(e){return new cw(e.readTime,e.key,-1)}var cw=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,h.Z)(e,null,[{key:"min",value:function(){return new e(Yb.min(),tw.empty(),-1)}},{key:"max",value:function(){return new e(Yb.max(),tw.empty(),-1)}}]),e}();function lw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tw.comparator(e.documentKey,t.documentKey))?n:Gb(e.largestBatchId,t.largestBatchId)}var hw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fw=function(){function e(){l(this,e),this.onCommittedListeners=[]}return(0,h.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dw(e){return pw.apply(this,arguments)}function pw(){return pw=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Db.FAILED_PRECONDITION&&t.message===hw){e.next=2;break}throw t;case 2:Tb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}var vw=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,h.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ab(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=d(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),mw=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Lb,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new kw(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Ew(e.target.error);r.v.reject(new kw(t,n))}}return(0,h.Z)(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(Tb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ww(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new kw(n,t)}}}]),e}(),yw=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(U())&&Sb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,h.Z)(e,[{key:"F",value:function(){var e=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Tb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new kw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ob(Db.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ob(Db.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new kw(t,n))},i.onupgradeneeded=function(e){Tb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Tb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u,c,l,h=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,s=0;case 2:return++s,e.prev=3,e.delegateYield(o().mark((function e(){var n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.F(t);case 2:return h.db=e.sent,n=mw.open(h.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),vw.reject(e)})).toPromise(),s.catch((function(){})),e.next=7,n.P;case 7:return e.t0=s,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),c=e.t1,l="FirebaseError"!==c.name&&s<3,Tb("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(c));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Tb("SimpleDb","Removing database:",e),_w(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!K())return!1;if(e.N())return!0;var t=U(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/InstagramClone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),gw=function(){function e(t){l(this,e),this.q=t,this.U=!1,this.K=null}return(0,h.Z)(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return _w(this.q.delete())}}]),e}(),kw=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,Db.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,h.Z)(n)}(Ob);function bw(e){return"IndexedDbTransactionError"===e.name}var ww=function(){function e(t){l(this,e),this.store=t}return(0,h.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Tb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Tb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_w(n)}},{key:"add",value:function(e){return Tb("SimpleDb","ADD",this.store.name,e,e),_w(this.store.add(e))}},{key:"get",value:function(e){var t=this;return _w(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Tb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Tb("SimpleDb","DELETE",this.store.name,e),_w(this.store.delete(e))}},{key:"count",value:function(){return Tb("SimpleDb","COUNT",this.store.name),_w(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new vw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new vw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Tb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new vw((function(n,r){t.onerror=function(e){var t=Ew(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new vw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new gw(i),o=t(i.primaryKey,i.value,a);if(o instanceof vw){var s=o.catch((function(e){return a.done(),vw.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return vw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function _w(e){return new vw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ew(e.target.error);n(t)}}))}var xw=!1;function Ew(e){var t=yw.D(U());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ob("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xw||(xw=!0,setTimeout((function(){throw r}),0)),r}}return e}var Iw=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.et=n,this.task=null}return(0,h.Z)(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Tb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Tb,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!bw(e.t4)){e.next=17;break}Tb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,dw(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Tw=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return(0,h.Z)(e,[{key:"st",value:function(){var e=u(o().mark((function e(){var t,n=this,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return vw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Tb("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Tb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=uw(t);lw(r,n)>0&&(n=r)})),new cw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Sw=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return(0,h.Z)(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();Sw.at=-1;var Cw=(0,h.Z)((function e(t,n,r,i,a,o,s,u){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Nw=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return(0,h.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Aw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dw(e){return null==e}function Ow(e){return 0===e&&1/e==-1/0}function Lw(e){return"number"==typeof e&&Number.isInteger(e)&&!Ow(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mw=function(e){m(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,h.Z)(n)}(_(Error));var Fw=function(e){function t(e){l(this,t),this.binaryString=e}return(0,h.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new Mw("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);Fw.EMPTY_BYTE_STRING=new Fw("");var jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zw(e){if(Rb(!!e),"string"==typeof e){var t=0,n=jw.exec(e);if(Rb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uw(e.seconds),nanos:Uw(e.nanos)}}function Uw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bw(e){return"string"==typeof e?Fw.fromBase64String(e):Fw.fromUint8Array(e)}function Vw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function qw(e){var t=e.mapValue.fields.__previous_value__;return Vw(t)?qw(t):t}function zw(e){var t=Zw(e.mapValue.fields.__local_write_time__.timestampValue);return new Qb(t.seconds,t.nanos)}var Ww={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gw={nullValue:"NULL_VALUE"};function Kw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vw(e)?4:s_(e)?9007199254740991:10:Ab()}function Hw(e,t){if(e===t)return!0;var n=Kw(e);if(n!==Kw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zw(e).isEqual(zw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zw(e.timestampValue),r=Zw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bw(e.bytesValue).isEqual(Bw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uw(e.geoPointValue.latitude)===Uw(t.geoPointValue.latitude)&&Uw(e.geoPointValue.longitude)===Uw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uw(e.integerValue)===Uw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uw(e.doubleValue),r=Uw(t.doubleValue);return n===r?Ow(n)===Ow(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kb(e.arrayValue.values||[],t.arrayValue.values||[],Hw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Aw(n)!==Aw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hw(n[i],r[i])))return!1;return!0}(e,t);default:return Ab()}}function Qw(e,t){return void 0!==(e.values||[]).find((function(e){return Hw(e,t)}))}function Yw(e,t){if(e===t)return 0;var n=Kw(e),r=Kw(t);if(n!==r)return Gb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uw(e.integerValue||e.doubleValue),r=Uw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Jw(e.timestampValue,t.timestampValue);case 4:return Jw(zw(e),zw(t));case 5:return Gb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Bw(e),r=Bw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gb(n[i],r[i]);if(0!==a)return a}return Gb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gb(Uw(e.latitude),Uw(t.latitude));return 0!==n?n:Gb(Uw(e.longitude),Uw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yw(n[i],r[i]);if(a)return a}return Gb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ww.mapValue&&t===Ww.mapValue)return 0;if(e===Ww.mapValue)return 1;if(t===Ww.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Gb(r[o],a[o]);if(0!==s)return s;var u=Yw(n[r[o]],i[a[o]]);if(0!==u)return u}return Gb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ab()}}function Jw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gb(e,t);var n=Zw(e),r=Zw(t),i=Gb(n.seconds,r.seconds);return 0!==i?i:Gb(n.nanos,r.nanos)}function Xw(e){return $w(e)}function $w(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tw.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=d(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=$w(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=d(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat($w(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ab();var t,n}function e_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function t_(e){return!!e&&"integerValue"in e}function n_(e){return!!e&&"arrayValue"in e}function r_(e){return!!e&&"nullValue"in e}function i_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function a_(e){return!!e&&"mapValue"in e}function o_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Rw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=o_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=o_(e.arrayValue.values[r]);return n}return Object.assign({},e)}function s_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function u_(e){return"nullValue"in e?Gw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?e_(Nw.empty(),tw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ab()}function c_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?e_(Nw.empty(),tw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ww:Ab()}function l_(e,t){var n=Yw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function h_(e,t){var n=Yw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var f_=(0,h.Z)((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function d_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tw.comparator(tw.fromName(o.referenceValue),n.key):Yw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function p_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hw(e.position[n],t.position[n]))return!1;return!0}var v_=(0,h.Z)((function e(){l(this,e)})),m_=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,h.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yw(t,this.value)):null!==t&&Kw(this.value)===Kw(t)&&this.matchesComparison(Yw(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ab()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new T_(e,t,r):"array-contains"===t?new A_(e,r):"in"===t?new R_(e,r):"not-in"===t?new P_(e,r):"array-contains-any"===t?new D_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new S_(e,n):new C_(e,n)}}]),n}(v_),y_=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return(0,h.Z)(n,[{key:"matches",value:function(e){return g_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=d(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(v_);function g_(e){return"and"===e.op}function k_(e){return"or"===e.op}function b_(e){return w_(e)&&g_(e)}function w_(e){var t,n=d(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof y_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function __(e){if(e instanceof m_)return e.field.canonicalString()+e.op.toString()+Xw(e.value);if(b_(e))return e.filters.map((function(e){return __(e)})).join(",");var t=e.filters.map((function(e){return __(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function x_(e,t){return e instanceof m_?function(e,t){return t instanceof m_&&e.op===t.op&&e.field.isEqual(t.field)&&Hw(e.value,t.value)}(e,t):e instanceof y_?function(e,t){return t instanceof y_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&x_(n,t.filters[r])}),!0)}(e,t):void Ab()}function E_(e,t){var n=e.filters.concat(t);return y_.create(n,e.op)}function I_(e){return e instanceof m_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Xw(e.value))}(e):e instanceof y_?function(e){return e.op.toString()+" {"+e.getFilters().map(I_).join(" ,")+"}"}(e):"Filter"}var T_=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=tw.fromName(i.referenceValue),a}return(0,h.Z)(n,[{key:"matches",value:function(e){var t=tw.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(m_),S_=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=N_("in",r),i}return(0,h.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(m_),C_=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=N_("not-in",r),i}return(0,h.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(m_);function N_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tw.fromName(e.referenceValue)}))}var A_=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return(0,h.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return n_(t)&&Qw(t.arrayValue,this.value)}}]),n}(m_),R_=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return(0,h.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qw(this.value.arrayValue,t)}}]),n}(m_),P_=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return(0,h.Z)(n,[{key:"matches",value:function(e){if(Qw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qw(this.value.arrayValue,t)}}]),n}(m_),D_=function(e){m(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return(0,h.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!n_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qw(t.value.arrayValue,e)}))}}]),n}(m_),O_=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function L_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var M_=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||j_.EMPTY}return(0,h.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,j_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,j_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new F_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new F_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new F_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new F_(this.root,e,this.comparator,!0)}}]),e}(),F_=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,h.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),j_=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,h.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ab();if(this.right.isRed())throw Ab();var e=this.left.check();if(e!==this.right.check())throw Ab();return e+(this.isRed()?0:1)}}]),e}();j_.EMPTY=null,j_.RED=!0,j_.BLACK=!1,j_.EMPTY=new(function(){function e(){l(this,e),this.size=0}return(0,h.Z)(e,[{key:"key",get:function(){throw Ab()}},{key:"value",get:function(){throw Ab()}},{key:"color",get:function(){throw Ab()}},{key:"left",get:function(){throw Ab()}},{key:"right",get:function(){throw Ab()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new j_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Z_=function(){function e(t){l(this,e),this.comparator=t,this.data=new M_(this.comparator)}return(0,h.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new U_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new U_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),U_=function(){function e(t){l(this,e),this.iter=t}return(0,h.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function B_(e){return e.hasNext()?e.getNext():void 0}var V_=function(){function e(t){l(this,e),this.fields=t,t.sort(ew.comparator)}return(0,h.Z)(e,[{key:"unionWith",value:function(t){var n,r=new Z_(ew.comparator),i=d(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=d(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=d(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Kb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),q_=function(){function e(t){l(this,e),this.value=t}return(0,h.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!a_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=o_(t)}},{key:"setAll",value:function(e){var t=this,n=ew.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=o_(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());a_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Hw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];a_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Rw(t,(function(t,n){return e[t]=n}));var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(o_(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function z_(e){var t=[];return Rw(e.fields,(function(e,n){var r=new ew([e]);if(a_(n)){var i=z_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=d(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new V_(t)}var W_=function(){function e(t,n,r,i,a,o,s){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return(0,h.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Yb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=q_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=q_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Yb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yb.min(),Yb.min(),Yb.min(),q_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Yb.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yb.min(),Yb.min(),q_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yb.min(),Yb.min(),q_.empty(),2)}}]),e}(),G_=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this._t=null}));function K_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new G_(e,t,n,r,i,a,o)}function H_(e){var t=Pb(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return __(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Dw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Xw(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Xw(e)})).join(",")),t._t=n}return t._t}function Q_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!L_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!x_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!p_(e.startAt,t.startAt)&&p_(e.endAt,t.endAt)}function Y_(e){return tw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function J_(e,t){return e.filters.filter((function(e){return e instanceof m_&&e.field.isEqual(t)}))}function X_(e,t,n){var r,i=Gw,a=!0,o=d(J_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Gw,c=!0;switch(s.op){case"<":case"<=":u=u_(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Gw}l_({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];l_({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function $_(e,t,n){var r,i=Ww,a=!0,o=d(J_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Ww,c=!0;switch(s.op){case">=":case">":u=c_(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Ww}h_({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];h_({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var ex=(0,h.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.wt=null,this.gt=null,this.startAt,this.endAt}));function tx(e,t,n,r,i,a,o,s){return new ex(e,t,n,r,i,a,o,s)}function nx(e){return new ex(e)}function rx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ix(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ax(e){var t,n=d(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ox(e){return null!==e.collectionGroup}function sx(e){var t=Pb(e);if(null===t.wt){t.wt=[];var n=ax(t),r=ix(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new O_(n)),t.wt.push(new O_(ew.keyField(),"asc"));else{var i,a=!1,o=d(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new O_(ew.keyField(),u))}}}return t.wt}function ux(e){var t=Pb(e);if(!t.gt)if("F"===t.limitType)t.gt=K_(t.path,t.collectionGroup,sx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=d(sx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new O_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new f_(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new f_(t.startAt.position,t.startAt.inclusive):null;t.gt=K_(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.gt}function cx(e,t){t.getFirstInequalityField(),ax(e);var n=e.filters.concat([t]);return new ex(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lx(e,t,n){return new ex(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hx(e,t){return Q_(ux(e),ux(t))&&e.limitType===t.limitType}function fx(e){return"".concat(H_(ux(e)),"|lt:").concat(e.limitType)}function dx(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return I_(e)})).join(", "),"]")),Dw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Xw(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Xw(e)})).join(",")),"Target(".concat(t,")")}(ux(e)),"; limitType=").concat(e.limitType,")")}function px(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=d(sx(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=d(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=d_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sx(e),t))&&!(e.endAt&&!function(e,t,n){var r=d_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sx(e),t))}(e,t)}function vx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mx(e){return function(t,n){var r,i=!1,a=d(sx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=yx(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function yx(e,t,n){var r=e.field.isKeyField()?tw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yw(r,i):Ab()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ab()}}function gx(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ow(t)?"-0":t}}function kx(e){return{integerValue:""+e}}function bx(e,t){return Lw(t)?kx(t):gx(e,t)}var wx=(0,h.Z)((function e(){l(this,e),this._=void 0}));function _x(e,t,n){return e instanceof Ix?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tx?Sx(e,t):e instanceof Cx?Nx(e,t):function(e,t){var n=Ex(e,t),r=Rx(n)+Rx(e.It);return t_(n)&&t_(e.It)?kx(r):gx(e.Tt,r)}(e,t)}function xx(e,t,n){return e instanceof Tx?Sx(e,t):e instanceof Cx?Nx(e,t):n}function Ex(e,t){return e instanceof Ax?t_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ix=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(wx),Tx=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return(0,h.Z)(n)}(wx);function Sx(e,t){var n,r=Px(t),i=d(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Hw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cx=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return(0,h.Z)(n)}(wx);function Nx(e,t){var n,r=Px(t),i=d(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Hw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ax=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return(0,h.Z)(n)}(wx);function Rx(e){return Uw(e.integerValue||e.doubleValue)}function Px(e){return n_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Dx=(0,h.Z)((function e(t,n){l(this,e),this.field=t,this.transform=n}));var Ox=(0,h.Z)((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Lx=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return(0,h.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Mx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Fx=(0,h.Z)((function e(){l(this,e)}));function jx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yx(e.key,Lx.none()):new qx(e.key,e.data,Lx.none());var n,r=e.data,i=q_.empty(),a=new Z_(ew.comparator),o=d(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new zx(e.key,i,new V_(a.toArray()),Lx.none())}function Zx(e,t,n){e instanceof qx?function(e,t,n){var r=e.value.clone(),i=Gx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zx?function(e,t,n){if(Mx(e.precondition,t)){var r=Gx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ux(e,t,n,r){return e instanceof qx?function(e,t,n,r){if(!Mx(e.precondition,t))return n;var i=e.value.clone(),a=Kx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zx?function(e,t,n,r){if(!Mx(e.precondition,t))return n;var i=Kx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Wx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Mx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bx(e,t){var n,r=null,i=d(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ex(a.transform,o||null);null!=s&&(null===r&&(r=q_.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Vx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tx&&t instanceof Tx||e instanceof Cx&&t instanceof Cx?Kb(e.elements,t.elements,Hw):e instanceof Ax&&t instanceof Ax?Hw(e.It,t.It):e instanceof Ix&&t instanceof Ix}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var qx=function(e){m(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,h.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fx),zx=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return(0,h.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Fx);function Wx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Gx(e,t,n){var r=new Map;Rb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,xx(o,s,n[i]))}return r}function Kx(e,t,n){var r,i=new Map,a=d(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,_x(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Hx,Qx,Yx=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,h.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fx),Jx=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,h.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Fx),Xx=(0,h.Z)((function e(t){l(this,e),this.count=t}));function $x(e){switch(e){default:return Ab();case Db.CANCELLED:case Db.UNKNOWN:case Db.DEADLINE_EXCEEDED:case Db.RESOURCE_EXHAUSTED:case Db.INTERNAL:case Db.UNAVAILABLE:case Db.UNAUTHENTICATED:return!1;case Db.INVALID_ARGUMENT:case Db.NOT_FOUND:case Db.ALREADY_EXISTS:case Db.PERMISSION_DENIED:case Db.FAILED_PRECONDITION:case Db.ABORTED:case Db.OUT_OF_RANGE:case Db.UNIMPLEMENTED:case Db.DATA_LOSS:return!0}}function eE(e){if(void 0===e)return Sb("GRPC error has no .code"),Db.UNKNOWN;switch(e){case Hx.OK:return Db.OK;case Hx.CANCELLED:return Db.CANCELLED;case Hx.UNKNOWN:return Db.UNKNOWN;case Hx.DEADLINE_EXCEEDED:return Db.DEADLINE_EXCEEDED;case Hx.RESOURCE_EXHAUSTED:return Db.RESOURCE_EXHAUSTED;case Hx.INTERNAL:return Db.INTERNAL;case Hx.UNAVAILABLE:return Db.UNAVAILABLE;case Hx.UNAUTHENTICATED:return Db.UNAUTHENTICATED;case Hx.INVALID_ARGUMENT:return Db.INVALID_ARGUMENT;case Hx.NOT_FOUND:return Db.NOT_FOUND;case Hx.ALREADY_EXISTS:return Db.ALREADY_EXISTS;case Hx.PERMISSION_DENIED:return Db.PERMISSION_DENIED;case Hx.FAILED_PRECONDITION:return Db.FAILED_PRECONDITION;case Hx.ABORTED:return Db.ABORTED;case Hx.OUT_OF_RANGE:return Db.OUT_OF_RANGE;case Hx.UNIMPLEMENTED:return Db.UNIMPLEMENTED;case Hx.DATA_LOSS:return Db.DATA_LOSS;default:return Ab()}}(Qx=Hx||(Hx={}))[Qx.OK=0]="OK",Qx[Qx.CANCELLED=1]="CANCELLED",Qx[Qx.UNKNOWN=2]="UNKNOWN",Qx[Qx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qx[Qx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qx[Qx.NOT_FOUND=5]="NOT_FOUND",Qx[Qx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qx[Qx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qx[Qx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qx[Qx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qx[Qx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qx[Qx.ABORTED=10]="ABORTED",Qx[Qx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qx[Qx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qx[Qx.INTERNAL=13]="INTERNAL",Qx[Qx.UNAVAILABLE=14]="UNAVAILABLE",Qx[Qx.DATA_LOSS=15]="DATA_LOSS";var tE=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,h.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Rw(this.inner,(function(t,n){var r,a=d(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return Pw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),nE=new M_(tw.comparator);function rE(){return nE}var iE=new M_(tw.comparator);function aE(){for(var e=iE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function oE(e){var t=iE;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function sE(){return cE()}function uE(){return cE()}function cE(){return new tE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var lE=new M_(tw.comparator),hE=new Z_(tw.comparator);function fE(){for(var e=hE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var dE=new Z_(Gb);function pE(){return dE}var vE=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,h.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,mE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Yb.min(),i,pE(),rE(),fE())}}]),e}(),mE=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,h.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,fE(),fE(),fE())}}]),e}(),yE=(0,h.Z)((function e(t,n,r,i){l(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),gE=(0,h.Z)((function e(t,n){l(this,e),this.targetId=t,this.Rt=n})),kE=(0,h.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bE=function(){function e(){l(this,e),this.bt=0,this.vt=xE(),this.Pt=Fw.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return(0,h.Z)(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=fE(),t=fE(),n=fE();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ab()}})),new mE(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=xE()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),wE=function(){function e(t){l(this,e),this.Lt=t,this.qt=new Map,this.Ut=rE(),this.Kt=_E(),this.Gt=new Z_(Gb)}return(0,h.Z)(e,[{key:"Qt",value:function(e){var t,n=d(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(s){n.e(s)}finally{n.f()}var i,a=d(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:Ab()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Y_(i))if(0===n){var a=new tw(i.path);this.zt(t,a,W_.newNoDocument(a,Yb.min()))}else Rb(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Y_(a.target)){var o=new tw(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,W_.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=fE();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new vE(e,n,this.Gt,this.Ut,r);return this.Ut=rE(),this.Kt=_E(),this.Gt=new Z_(Gb),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new bE,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Z_(Gb),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||Tb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new bE),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function _E(){return new M_(tw.comparator)}function xE(){return new M_(tw.comparator)}var EE={asc:"ASCENDING",desc:"DESCENDING"},IE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TE={and:"AND",or:"OR"},SE=(0,h.Z)((function e(t,n){l(this,e),this.databaseId=t,this.yt=n}));function CE(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function NE(e,t){return e.yt?t.toBase64():t.toUint8Array()}function AE(e,t){return CE(e,t.toTimestamp())}function RE(e){return Rb(!!e),Yb.fromTimestamp(function(e){var t=Zw(e);return new Qb(t.seconds,t.nanos)}(e))}function PE(e,t){return function(e){return new Xb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function DE(e){var t=Xb.fromString(e);return Rb(nI(t)),t}function OE(e,t){return PE(e.databaseId,t.path)}function LE(e,t){var n=DE(t);if(n.get(1)!==e.databaseId.projectId)throw new Ob(Db.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ob(Db.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tw(ZE(n))}function ME(e,t){return PE(e.databaseId,t)}function FE(e){var t=DE(e);return 4===t.length?Xb.emptyPath():ZE(t)}function jE(e){return new Xb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZE(e){return Rb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function UE(e,t,n){return{name:OE(e,t),fields:n.value.mapValue.fields}}function BE(e,t,n){var r=LE(e,t.name),i=RE(t.updateTime),a=t.createTime?RE(t.createTime):Yb.min(),o=new q_({mapValue:{fields:t.fields}}),s=W_.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function VE(e,t){return"found"in t?function(e,t){Rb(!!t.found),t.found.name,t.found.updateTime;var n=LE(e,t.found.name),r=RE(t.found.updateTime),i=t.found.createTime?RE(t.found.createTime):Yb.min(),a=new q_({mapValue:{fields:t.found.fields}});return W_.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Rb(!!t.missing),Rb(!!t.readTime);var n=LE(e,t.missing),r=RE(t.readTime);return W_.newNoDocument(n,r)}(e,t):Ab()}function qE(e,t){var n;if(t instanceof qx)n={update:UE(e,t.key,t.value)};else if(t instanceof Yx)n={delete:OE(e,t.key)};else if(t instanceof zx)n={update:UE(e,t.key,t.data),updateMask:tI(t.fieldMask)};else{if(!(t instanceof Jx))return Ab();n={verify:OE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ix)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ax)return{fieldPath:t.field.canonicalString(),increment:n.It};throw Ab()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:AE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ab()}(e,t.precondition)),n}function zE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lx.updateTime(RE(e.updateTime)):void 0!==e.exists?Lx.exists(e.exists):Lx.none()}(t.currentDocument):Lx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Rb("REQUEST_TIME"===t.setToServerValue),n=new Ix;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Tx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Cx(i)}else"increment"in t?n=new Ax(e,t.increment):Ab();var a=ew.fromServerFormat(t.fieldPath);return new Dx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=LE(e,t.update.name),a=new q_({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new V_(t.map((function(e){return ew.fromServerFormat(e)})))}(t.updateMask);return new zx(i,a,o,n,r)}return new qx(i,a,n,r)}if(t.delete){var s=LE(e,t.delete);return new Yx(s,n)}if(t.verify){var u=LE(e,t.verify);return new Jx(u,n)}return Ab()}function WE(e,t){return{documents:[ME(e,t.path)]}}function GE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ME(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ME(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return eI(y_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:XE(e.field),direction:QE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.yt||Dw(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function KE(e){var t=FE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=HE(e);return t instanceof y_&&b_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new O_($E(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Dw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new f_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new f_(n,t)}(n.endAt)),tx(t,i,s,o,u,"F",c,l)}function HE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$E(e.unaryFilter.field);return m_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$E(e.unaryFilter.field);return m_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$E(e.unaryFilter.field);return m_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$E(e.unaryFilter.field);return m_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ab()}}(e):void 0!==e.fieldFilter?function(e){return m_.create($E(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ab()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return y_.create(e.compositeFilter.filters.map((function(e){return HE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ab()}}(e.compositeFilter.op))}(e):Ab()}function QE(e){return EE[e]}function YE(e){return IE[e]}function JE(e){return TE[e]}function XE(e){return{fieldPath:e.canonicalString()}}function $E(e){return ew.fromServerFormat(e.fieldPath)}function eI(e){return e instanceof m_?function(e){if("=="===e.op){if(i_(e.value))return{unaryFilter:{field:XE(e.field),op:"IS_NAN"}};if(r_(e.value))return{unaryFilter:{field:XE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(i_(e.value))return{unaryFilter:{field:XE(e.field),op:"IS_NOT_NAN"}};if(r_(e.value))return{unaryFilter:{field:XE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:XE(e.field),op:YE(e.op),value:e.value}}}(e):e instanceof y_?function(e){var t=e.getFilters().map((function(e){return eI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:JE(e.op),filters:t}}}(e):Ab()}function tI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function nI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function rI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=aI(t)),t=iI(e.get(n),t);return aI(t)}function iI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function aI(e){return e+"\x01\x01"}function oI(e){var t=e.length;if(Rb(t>=2),2===t)return Rb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ab(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ab()}a=o+2}return new Xb(r)}var sI=["userId","batchId"];function uI(e,t){return[e,rI(t)]}function cI(e,t,n){return[e,rI(t),n]}var lI={},hI=["prefixPath","collectionGroup","readTime","documentId"],fI=["prefixPath","collectionGroup","documentId"],dI=["collectionGroup","readTime","prefixPath","documentId"],pI=["canonicalId","targetId"],vI=["targetId","path"],mI=["path","targetId"],yI=["collectionId","parent"],gI=["indexId","uid"],kI=["uid","sequenceNumber"],bI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wI=["indexId","uid","orderedDocumentKey"],_I=["userId","collectionPath","documentId"],xI=["userId","collectionPath","largestBatchId"],EI=["userId","collectionGroup","largestBatchId"],II=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),TI=[].concat((0,be.Z)(II),["documentOverlays"]),SI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CI=SI,NI=[].concat(CI,["indexConfiguration","indexState","indexEntries"]),AI=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return(0,h.Z)(n)}(fw);function RI(e,t){var n=Pb(e);return yw.M(n.re,t)}var PI=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,h.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Zx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=d(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ux(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=d(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Ux(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=uE();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=jx(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Yb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Kb(this.mutations,e.mutations,(function(e,t){return Vx(e,t)}))&&Kb(this.baseMutations,e.baseMutations,(function(e,t){return Vx(e,t)}))}}]),e}(),DI=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,h.Z)(e,null,[{key:"from",value:function(t,n,r){Rb(t.mutations.length===r.length);for(var i=lE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),OI=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return(0,h.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),LI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yb.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fw.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return(0,h.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),MI=(0,h.Z)((function e(t){l(this,e),this.oe=t}));function FI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:OE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:CE(e,t.version.toTimestamp()),createTime:CE(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ZI(t.version)};else{if(!t.isUnknownDocument())return Ab();r.unknownDocument={path:n.path.toArray(),version:ZI(t.version)}}return r}function jI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function UI(e){var t=new Qb(e.seconds,e.nanoseconds);return Yb.fromTimestamp(t)}function BI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zE(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zE(e.oe,t)})),s=Qb.fromMillis(t.localWriteTimeMs);return new PI(t.batchId,s,n,o)}function VI(e){var t,n,r=UI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?UI(e.lastLimboFreeSnapshotVersion):Yb.min();return void 0!==e.query.documents?(Rb(1===(n=e.query).documents.length),t=ux(nx(FE(n.documents[0])))):t=function(e){return ux(KE(e))}(e.query),new LI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Fw.fromBase64String(e.resumeToken))}function qI(e,t){var n,r=ZI(t.snapshotVersion),i=ZI(t.lastLimboFreeSnapshotVersion);n=Y_(t.target)?WE(e.oe,t.target):GE(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:H_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function zI(e){var t=KE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lx(t,t.limit,"L"):t}function WI(e,t){return new OI(t.largestBatchId,zE(e.oe,t.overlayMutation))}function GI(e,t){var n=t.path.lastSegment();return[e,rI(t.path.popLast()),n]}function KI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ZI(r.readTime),documentKey:rI(r.documentKey.path),largestBatchId:r.largestBatchId}}var HI=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return QI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:UI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return QI(e).put({bundleId:(n=t).id,createTime:ZI(RE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return YI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:zI(t.bundledQuery),readTime:UI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return YI(e).put(function(e){return{name:e.name,readTime:ZI(RE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function QI(e){return RI(e,"bundles")}function YI(e){return RI(e,"namedQueries")}var JI=function(){function e(t,n){l(this,e),this.Tt=t,this.userId=n}return(0,h.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return XI(e).get(GI(this.userId,t)).next((function(e){return e?WI(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=sE();return vw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new OI(t,a);i.push(r.ce(e,o))})),vw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(rI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(XI(e).Y("collectionPathOverlayIndex",i))})),vw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sE(),a=rI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return XI(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=WI(r.Tt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sE(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return XI(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=WI(a.Tt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return XI(e).put(function(e,t,n){var r=GI(t,n.mutation.key),a=(0,i.Z)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qE(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function XI(e){return RI(e,"documentOverlays")}var $I=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Uw(e.integerValue));else if("doubleValue"in e){var n=Uw(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Ow(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Bw(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?s_(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Ab()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),tw.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function eT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function tT(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=eT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}$I.Ee=new $I;var nT=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,h.Z)(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=tT(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=tT(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),rT=function(){function e(t){l(this,e),this.Le=t}return(0,h.Z)(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),iT=function(){function e(t){l(this,e),this.Le=t}return(0,h.Z)(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),aT=function(){function e(){l(this,e),this.Le=new nT,this.qe=new rT(this.Le),this.Ue=new iT(this.Le)}return(0,h.Z)(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),oT=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,h.Z)(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function sT(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=uT(e.arrayValue,t.arrayValue))?n:0!==(n=uT(e.directionalValue,t.directionalValue))?n:tw.comparator(e.documentKey,t.documentKey)}function uT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var cT=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=d(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,h.Z)(e,[{key:"We",value:function(e){Rb(e.collectionGroup===this.collectionId);var t=rw(e);if(void 0!==t&&!this.He(t))return!1;for(var n=iw(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=d(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function lT(e){var t,n;if(Rb(e instanceof m_||e instanceof y_),e instanceof m_){if(e instanceof R_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return m_.create(e.field,"==",t)})))||[];return y_.create(r,"or")}return e}var i=e.filters.map((function(e){return lT(e)}));return y_.create(i,e.op)}function hT(e){if(0===e.getFilters().length)return[];var t=vT(lT(e));return Rb(pT(t)),fT(t)||dT(t)?[t]:t.getFilters()}function fT(e){return e instanceof m_}function dT(e){return e instanceof y_&&b_(e)}function pT(e){return fT(e)||dT(e)||function(e){if(e instanceof y_&&k_(e)){var t,n=d(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!fT(r)&&!dT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function vT(e){if(Rb(e instanceof m_||e instanceof y_),e instanceof m_)return e;if(1===e.filters.length)return vT(e.filters[0]);var t=e.filters.map((function(e){return vT(e)})),n=y_.create(t,e.op);return pT(n=gT(n))?n:(Rb(n instanceof y_),Rb(g_(n)),Rb(n.filters.length>1),n.filters.reduce((function(e,t){return mT(e,t)})))}function mT(e,t){var n;return Rb(e instanceof m_||e instanceof y_),Rb(t instanceof m_||t instanceof y_),n=e instanceof m_?t instanceof m_?function(e,t){return y_.create([e,t],"and")}(e,t):yT(e,t):t instanceof m_?yT(t,e):function(e,t){if(Rb(e.filters.length>0&&t.filters.length>0),g_(e)&&g_(t))return E_(e,t.getFilters());var n=k_(e)?e:t,r=k_(e)?t:e,i=n.filters.map((function(e){return mT(e,r)}));return y_.create(i,"or")}(e,t),gT(n)}function yT(e,t){if(g_(t))return E_(t,e.getFilters());var n=t.filters.map((function(t){return mT(e,t)}));return y_.create(n,"or")}function gT(e){if(Rb(e instanceof m_||e instanceof y_),e instanceof m_)return e;var t=e.getFilters();if(1===t.length)return gT(t[0]);if(w_(e))return e;var n=t.map((function(e){return gT(e)})),r=[];return n.forEach((function(t){t instanceof m_?r.push(t):t instanceof y_&&(t.op===e.op?r.push.apply(r,(0,be.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:y_.create(r,e.op)}var kT=function(){function e(){l(this,e),this.Ze=new bT}return(0,h.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),vw.resolve()}},{key:"getCollectionParents",value:function(e,t){return vw.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vw.resolve(null)}},{key:"getIndexType",value:function(e,t){return vw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vw.resolve(cw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vw.resolve(cw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vw.resolve()}}]),e}(),bT=function(){function e(){l(this,e),this.index={}}return(0,h.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Z_(Xb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Z_(Xb.comparator)).toArray()}}]),e}(),wT=new Uint8Array(0),_T=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Xe=new bT,this.tn=new tE((function(e){return H_(e)}),(function(e,t){return Q_(e,t)})),this.uid=t.uid||""}return(0,h.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:rI(i)};return xT(e).put(a)}return vw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hb(t),""],!1,!0);return xT(e).W(r).next((function(e){var r,i=d(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(oI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=IT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=TT(e);return a.next((function(e){o.put(KI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=IT(e),r=TT(e),i=ET(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ET(e),i=!0,a=new Map;return vw.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=fE(),o=[];return vw.forEach(a,(function(i,a){var s;Tb("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(H_(t)));var u=function(e,t){var n=rw(t);if(void 0===n)return null;var r,i=d(J_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=d(iw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=d(J_(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=d(iw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?X_(e,o.fieldPath,e.startAt):$_(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new f_(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=d(iw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?$_(e,o.fieldPath,e.endAt):X_(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new f_(r,i)}(a,i),f=n.sn(i,a,l),p=n.sn(i,a,h),v=n.rn(i,a,c),m=n.on(i.indexId,u,f,l.inclusive,p,h.inclusive,v);return vw.forEach(m,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=tw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return vw.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:hT(y_.create(e.filters,"and")).map((function(t){return K_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(u){var h=t?s.un(t[u/c]):wT,f=s.cn(e,h,n[u%c],r),d=s.an(e,h,i[u%c],a),p=o.map((function(t){return s.cn(e,h,t,!0)}));l.push.apply(l,(0,be.Z)(s.createRange(f,d,p)))},f=0;f<u;++f)h(f);return l}},{key:"cn",value:function(e,t,n,r){var i=new oT(e,tw.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new oT(e,tw.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new cT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=d(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return vw.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Z_(ew.comparator),r=!1,i=d(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=d(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=d(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new aT,i=d(iw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ke(a.kind);$I.Ee.ae(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new aT;return $I.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new aT;return $I.Ee.ae(e_(this.databaseId,t),n.Ke(function(e){var t=iw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new aT);var i,a=0,o=d(iw(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=d(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.fn(t,u.fieldPath)&&n_(c))r=this.dn(r,u,c);else{var f=h.Ke(u.kind);$I.Ee.ae(c,f)}}}catch(p){l.e(p)}finally{l.f()}}}catch(p){o.e(p)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=(0,be.Z)(e),a=[],o=d(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=d(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new aT;h.seed(l.Be()),$I.Ee.ae(u,h.Ke(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof m_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=IT(e),a=TT(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return vw.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ow(t.sequenceNumber,new cw(UI(t.readTime),new tw(oI(t.documentKey)),t.largestBatchId)):ow.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new aw(ew.fromServerFormat(n),r)}));return new nw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=IT(e),a=TT(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return vw.forEach(t,(function(t){return a.put(KI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return vw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?vw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),vw.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?vw.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return ET(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return ET(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=ET(e),i=new Z_(sT);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new oT(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Z_(sT),r=this.hn(t,e);if(null==r)return n;var i=rw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(n_(a)){var o,s=d(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new oT(t.indexId,e.key,this.un(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new oT(t.indexId,e.key,wT,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Tb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=B_(a),u=B_(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=B_(o)):l?(i(s),s=B_(a)):(s=B_(a),u=B_(o))}}(r,i,sT,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),vw.waitFor(o)}},{key:"wn",value:function(e){var t=1;return TT(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return sT(e,t)})).filter((function(e,t,n){return!t||0!==sT(e,n[t-1])}));var r=[];r.push(e);var i,a=d(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=sT(o,e),u=sT(o,t);if(0===s)r[0]=e.Ge();else if(s>0&&u<0)r.push(o),r.push(o.Ge());else if(u>0)break}}catch(p){a.e(p)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,wT,[]],f=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,wT,[]];c.push(IDBKeyRange.bound(h,f))}return c}},{key:"Tn",value:function(e,t){return sT(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ST)}},{key:"getMinOffset",value:function(e,t){var n=this;return vw.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||Ab()}))})).next(ST)}}]),e}();function xT(e){return RI(e,"collectionParents")}function ET(e){return RI(e,"indexEntries")}function IT(e){return RI(e,"indexConfiguration")}function TT(e){return RI(e,"indexState")}function ST(e){Rb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;lw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cw(t.readTime,t.documentKey,n)}var CT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,h.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function AT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Rb(1===s)})));var c,l=[],h=d(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,p=cI(t,f.key.path,n.batchId);a.push(i.delete(p)),l.push(f.key)}}catch(v){h.e(v)}finally{h.f()}return vw.waitFor(a).next((function(){return l}))}function RT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ab();t=e.noDocument}return JSON.stringify(t).length}NT.DEFAULT_COLLECTION_PERCENTILE=10,NT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NT.DEFAULT=new NT(41943040,NT.DEFAULT_COLLECTION_PERCENTILE,NT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NT.DISABLED=new NT(-1,0,0);var PT=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return(0,h.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return OT(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=LT(e),o=OT(e);return o.add({}).next((function(s){Rb("number"==typeof s);var u,c=new PI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return qE(e.oe,t)})),i=n.mutations.map((function(t){return qE(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),h=[],f=new Z_((function(e,t){return Gb(e.canonicalString(),t.canonicalString())})),p=d(r);try{for(p.s();!(u=p.n()).done;){var v=u.value,m=cI(i.userId,v.key.path,s);f=f.add(v.key.path.popLast()),h.push(o.put(l)),h.push(a.put(m,lI))}}catch(y){p.e(y)}finally{p.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[s]=c.keys()})),vw.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return OT(e).get(t).next((function(e){return e?(Rb(e.userId===n.userId),BI(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?vw.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return OT(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Rb(t.batchId>=r),a=BI(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return OT(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return OT(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return BI(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=uI(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return LT(e).X({range:a},(function(r,a,s){var u=(0,i.Z)(r,3),c=u[0],l=u[1],h=u[2],f=oI(l);if(c===n.userId&&t.path.isEqual(f))return OT(e).get(h).next((function(e){if(!e)throw Ab();Rb(e.userId===n.userId),o.push(BI(n.Tt,e))}));s.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Z_(Gb),a=[];return t.forEach((function(t){var o=uI(n.userId,t.path),s=IDBKeyRange.lowerBound(o),u=LT(e).X({range:s},(function(e,a,o){var s=(0,i.Z)(e,3),u=s[0],c=s[1],l=s[2],h=oI(c);u===n.userId&&t.path.isEqual(h)?r=r.add(l):o.done()}));a.push(u)})),vw.waitFor(a).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=uI(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Z_(Gb);return LT(e).X({range:s},(function(e,t,o){var s=(0,i.Z)(e,3),c=s[0],l=s[1],h=s[2],f=oI(l);c===n.userId&&r.isPrefixOf(f)?f.length===a&&(u=u.add(h)):o.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(OT(e).get(t).next((function(e){if(null===e)throw Ab();Rb(e.userId===n.userId),r.push(BI(n.Tt,e))})))})),vw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return AT(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),vw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return vw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return LT(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=oI(e[1]);i.push(a)}else r.done()})).next((function(){Rb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return DT(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return MT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return Rb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function DT(e,t,n){var r=uI(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return LT(e).X({range:o,Z:!0},(function(e,n,r){var o=(0,i.Z)(e,3),u=o[0],c=o[1];o[2];u===t&&c===a&&(s=!0),r.done()})).next((function(){return s}))}function OT(e){return RI(e,"mutations")}function LT(e){return RI(e,"documentMutations")}function MT(e){return RI(e,"mutationQueues")}var FT=function(){function e(t){l(this,e),this.Pn=t}return(0,h.Z)(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),jT=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.Tt=n}return(0,h.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new FT(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Yb.fromTimestamp(new Qb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ZT(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return Rb(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ZT(e).X((function(o,s){var u=VI(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return vw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ZT(e).X((function(e,n){var r=VI(n);t(r)}))}},{key:"Dn",value:function(e){return UT(e).get("targetGlobalKey").next((function(e){return Rb(null!==e),e}))}},{key:"Cn",value:function(e,t){return UT(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return ZT(e).put(qI(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=H_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ZT(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=VI(n);Q_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=BT(e);return t.forEach((function(t){var o=rI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),vw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=BT(e);return vw.forEach(t,(function(t){var a=rI(t.path);return vw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=BT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=BT(e),i=fE();return r.X({range:n,Z:!0},(function(e,t,n){var r=oI(e[1]),a=new tw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=rI(t.path),r=IDBKeyRange.bound([n],[Hb(n)],!1,!0),a=0;return BT(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"ie",value:function(e,t){return ZT(e).get(t).next((function(e){return e?VI(e):null}))}}]),e}();function ZT(e){return RI(e,"targets")}function UT(e){return RI(e,"targetGlobal")}function BT(e){return RI(e,"targetDocuments")}function VT(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),s=o[0],u=o[1],c=Gb(r,s);return 0===c?Gb(a,u):c}var qT=function(){function e(t){l(this,e),this.kn=t,this.buffer=new Z_(VT),this.On=0}return(0,h.Z)(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();VT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),zT=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return(0,h.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;Tb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!bw(e.t0)){e.next=12;break}Tb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,dw(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),WT=function(){function e(t,n){l(this,e),this.Ln=t,this.params=n}return(0,h.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return vw.resolve(Sw.at);var r=new qT(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tb("LruGarbageCollector","Garbage collection skipped; disabled"),vw.resolve(CT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),CT):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Tb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Ib()<=Ie.DEBUG&&Tb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),vw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),GT=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new WT(e,t)}(this,n)}return(0,h.Z)(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return KT(e,n)}},{key:"removeReference",value:function(e,t,n){return KT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return KT(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return MT(e).tt((function(r){return DT(e,r,t).next((function(e){return e&&(n=!0),vw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,s){if(s<=t){var u=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Yb.min()),BT(e).delete([0,rI(o.path)])}))}));i.push(u)}})).next((function(){return vw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return KT(e,t)}},{key:"Qn",value:function(e,t){var n,r=BT(e),a=Sw.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var o=(0,i.Z)(e,2),s=o[0],u=(o[1],r.path),c=r.sequenceNumber;0===s?(a!==Sw.at&&t(new tw(oI(n)),a),a=c,n=u):a=Sw.at})).next((function(){a!==Sw.at&&t(new tw(oI(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function KT(e,t){return BT(e).put(function(e,t){return{targetId:0,path:rI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var HT=function(){function e(){l(this,e),this.changes=new tE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,h.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,W_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),QT=function(){function e(t){l(this,e),this.Tt=t}return(0,h.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return $T(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return $T(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],jI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=W_.newInvalidDocument(t);return $T(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eS(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:W_.newInvalidDocument(t)};return $T(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eS(t))},(function(e,i){r={document:n.Wn(t,i),size:RT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=rE();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=rE(),i=new M_(tw.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,RT(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return vw.resolve();var r=new Z_(nS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(eS(r.first()),eS(r.last())),a=r.getIterator(),o=a.getNext();return $T(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=tw.fromSegments([].concat((0,be.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&nS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(eS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),jI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $T(e).W(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=rE(),o=d(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Wn(tw.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(px(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=rE(),o=tS(t,n),s=tS(t,cw.max());return $T(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Wn(tw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new JT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return XT(e).get("remoteDocumentGlobalKey").next((function(e){return Rb(!!e),e}))}},{key:"zn",value:function(e,t){return XT(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=BE(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=tw.fromSegments(t.noDocument.path),i=UI(t.noDocument.readTime);n=W_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ab();var a=tw.fromSegments(t.unknownDocument.path),o=UI(t.unknownDocument.version);n=W_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Qb(e[0],e[1]);return Yb.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Yb.min()))return n}return W_.newInvalidDocument(e)}}]),e}();function YT(e){return new QT(e)}var JT=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new tE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,h.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Z_((function(e,t){return Gb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=FI(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=RT(u);r+=c-s.size,n.push(t.Xn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=FI(t.Xn.Tt,o.convertToNoDocument(Yb.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),vw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(HT);function XT(e){return RI(e,"remoteDocumentGlobal")}function $T(e){return RI(e,"remoteDocumentsV14")}function eS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function tS(e,t){var n=t.documentKey.path.toArray();return[e,jI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gb(n[a],r[a]))return i;return(i=Gb(n.length,r.length))||((i=Gb(n[n.length-2],r[r.length-2]))||Gb(n[n.length-1],r[r.length-1]))}var rS=(0,h.Z)((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),iS=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,h.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ux(r.mutation,e,V_.empty(),Qb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,fE()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fE(),i=sE();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=aE();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=sE();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,fE())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=rE(),a=cE(),o=cE();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zx)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ux(o.mutation,t,o.mutation.getFieldMask(),Qb.now())):a.set(t.key,V_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new rS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=cE(),i=new M_((function(e,t){return e-t})),a=fE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=d(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||V_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||fE()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=uE();c.forEach((function(e){if(!a.has(e)){var n=jx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return vw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ox(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vw.resolve(sE()),s=-1,u=a;return o.next((function(t){return vw.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?vw.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,fE())})).next((function(e){return{batchId:s,changes:oE(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new tw(t)).next((function(e){var t=aE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=aE();return this.indexManager.getCollectionParents(e,i).next((function(o){return vw.forEach(o,(function(o){var s=function(e,t){return new ex(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,W_.newInvalidDocument(r)))}));var n=aE();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ux(a.mutation,i,V_.empty(),Qb.now()),px(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),aS=function(){function e(t){l(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return(0,h.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return vw.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:RE(n.createTime)}),vw.resolve()}},{key:"getNamedQuery",value:function(e,t){return vw.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:zI(e.bundledQuery),readTime:RE(e.readTime)}}(t)),vw.resolve()}}]),e}(),oS=function(){function e(){l(this,e),this.overlays=new M_(tw.comparator),this.ss=new Map}return(0,h.Z)(e,[{key:"getOverlay",value:function(e,t){return vw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=sE();return vw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),vw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),vw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sE(),i=t.length+1,a=new tw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return vw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new M_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=sE(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=sE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return vw.resolve(u)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new OI(t,n));var a=this.ss.get(t);void 0===a&&(a=fE(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),sS=function(){function e(){l(this,e),this.rs=new Z_(uS.os),this.us=new Z_(uS.cs)}return(0,h.Z)(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new uS(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new uS(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new tw(new Xb([])),r=new uS(n,e),i=new uS(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new tw(new Xb([])),n=new uS(t,e),r=new uS(t,e+1),i=fE();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new uS(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),uS=function(){function e(t,n){l(this,e),this.key=t,this.gs=n}return(0,h.Z)(e,null,[{key:"os",value:function(e,t){return tw.comparator(e.key,t.key)||Gb(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Gb(e.gs,t.gs)||tw.comparator(e.key,t.key)}}]),e}(),cS=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Z_(uS.os)}return(0,h.Z)(e,[{key:"checkEmpty",value:function(e){return vw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new PI(i,t,n,r);this.mutationQueue.push(a);var o,s=d(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ps=this.ps.add(new uS(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return vw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vw.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return vw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vw.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return vw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new uS(t,0),i=new uS(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),vw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Z_(Gb);return t.forEach((function(e){var t=new uS(e,0),i=new uS(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),vw.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tw.isDocumentKey(i)||(i=i.child(""));var a=new uS(new tw(i),0),o=new Z_(Gb);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),vw.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Rb(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return vw.forEach(t.mutations,(function(i){var a=new uS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new uS(t,0),r=this.ps.firstAfterOrEqual(n);return vw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vw.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),lS=function(){function e(t){l(this,e),this.Rs=t,this.docs=new M_(tw.comparator),this.size=0}return(0,h.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vw.resolve(n?n.document.mutableCopy():W_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=rE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():W_.newInvalidDocument(e))})),vw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=rE(),a=t.path,o=new tw(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||lw(uw(l),n)<=0||(r.has(l.key)||px(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return vw.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ab()}},{key:"bs",value:function(e,t){return vw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hS(this)}},{key:"getSize",value:function(e){return vw.resolve(this.size)}}]),e}(),hS=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Xn=e,r}return(0,h.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),vw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(HT),fS=function(){function e(t){l(this,e),this.persistence=t,this.vs=new tE((function(e){return H_(e)}),Q_),this.lastRemoteSnapshotVersion=Yb.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new sS,this.targetCount=0,this.Ss=FT.Vn()}return(0,h.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),vw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vw.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),vw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),vw.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new FT(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,vw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),vw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,vw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return vw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),vw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),vw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return vw.resolve(n)}},{key:"containsKey",value:function(e,t){return vw.resolve(this.Vs.containsKey(t))}}]),e}(),dS=function(){function e(t,n){var r=this;l(this,e),this.Ds={},this.overlays={},this.Cs=new Sw(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new fS(this),this.indexManager=new kT,this.remoteDocumentCache=new lS((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new MI(n),this.Os=new aS(this.Tt)}return(0,h.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new oS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new cS(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Tb("MemoryPersistence","Starting transaction:",e);var i=new pS(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return vw.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),pS=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,h.Z)(n)}(fw),vS=function(){function e(t){l(this,e),this.persistence=t,this.Bs=new sS,this.Ls=null}return(0,h.Z)(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw Ab()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),vw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),vw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),vw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vw.forEach(this.Us,(function(r){var i=tw.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Yb.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return vw.or([function(){return vw.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),mS=function(){function e(t){l(this,e),this.Tt=t}return(0,h.Z)(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new mw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sI,{unique:!0}),e.createObjectStore("documentMutations")}(e),yS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=vw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),yS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return vw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_I});t.createIndex("collectionPathOverlayIndex",xI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",EI,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:hI});t.createIndex("documentKeyIndex",fI),t.createIndex("collectionGroupIndex",dI)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gI}).createIndex("sequenceNumberIndex",kI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bI}).createIndex("documentKeyIndex",wI,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=RT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return vw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return vw.forEach(r,(function(r){Rb(r.userId===n.userId);var i=BI(t.Tt,r);return AT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Xb(n),o=function(e){return[0,rI(e)]}(a);r.push(t.get(o).next((function(n){return n?vw.resolve():function(n){return t.put({targetId:0,path:rI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return vw.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:yI});var n=t.store("collectionParents"),r=new bT,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:rI(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new Xb(e);return a(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],oI(r));return a(o.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=VI(r),a=qI(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new tw(Xb.fromString(i.document.name).popFirst(5)):i.noDocument?tw.fromSegments(i.noDocument.path):i.unknownDocument?tw.fromSegments(i.unknownDocument.path):Ab()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return vw.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=YT(this.Tt),a=new dS(vS.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:fE();BI(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),vw.forEach(r,(function(e,r){var o=new _b(r),s=JI.ue(n.Tt,o),u=a.getIndexManager(o),c=PT.ue(o,n.Tt,u,a.referenceDelegate);return new iS(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new AI(t,Sw.at),e).next()}))}))}}]),e}();function yS(e){e.createObjectStore("targetDocuments",{keyPath:vI}).createIndex("documentTargetsIndex",mI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pI,{unique:!0}),e.createObjectStore("targetGlobal")}var gS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kS=function(){function e(t,n,r,i,a,o,s,u,c,h){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=s,this.Zs=c,this.Xs=h,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Ob(Db.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GT(this,i),this.oi=n+"main",this.Tt=new MI(u),this.ui=new yw(this.oi,this.ti,new mS(this.Tt)),this.Ns=new jT(this.referenceDelegate,this.Tt),this.remoteDocumentCache=YT(this.Tt),this.Os=new HI,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===h&&Sb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,h.Z)(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ob(Db.FAILED_PRECONDITION,gS);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new Sw(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=u(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return wS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(bw(t))return Tb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Tb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return bS(e).get("owner").next((function(e){return vw.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return wS(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=RI(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return vw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=d(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?vw.resolve(!0):bS(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Ob(Db.FAILED_PRECONDITION,gS);return!1}}return!(!t.networkEnabled||!t.inForeground)||wS(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Tb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new AI(e,Sw.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return wS(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return PT.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new _T(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return JI.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;Tb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.ti)?NI:14===i?CI:13===i?SI:12===i?TI:11===i?II:void Ab();return this.ui.runTransaction(e,o,s,(function(i){return a=new AI(i,r.Cs?r.Cs.next():Sw.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw Sb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Ob(Db.FAILED_PRECONDITION,hw);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return bS(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ob(Db.FAILED_PRECONDITION,gS)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bS(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=bS(e);return n.get("owner").next((function(e){return t.yi(e)?(Tb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):vw.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Sb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),!V()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Tb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Sb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(Rm){Sb("Failed to set zombie client id.",Rm)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(Rm){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return yw.C()}}]),e}();function bS(e){return RI(e,"owner")}function wS(e){return RI(e,"clientMetadata")}function _S(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xS=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return(0,h.Z)(e,null,[{key:"Ni",value:function(t,n){var r,i=fE(),a=fE(),o=d(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ES=function(){function e(){l(this,e),this.ki=!1}return(0,h.Z)(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(rx(t))return vw.resolve(null);var r=ux(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=lx(t,null,"F"),r=ux(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=fE.apply(void 0,(0,be.Z)(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,lx(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return rx(t)||r.isEqual(Yb.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(Ib()<=Ie.DEBUG&&Tb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dx(t)),i.qi(e,o,t,sw(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Z_(mx(e));return t.forEach((function(t,r){px(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return Ib()<=Ie.DEBUG&&Tb("QueryEngine","Using full collection scan to execute query:",dx(t)),this.Oi.getDocumentsMatchingQuery(e,t,cw.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),IS=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new M_(Gb),this.Gi=new tE((function(e){return H_(e)}),Q_),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return(0,h.Z)(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iS(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function TS(e,t,n,r){return new IS(e,t,n,r)}function SS(e,t){return CS.apply(this,arguments)}function CS(){return CS=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=fE(),u=d(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=d(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}var p,v=d(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=d(m.mutations);try{for(g.s();!(y=g.n()).done;){var k=y.value;s=s.add(k.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function NS(e,t){var n=Pb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Rb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=fE(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function AS(e){var t=Pb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function RS(e,t){var n=Pb(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Fw.EMPTY_BYTE_STRING,Yb.min()).withLastLimboFreeSnapshotVersion(Yb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var s=rE(),u=fE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(PS(e,a,t.documentUpdates).next((function(e){s=e.Hi,u=e.Ji}))),!r.isEqual(Yb.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return vw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ki=i,e}))}function PS(e,t,n){var r=fE(),i=fE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=rE();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Yb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Tb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function DS(e,t){var n=Pb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function OS(e,t){var n=Pb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,vw.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new LI(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function LS(e,t,n){return MS.apply(this,arguments)}function MS(){return MS=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pb(t),a=i.Ki.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",s,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),bw(e.t1)){e.next=12;break}throw e.t1;case 12:Tb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),MS.apply(this,arguments)}function FS(e,t,n){var r=Pb(e),i=Yb.min(),a=fE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Pb(e),i=r.Gi.get(n);return void 0!==i?vw.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,ux(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Yb.min(),n?a:fE())})).next((function(e){return US(r,vx(t),e),{documents:e,Yi:a}}))}))}function jS(e,t){var n=Pb(e),r=Pb(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function ZS(e,t){var n=Pb(e),r=n.Qi.get(t)||Yb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,sw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return US(n,t,e),e}))}function US(e,t,n){var r=e.Qi.get(t)||Yb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function BS(e,t,n,r){return VS.apply(this,arguments)}function VS(){return VS=u(o().mark((function e(t,n,r,i){var a,s,u,c,l,h,f,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Pb(t),s=fE(),u=rE(),c=d(r);try{for(c.s();!(l=c.n()).done;)h=l.value,f=n.Zi(h.metadata.name),h.document&&(s=s.add(f)),(p=n.Xi(h)).setReadTime(n.tr(h.metadata.readTime)),u=u.insert(f,p)}catch(o){c.e(o)}finally{c.f()}return v=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,OS(a,function(e){return ux(nx(Xb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return PS(e,v,u).next((function(t){return v.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.Ns.addMatchingKeys(e,s,m.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function qS(e,t){return zS.apply(this,arguments)}function zS(){return zS=u(o().mark((function e(t,n){var r,i,a,s=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:fE(),e.next=3,OS(t,ux(zI(n.bundledQuery)));case 3:return i=e.sent,a=Pb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=RE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(Fw.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function WS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function GS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function KS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var HS=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,h.Z)(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ob(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Sb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),QS=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return(0,h.Z)(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ob(i.error.code,i.error.message))),a?new e(t,i.state,r):(Sb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),YS=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return(0,h.Z)(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pE(),o=0;i&&o<r.activeTargetIds.length;++o)i=Lw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Sb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),JS=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return(0,h.Z)(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Sb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),XS=function(){function e(){l(this,e),this.activeTargetIds=pE()}return(0,h.Z)(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),$S=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new M_(Gb),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=WS(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new XS),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return(0,h.Z)(e,[{key:"start",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a,s,u,c,l,h,f,p=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=d(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(WS(this.persistenceKey,i)))&&(s=YS.er(i,a))&&(this.ar=this.ar.insert(s.clientId,s));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(c=this.Ir(u))&&this.Tr(c),l=d(this.hr);try{for(l.s();!(h=l.n()).done;)f=h.value,this.cr(f)}catch(o){l.e(o)}finally{l.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(KS(this.persistenceKey,e));if(n){var r=QS.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(KS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Tb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Tb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Tb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Tb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void Sb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(u(o().mark((function e(){var r,i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(s=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(s));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}c=function(e){var t=Sw.at;if(null!=e)try{var n=JSON.parse(e);Rb("number"==typeof n),t=n}catch(e){Sb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==Sw.at&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return l=t.Fr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new HS(this.currentUser,e,t,n),i=GS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=GS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=KS(this.persistenceKey,e),i=new QS(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return YS.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return HS.er(new _b(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return QS.er(r,t)}},{key:"Ir",value:function(e){return JS.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:Tb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.qr(o,s).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=pE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eC=function(){function e(){l(this,e),this.Ur=new XS,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,h.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new XS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tC=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nC=function(){function e(){var t=this;l(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return(0,h.Z)(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){Tb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=d(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Tb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=d(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},iC=function(){function e(t){l(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return(0,h.Z)(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),aC=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return(0,h.Z)(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new bb;o.setWithCredentials(!0),o.listenOnce(vb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case pb.NO_ERROR:var t=o.getResponseJson();Tb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pb.TIMEOUT:Tb("Connection",'RPC "'+e+'" timed out'),a(new Ob(Db.DEADLINE_EXCEEDED,"Request time out"));break;case pb.HTTP_ERROR:var n=o.getStatus();if(Tb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Db).indexOf(t)>=0?t:Db.UNKNOWN}(s.status);a(new Ob(u,s.message))}else a(new Ob(Db.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ob(Db.UNAVAILABLE,"Connection failed."));break;default:Ab()}}finally{Tb("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fb(),a=db(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gb({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Tb("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new iC({Yr:function(e){l?Tb("Connection","Not sending because WebChannel is closed:",e):(c||(Tb("Connection","Opening WebChannel transport."),u.open(),c=!0),Tb("Connection","WebChannel sending:",e),u.send(e))},Zr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,kb.EventType.OPEN,(function(){l||Tb("Connection","WebChannel transport opened.")})),f(u,kb.EventType.CLOSE,(function(){l||(l=!0,Tb("Connection","WebChannel transport closed"),h.oo())})),f(u,kb.EventType.ERROR,(function(e){l||(l=!0,Cb("Connection","WebChannel transport errored:",e),h.oo(new Ob(Db.UNAVAILABLE,"The operation could not be completed")))})),f(u,kb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Rb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Tb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Hx[e];if(void 0!==t)return eE(t)}(a),s=i.message;void 0===o&&(o=Db.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.oo(new Ob(o,s)),u.close()}else Tb("Connection","WebChannel received:",n),h.uo(n)}})),f(a,mb.STAT_EVENT,(function(e){e.stat===yb.PROXY?Tb("Connection","Detected buffering proxy"):e.stat===yb.NOPROXY&&Tb("Connection","Detected no buffering proxy")})),setTimeout((function(){h.ro()}),0),h}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,h.Z)(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);Tb("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return Tb("RestConnection","Received: ",e),e}),(function(t){throw Cb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=rC[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function oC(){return"undefined"!=typeof window?window:null}function sC(){return"undefined"!=typeof document?document:null}function uC(e){return new SE(e,!0)}var cC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return(0,h.Z)(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&Tb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),lC=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new cC(t,n)}return(0,h.Z)(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===Db.RESOURCE_EXHAUSTED?(Sb(n.toString()),Sb("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===Db.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.Co===n&&e.jo(a,o)}),(function(n){t((function(){var t=new Ob(Db.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return Tb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(Tb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),hC=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u}return(0,h.Z)(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ab()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(Rb(void 0===t||"string"==typeof t),Fw.fromBase64String(t||"")):(Rb(void 0===t||t instanceof Uint8Array),Fw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Db.UNKNOWN:eE(e.code);return new Ob(t,e.message||"")}(o);n=new kE(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=LE(e,u.document.name),l=RE(u.document.updateTime),h=u.document.createTime?RE(u.document.createTime):Yb.min(),f=new q_({mapValue:{fields:u.document.fields}}),d=W_.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new yE(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=LE(e,m.document),g=m.readTime?RE(m.readTime):Yb.min(),k=W_.newNoDocument(y,g),b=m.removedTargetIds||[];n=new yE([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=LE(e,w.document),x=w.removedTargetIds||[];n=new yE([],x,_,null)}else{if(!("filter"in t))return Ab();t.filter;var E=t.filter;E.targetId;var I=E.count||0,T=new Xx(I),S=E.targetId;n=new gE(S,T)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Yb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yb.min():t.readTime?RE(t.readTime):Yb.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=jE(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Y_(r)?{documents:WE(e,r)}:{query:GE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=NE(e,t.resumeToken):t.snapshotVersion.compareTo(Yb.min())>0&&(n.readTime=CE(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ab()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=jE(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(lC),fC=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).Tt=o,u.Zo=!1,u}return(0,h.Z)(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Jt(y(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(Rb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(Rb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?RE(e.updateTime):RE(t);return n.isEqual(Yb.min())&&(n=RE(t)),new Ox(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=RE(e.commitTime);return this.listener.eu(n,t)}return Rb(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=jE(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return qE(t.Tt,e)}))};this.qo(n)}}]),n}(lC),dC=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return(0,h.Z)(n,[{key:"ru",value:function(){if(this.iu)throw new Ob(Db.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),s=o[0],u=o[1];return r.connection.lo(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Db.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ob(Db.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var a=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=(0,i.Z)(o,2),u=s[0],c=s[1];return a.connection.mo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Db.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Ob(Db.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return(0,h.Z)((function e(){l(this,e)}))}());var pC=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return(0,h.Z)(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(Sb(t),this.cu=!1):Tb("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),vC=(0,h.Z)((function e(t,n,r,i,a){var s=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=TC(s),!e.t0){e.next=5;break}return Tb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pb(t)).mu.add(4),e.next=4,gC(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,mC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new pC(r,i)}));function mC(e){return yC.apply(this,arguments)}function yC(){return yC=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!TC(t)){e.next=18;break}n=d(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yC.apply(this,arguments)}function gC(e){return kC.apply(this,arguments)}function kC(){return kC=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=d(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kC.apply(this,arguments)}function bC(e,t){var n=Pb(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),IC(n)?EC(n):tN(n).Mo()&&_C(n,t))}function wC(e,t){var n=Pb(e),r=tN(n);n.wu.delete(t),r.Mo()&&xC(n,t),0===n.wu.size&&(r.Mo()?r.Bo():TC(n)&&n.pu.set("Unknown"))}function _C(e,t){e.Iu.Ft(t.targetId),tN(e).Jo(t)}function xC(e,t){e.Iu.Ft(t),tN(e).Yo(t)}function EC(e){e.Iu=new wE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),tN(e).start(),e.pu.au()}function IC(e){return TC(e)&&!tN(e).Oo()&&e.wu.size>0}function TC(e){return 0===Pb(e).mu.size}function SC(e){e.Iu=void 0}function CC(e){return NC.apply(this,arguments)}function NC(){return NC=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){_C(t,e)}));case 1:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function AC(e,t){return RC.apply(this,arguments)}function RC(){return RC=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SC(t),IC(t)?(t.pu.fu(n),EC(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),RC.apply(this,arguments)}function PC(e,t,n){return DC.apply(this,arguments)}function DC(){return DC=u(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof kE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=d(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(s=a.value,e.t0=t.wu.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.wu.delete(s),t.Iu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Tb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,OC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof yE?t.Iu.Qt(n):n instanceof gE?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Yb.min())){e.next=29;break}return e.prev=14,e.next=17,AS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Fw.EMPTY_BYTE_STRING,n.snapshotVersion)),xC(e,t);var r=new LI(n.target,t,1,n.sequenceNumber);_C(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Tb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,OC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),DC.apply(this,arguments)}function OC(e,t,n){return LC.apply(this,arguments)}function LC(){return LC=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bw(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,gC(t);case 5:t.pu.set("Offline"),r||(r=function(){return AS(t.localStore)}),t.asyncQueue.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,mC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function MC(e,t){return t().catch((function(n){return OC(e,n,t)}))}function FC(e){return jC.apply(this,arguments)}function jC(){return jC=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pb(t),r=nN(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!ZC(n)){e.next=19;break}return e.prev=3,e.next=6,DS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,UC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,OC(n,e.t0);case 17:e.next=2;break;case 19:BC(n)&&VC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),jC.apply(this,arguments)}function ZC(e){return TC(e)&&e._u.length<10}function UC(e,t){e._u.push(t);var n=nN(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function BC(e){return TC(e)&&!nN(e).Oo()&&e._u.length>0}function VC(e){nN(e).start()}function qC(e){return zC.apply(this,arguments)}function zC(){return zC=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nN(t).su();case 1:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function WC(e){return GC.apply(this,arguments)}function GC(){return GC=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nN(t),r=d(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),GC.apply(this,arguments)}function KC(e,t,n){return HC.apply(this,arguments)}function HC(){return HC=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=DI.from(i,n,r),e.next=3,MC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,FC(t);case 5:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t){return YC.apply(this,arguments)}function YC(){return YC=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&nN(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$x(i=n.code)||i===Db.ABORTED){e.next=7;break}return r=t._u.shift(),nN(t).$o(),e.next=5,MC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,FC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:BC(t)&&VC(t);case 5:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}function JC(e,t){return XC.apply(this,arguments)}function XC(){return XC=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Pb(t)).asyncQueue.verifyOperationInProgress(),Tb("RemoteStore","RemoteStore received new credentials"),i=TC(r),r.mu.add(3),e.next=6,gC(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,mC(r);case 12:case"end":return e.stop()}}),e)}))),XC.apply(this,arguments)}function $C(e,t){return eN.apply(this,arguments)}function eN(){return eN=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,mC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,gC(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e){return e.Tu||(e.Tu=function(e,t,n){var r=Pb(e);return r.ru(),new hC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:CC.bind(null,e),no:AC.bind(null,e),Ho:PC.bind(null,e)}),e.gu.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),IC(e)?EC(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:SC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function nN(e){return e.Eu||(e.Eu=function(e,t,n){var r=Pb(e);return r.ru(),new fC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:qC.bind(null,e),no:QC.bind(null,e),nu:WC.bind(null,e),eu:KC.bind(null,e)}),e.gu.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,FC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(Tb("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var rN=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Lb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,h.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ob(Db.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function iN(e,t){if(Sb("AsyncQueue","".concat(t,": ").concat(e)),bw(e))return new Ob(Db.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var aN=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||tw.comparator(e.key,n.key)}:function(e,t){return tw.comparator(e.key,t.key)},this.keyedMap=aE(),this.sortedSet=new M_(this.comparator)}return(0,h.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),oN=function(){function e(){l(this,e),this.Au=new M_(tw.comparator)}return(0,h.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Ab():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),sN=function(){function e(t,n,r,i,a,o,s,u,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return(0,h.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,aN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),uN=(0,h.Z)((function e(){l(this,e),this.bu=void 0,this.listeners=[]})),cN=(0,h.Z)((function e(){l(this,e),this.queries=new tE((function(e){return fx(e)}),hx),this.onlineState="Unknown",this.vu=new Set}));function lN(e,t){return hN.apply(this,arguments)}function hN(){return hN=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=n.query,a=!1,(s=r.queries.get(i))||(a=!0,s=new uN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:s.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=iN(e.t0,"Initialization of query '".concat(dx(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,s),s.listeners.push(n),n.Pu(r.onlineState),s.bu&&n.Vu(s.bu)&&mN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),hN.apply(this,arguments)}function fN(e,t){return dN.apply(this,arguments)}function dN(){return dN=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=n.query,a=!1,(s=r.queries.get(i))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),a=0===s.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){var n,r=Pb(e),i=!1,a=d(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=d(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.bu=o}}}catch(h){a.e(h)}finally{a.f()}i&&mN(r)}function vN(e,t,n){var r=Pb(e),i=r.queries.get(t);if(i){var a,o=d(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function mN(e){e.vu.forEach((function(e){e.next()}))}var yN=function(){function e(t,n,r){l(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return(0,h.Z)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=d(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new sN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=sN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),gN=function(){function e(t,n){l(this,e),this.Mu=t,this.byteLength=n}return(0,h.Z)(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),kN=function(){function e(t){l(this,e),this.Tt=t}return(0,h.Z)(e,[{key:"Zi",value:function(e){return LE(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?BE(this.Tt,e.document,!1):W_.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return RE(e)}}]),e}(),bN=function(){function e(t,n,r){l(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wN(t)}return(0,h.Z)(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=Xb.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new kN(this.Tt),i=d(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Zi(a.metadata.name),u=d(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||fE()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BS(this.localStore,new kN(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=d(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function wN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _N=(0,h.Z)((function e(t){l(this,e),this.key=t})),xN=(0,h.Z)((function e(t){l(this,e),this.key=t})),EN=function(){function e(t,n){l(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=fE(),this.mutatedKeys=fE(),this.ju=mx(t),this.zu=new aN(this.ju)}return(0,h.Z)(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new oN,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=px(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Yu(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ju(h,u)>0||c&&n.ju(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:s,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ab()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],s=0===this.Qu.size&&this.current?1:0,u=s!==this.Gu;return this.Gu=s,0!==a.length||u?{snapshot:new sN(this.query,e.zu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new oN,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=fE(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new xN(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new _N(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=fE();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return sN.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),IN=(0,h.Z)((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),TN=(0,h.Z)((function e(t){l(this,e),this.key=t,this.ic=!1})),SN=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new tE((function(e){return fx(e)}),hx),this.uc=new Map,this.cc=new Set,this.ac=new M_(tw.comparator),this.hc=new Map,this.lc=new sS,this.fc={},this.dc=new Map,this._c=FT.Sn(),this.onlineState="Unknown",this.wc=void 0}return(0,h.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function CN(e,t){return NN.apply(this,arguments)}function NN(){return NN=u(o().mark((function e(t,n){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wA(t),!(s=r.oc.get(n))){e.next=6;break}i=s.targetId,r.sharedClientState.addLocalQueryTarget(i),a=s.view.sc(),e.next=15;break;case 6:return e.next=8,OS(r.localStore,ux(n));case 8:return u=e.sent,r.isPrimaryClient&&bC(r.remoteStore,u),c=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,AN(r,n,i,"current"===c,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function AN(e,t,n,r,i){return RN.apply(this,arguments)}function RN(){return RN=u(o().mark((function e(t,n,r,i,a){var s,c,l,h,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=u(o().mark((function e(t,n,r,i){var a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,FS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return s=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,s),e.abrupt("return",(JN(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,FS(t.localStore,n,!0);case 3:return s=e.sent,c=new EN(n,s.Yi),l=c.Hu(s.documents),h=mE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),f=c.applyChanges(l,t.isPrimaryClient,h),JN(t,r,f.tc),d=new IN(n,r,c),e.abrupt("return",(t.oc.set(n,d),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),RN.apply(this,arguments)}function PN(e,t){return DN.apply(this,arguments)}function DN(){return DN=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pb(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!hx(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,LS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),wC(r.remoteStore,i.targetId),QN(r,i.targetId)})).catch(dw);case 9:e.next=14;break;case 11:return QN(r,i.targetId),e.next=14,LS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),DN.apply(this,arguments)}function ON(e,t,n){return LN.apply(this,arguments)}function LN(){return LN=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_A(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Pb(e),a=Qb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),fE());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=rE(),u=fE();return i.ji.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=d(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Bx(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new zx(c.key,l,z_(l.value.mapValue),Lx.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:oE(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new M_(Gb)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eA(i,a.changes);case 9:return e.next=11,FC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=iN(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),LN.apply(this,arguments)}function MN(e,t){return FN.apply(this,arguments)}function FN(){return FN=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.prev=1,e.next=4,RS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(Rb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?Rb(n.ic):e.removedDocuments.size>0&&(Rb(n.ic),n.ic=!1))})),e.next=8,eA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),FN.apply(this,arguments)}function jN(e,t,n){var r=Pb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Pb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=d(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mN(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ZN(e,t,n){return UN.apply(this,arguments)}function UN(){return UN=u(o().mark((function e(t,n,r){var i,a,s,u,c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Pb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(s=a&&a.key)){e.next=14;break}return u=(u=new M_(tw.comparator)).insert(s,W_.newNoDocument(s,Yb.min())),c=fE().add(s),l=new vE(Yb.min(),new Map,new Z_(Gb),u,c),e.next=9,MN(i,l);case 9:i.ac=i.ac.remove(s),i.hc.delete(n),$N(i),e.next=16;break;case 14:return e.next=16,LS(i.localStore,n,!1).then((function(){return QN(i,n,r)})).catch(dw);case 16:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function BN(e,t){return VN.apply(this,arguments)}function VN(){return VN=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=n.batch.batchId,e.prev=1,e.next=4,NS(r.localStore,n);case 4:return a=e.sent,HN(r,i,null),KN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),VN.apply(this,arguments)}function qN(e,t,n){return zN.apply(this,arguments)}function zN(){return zN=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pb(t),e.prev=1,e.next=4,function(e,t){var n=Pb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Rb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,HN(i,n,r),KN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zN.apply(this,arguments)}function WN(e,t){return GN.apply(this,arguments)}function GN(){return GN=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TC((r=Pb(t)).remoteStore)||Tb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Pb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=iN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(s);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),GN.apply(this,arguments)}function KN(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function HN(e,t,n){var r=Pb(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function QN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=d(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||YN(e,t)}))}function YN(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(wC(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),$N(e))}function JN(e,t,n){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _N?(e.lc.addReference(a.key,t),XN(e,a)):a instanceof xN?(Tb("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||YN(e,a.key)):Ab()}}catch(o){i.e(o)}finally{i.f()}}function XN(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(Tb("SyncEngine","New document in limbo: "+n),e.cc.add(r),$N(e))}function $N(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new tw(Xb.fromString(t)),r=e._c.next();e.hc.set(r,new TN(n)),e.ac=e.ac.insert(n,r),bC(e.remoteStore,new LI(ux(nx(n.path)),r,2,Sw.at))}}function eA(e,t,n){return tA.apply(this,arguments)}function tA(){return tA=u(o().mark((function e(t,n,r){var i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pb(t),a=[],s=[],c=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){c.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=xS.Ni(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(c);case 6:return i.rc.Ho(a),e.next=9,function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vw.forEach(n,(function(t){return vw.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vw.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),bw(e.t0)){e.next=10;break}throw e.t0;case 10:Tb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=d(n);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.targetId,s.fromCache||(c=r.Ki.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),r.Ki=r.Ki.insert(u,h))}catch(o){i.e(o)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t){return rA.apply(this,arguments)}function rA(){return rA=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Pb(t)).currentUser.isEqual(n)){e.next=11;break}return Tb("SyncEngine","User change. New user:",n.toKey()),e.next=5,SS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Ob(Db.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eA(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){var n=Pb(e),r=n.hc.get(t);if(r&&r.ic)return fE().add(r.key);var i=fE(),a=n.uc.get(t);if(!a)return i;var o,s=d(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.oc.get(u);i=i.unionWith(c.view.Wu)}}catch(l){s.e(l)}finally{s.f()}return i}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.next=3,FS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&JN(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function sA(e,t){return uA.apply(this,arguments)}function uA(){return uA=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),e.abrupt("return",ZS(r.localStore,n).then((function(e){return eA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function cA(e,t,n,r){return lA.apply(this,arguments)}function lA(){return lA=u(o().mark((function e(t,n,r,i){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pb(t),e.next=3,function(e,t){var n=Pb(e),r=Pb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):vw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(s=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,FC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(HN(a,n,i||null),KN(a,n),function(e,t){Pb(Pb(e).mutationQueue).bn(t)}(a.localStore,n)):Ab();case 11:return e.next=13,eA(a,s);case 13:e.next=16;break;case 15:Tb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function hA(e,t){return fA.apply(this,arguments)}function fA(){return fA=u(o().mark((function e(t,n){var r,i,a,s,u,c,l,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wA(r=Pb(t)),_A(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,dA(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,$C(r.remoteStore,!0);case 9:s=d(a);try{for(s.s();!(u=s.n()).done;)c=u.value,bC(r.remoteStore,c)}catch(o){s.e(o)}finally{s.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return l=[],h=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):h=h.then((function(){return QN(r,t),LS(r.localStore,t,!0)})),wC(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,dA(r,l);case 21:return function(e){var t=Pb(e);t.hc.forEach((function(e,n){wC(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new M_(tw.comparator)}(r),r.wc=!1,e.next=25,$C(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function dA(e,t,n){return pA.apply(this,arguments)}function pA(){return pA=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,h,f,p,v,m,y,g,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Pb(t),a=[],s=[],u=d(n),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=45;break}if(l=c.value,h=void 0,!(f=i.uc.get(l))||0===f.length){e.next=34;break}return e.next=11,OS(i.localStore,ux(f[0]));case 11:h=e.sent,p=d(f),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=i.oc.get(m),e.next=20,aA(i,y);case 20:(g=e.sent).snapshot&&s.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,jS(i.localStore,l);case 36:return k=e.sent,e.next=39,OS(i.localStore,k);case 39:return h=e.sent,e.next=42,AN(i,vA(k),l,!1,h.resumeToken);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(s),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),pA.apply(this,arguments)}function vA(e){return tx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mA(e){var t=Pb(e);return Pb(Pb(t.localStore).persistence).Si()}function yA(e,t,n,r){return gA.apply(this,arguments)}function gA(){return gA=u(o().mark((function e(t,n,r,i){var a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Pb(t)).wc){e.next=3;break}return e.abrupt("return",void Tb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((s=a.uc.get(n))&&s.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ZS(a.localStore,vx(s[0]));case 10:return u=e.sent,c=vE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Fw.EMPTY_BYTE_STRING),e.next=14,eA(a,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,LS(a.localStore,n,!0);case 17:return QN(a,n,i),e.abrupt("break",20);case 19:Ab();case 20:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function kA(e,t,n){return bA.apply(this,arguments)}function bA(){return bA=u(o().mark((function e(t,n,r){var i,a,s,u,c,l,h,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=wA(t)).wc){e.next=45;break}a=d(n),e.prev=3,a.s();case 5:if((s=a.n()).done){e.next=21;break}if(u=s.value,!i.uc.has(u)){e.next=10;break}return Tb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,jS(i.localStore,u);case 12:return c=e.sent,e.next=15,OS(i.localStore,c);case 15:return l=e.sent,e.next=18,AN(i,vA(c),l.targetId,!1,l.resumeToken);case 18:bC(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=d(r),e.prev=30,p=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,LS(i.localStore,t,!1).then((function(){wC(i.remoteStore,t),QN(i,t)})).catch(dw);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((f=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),bA.apply(this,arguments)}function wA(e){var t=Pb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=MN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,t),t.rc.Ho=pN.bind(null,t.eventManager),t.rc.gc=vN.bind(null,t.eventManager),t}function _A(e){var t=Pb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,t),t}function xA(e,t,n){var r=Pb(e);(function(){var e=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Pb(e),r=RE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(wN(i)),a=new bN(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:s=e.sent;case 16:if(!s){e.next=26;break}return e.next=19,a.Bu(s);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:s=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,eA(t,c.Uu,void 0);case 31:return e.next=33,function(e,t){var n=Pb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Cb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var EA=function(){function e(){l(this,e),this.synchronizeTabs=!1}return(0,h.Z)(e,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=uC(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return TS(this.persistence,new ES,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new dS(vS.qs,this.Tt)}},{key:"Ic",value:function(e){return new eC}},{key:"terminate",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),IA=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,h.Z)(n,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(y(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,_A(this.bc.syncEngine);case 6:return e.next=8,FC(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return TS(this.persistence,new ES,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new zT(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new Tw(t,this.persistence);return new Iw(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?NT.withCacheSize(this.cacheSizeBytes):NT.DEFAULT;return new kS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,oC(),sC(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new eC}}]),n}(EA),TA=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,h.Z)(n,[{key:"initialize",value:function(){var e=u(o().mark((function e(t){var r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(y(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof $S,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:cA.bind(null,r),Lr:yA.bind(null,r),qr:kA.bind(null,r),Si:mA.bind(null,r),$r:sA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=oC();if(!$S.C(t))throw new Ob(Db.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_S(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $S(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(IA),SA=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"initialize",value:function(){var e=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nA.bind(null,this.syncEngine),e.next=12,$C(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new cN}},{key:"createDatastore",value:function(e){var t,n=uC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new aC(t));return function(e,t,n,r){return new dC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jN(o.syncEngine,e,0)},a=nC.C()?new nC:new tC,new vC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new SN(e,t,n,r,i,a);return o&&(s.wc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pb(t),Tb("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,gC(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function CA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return u(o().mark((function r(){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var NA=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return(0,h.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):Sb("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),AA=function(){function e(t,n){var r=this;l(this,e),this.Vc=t,this.Tt=n,this.metadata=new Lb,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return(0,h.Z)(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=u(o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new gN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),RA=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,h.Z)(e,[{key:"lookup",value:function(){var e=u(o().mark((function e(t){var n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ob(Db.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=jE(r.Tt)+"/documents",a={documents:n.map((function(e){return OE(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return s=e.sent,u=new Map,s.forEach((function(e){var t=VE(r.Tt,e);u.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Rb(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Yx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=u(o().mark((function e(){var t,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tw.fromPath(t);n.mutations.push(new Jx(r,n.precondition(r)))})),e.next=7,function(){var e=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pb(t),i=jE(r.Tt)+"/documents",a={writes:n.map((function(e){return qE(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ab();t=Yb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ob(Db.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Yb.min())?Lx.exists(!1):Lx.updateTime(t):Lx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yb.min()))throw new Ob(Db.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lx.updateTime(t)}return Lx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),PA=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new cC(this.asyncQueue,"transaction_retry")}return(0,h.Z)(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new RA(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!Dw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$x(t)}return!1}}]),e}(),DA=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_b.UNAUTHENTICATED,this.clientId=Wb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Tb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,h.Z)(e,[{key:"getConfiguration",value:function(){var e=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ob(Db.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Lb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=iN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function OA(e,t){return LA.apply(this,arguments)}function LA(){return LA=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Tb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,SS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e,t){return FA.apply(this,arguments)}function FA(){return FA=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jA(t);case 3:return r=e.sent,Tb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return JC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return JC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function jA(e){return ZA.apply(this,arguments)}function ZA(){return ZA=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Tb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,OA(t,new EA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}function UA(e){return BA.apply(this,arguments)}function BA(){return BA=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Tb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,MA(t,new SA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function VA(e){return jA(e).then((function(e){return e.persistence}))}function qA(e){return jA(e).then((function(e){return e.localStore}))}function zA(e){return UA(e).then((function(e){return e.remoteStore}))}function WA(e){return UA(e).then((function(e){return e.syncEngine}))}function GA(e){return UA(e).then((function(e){return e.datastore}))}function KA(e){return HA.apply(this,arguments)}function HA(){return HA=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=CN.bind(null,n.syncEngine),r.onUnlisten=PN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function QA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NA({next:function(a){t.enqueueAndForget((function(){return fN(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Ob(Db.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Ob(Db.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yN(nx(n.path),a,{includeMetadataChanges:!0,Ou:!0});return lN(e,o)},i.next=3,KA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function YA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NA({next:function(n){t.enqueueAndForget((function(){return fN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ob(Db.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yN(n,a,{includeMetadataChanges:!0,Ou:!0});return lN(e,o)},i.next=3,KA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var JA=new Map;function XA(e,t,n){if(!n)throw new Ob(Db.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $A(e,t,n,r){if(!0===t&&!0===r)throw new Ob(Db.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function eR(e){if(!tw.isDocumentKey(e))throw new Ob(Db.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tR(e){if(tw.isDocumentKey(e))throw new Ob(Db.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ab()}function rR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ob(Db.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nR(e);throw new Ob(Db.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function iR(e,t){if(t<=0)throw new Ob(Db.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var aR=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ob(Db.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ob(Db.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$A("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return(0,h.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oR=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aR({}),this._settingsFrozen=!1}return(0,h.Z)(e,[{key:"app",get:function(){if(!this._app)throw new Ob(Db.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ob(Db.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fb;switch(e.type){case"gapi":var t=e.client;return new Bb(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ob(Db.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=JA.get(e);t&&(Tb("ComponentProvider","Removing Datastore"),JA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function sR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=rR(e,oR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Cb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=_b.MOCK_USER;else{o=Z(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ob(Db.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _b(u)}e._authCredentials=new jb(new Mb(o,s))}}var uR=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,h.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cR=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,h.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lR=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,nx(i)))._path=i,a.type="collection",a}return(0,h.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uR(this.firestore,null,new tw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cR);function hR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ke(e),XA("collection","path",t),e instanceof oR){var a=Xb.fromString.apply(Xb,[t].concat(r));return tR(a),new lR(e,null,a)}if(!(e instanceof uR||e instanceof lR))throw new Ob(Db.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xb.fromString.apply(Xb,[t].concat(r)));return tR(o),new lR(e.firestore,null,o)}function fR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ke(e),1===arguments.length&&(t=Wb.R()),XA("doc","path",t),e instanceof oR){var a=Xb.fromString.apply(Xb,[t].concat(r));return eR(a),new uR(e,null,new tw(a))}if(!(e instanceof uR||e instanceof lR))throw new Ob(Db.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Xb.fromString.apply(Xb,[t].concat(r)));return eR(o),new uR(e.firestore,e instanceof lR?e.converter:null,new tw(o))}function dR(e,t){return e=ke(e),t=ke(t),(e instanceof uR||e instanceof lR)&&(t instanceof uR||t instanceof lR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pR(e,t){return e=ke(e),t=ke(t),e instanceof cR&&t instanceof cR&&e.firestore===t.firestore&&hx(e._query,t._query)&&e.converter===t.converter}var vR=function(){function e(){var t=this;l(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new cC(this,"async_queue_retry"),this.Hc=function(){var e=sC();e&&Tb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=sC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return(0,h.Z)(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=sC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Lb;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),bw(e.t0)){e.next=12;break}throw e.t0;case 12:Tb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=rN.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&Ab()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=d(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=d(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function mR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=d(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var yR=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new Lb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,h.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gR=function(e){m(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new vR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,h.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||bR(this),this._firestoreClient.terminate()}}]),n}(oR);function kR(e){return e._firestoreClient||bR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bR(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new DA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function wR(e,t,n){var r=new Lb;return e.asyncQueue.enqueue(u(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,OA(e,n);case 3:return i.next=5,MA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Db.FAILED_PRECONDITION||e.code===Db.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Cb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function _R(e){return function(e){return e.asyncQueue.enqueue(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VA(e);case 2:return n=t.sent,t.next=5,zA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Pb(e);return t.mu.delete(0),mC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(kR(e=rR(e,gR)))}function xR(e){return function(e){return e.asyncQueue.enqueue(u(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,VA(e);case 2:return n=t.sent,t.next=5,zA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pb(t)).mu.add(0),e.next=4,gC(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(kR(e=rR(e,gR)))}function ER(e,t){var n=kR(e=rR(e,gR)),r=new yR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new AA(e,t)}(function(e,t){if(e instanceof Uint8Array)return CA(e,t);if(e instanceof ArrayBuffer)return CA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,uC(t));e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xA,t.next=3,WA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function IR(e,t){return function(e,t){return e.asyncQueue.enqueue(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Pb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,qA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(kR(e=rR(e,gR)),t).then((function(t){return t?new cR(e,null,t.query):null}))}function TR(e){if(e._initialized||e._terminated)throw new Ob(Db.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var SR=function(){function e(t){l(this,e),this._byteString=t}return(0,h.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Fw.fromBase64String(t))}catch(t){throw new Ob(Db.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Fw.fromUint8Array(t))}}]),e}(),CR=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ob(Db.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ew(n)}return(0,h.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NR=(0,h.Z)((function e(t){l(this,e),this._methodName=t})),AR=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Ob(Db.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ob(Db.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,h.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gb(this._lat,e._lat)||Gb(this._long,e._long)}}]),e}(),RR=/^__.*__$/,PR=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,h.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new zx(e,this.data,this.fieldMask,t,this.fieldTransforms):new qx(e,this.data,t,this.fieldTransforms)}}]),e}(),DR=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,h.Z)(e,[{key:"toMutation",value:function(e,t){return new zx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function OR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ab()}}var LR=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,h.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return tP(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(OR(this.ra)&&RR.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),MR=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||uC(t)}return(0,h.Z)(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LR({ra:e,methodName:t,_a:n,path:ew.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function FR(e){var t=e._freezeSettings(),n=uC(e._databaseId);return new MR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);JR("Data must be an object, but it was:",o,r);var s,u,c=QR(r,o);if(a.merge)s=new V_(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=d(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var p=l.value,v=XR(t,p,n);if(!o.contains(v))throw new Ob(Db.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));nP(h,v)||h.push(v)}}catch(m){f.e(m)}finally{f.f()}s=new V_(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new PR(new q_(c),s,u)}var ZR=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NR);function UR(e,t,n){return new LR({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var BR=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"_toFieldTransform",value:function(e){return new Dx(e.path,new Ix)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NR),VR=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).ma=r,i}return(0,h.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=UR(this,e,!0),n=this.ma.map((function(e){return HR(e,t)})),r=new Tx(n);return new Dx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR),qR=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).ma=r,i}return(0,h.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=UR(this,e,!0),n=this.ma.map((function(e){return HR(e,t)})),r=new Cx(n);return new Dx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR),zR=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).ga=r,i}return(0,h.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new Ax(e.Tt,bx(e.Tt,this.ga));return new Dx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NR);function WR(e,t,n,r){var i=e.wa(1,t,n);JR("Data must be an object, but it was:",i,r);var a=[],o=q_.empty();Rw(r,(function(e,r){var s=eP(t,e,n);r=ke(r);var u=i.ha(s);if(r instanceof ZR)a.push(s);else{var c=HR(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new V_(a);return new DR(o,s,i.fieldTransforms)}function GR(e,t,n,r,i,a){var o=e.wa(1,t,n),s=[XR(t,r,n)],u=[i];if(a.length%2!=0)throw new Ob(Db.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(XR(t,a[c])),u.push(a[c+1]);for(var l=[],h=q_.empty(),f=s.length-1;f>=0;--f)if(!nP(l,s[f])){var d=s[f],p=u[f];p=ke(p);var v=o.ha(d);if(p instanceof ZR)l.push(d);else{var m=HR(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new V_(l);return new DR(h,y,o.fieldTransforms)}function KR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return HR(n,e.wa(r?4:3,t))}function HR(e,t){if(YR(e=ke(e)))return JR("Unsupported field value:",t,e),QR(e,t);if(e instanceof NR)return function(e,t){if(!OR(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=d(e);try{for(a.s();!(n=a.n()).done;){var o=HR(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ke(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bx(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Qb.fromDate(e);return{timestampValue:CE(t.Tt,n)}}if(e instanceof Qb){var r=new Qb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:CE(t.Tt,r)}}if(e instanceof AR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SR)return{bytesValue:NE(t.Tt,e._byteString)};if(e instanceof uR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:PE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(nR(e)))}(e,t)}function QR(e,t){var n={};return Pw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rw(e,(function(e,r){var i=HR(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function YR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qb||e instanceof AR||e instanceof SR||e instanceof uR||e instanceof NR)}function JR(e,t,n){if(!YR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nR(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function XR(e,t,n){if((t=ke(t))instanceof CR)return t._internalPath;if("string"==typeof t)return eP(e,t);throw tP("Field path arguments must be of type string or ",e,!1,void 0,n)}var $R=new RegExp("[~\\*/\\[\\]]");function eP(e,t,n){if(t.search($R)>=0)throw tP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return w(CR,(0,be.Z)(t.split(".")))._internalPath}catch(r){throw tP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ob(Db.INVALID_ARGUMENT,s+e+u)}function nP(e,t){return e.some((function(e){return e.isEqual(t)}))}var rP=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,h.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iP=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"data",value:function(){return Jt(y(n.prototype),"data",this).call(this)}}]),n}(rP);function aP(e,t){return"string"==typeof t?eP(e,t):t instanceof CR?t._internalPath:t._delegate._internalPath}function oP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ob(Db.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sP=(0,h.Z)((function e(){l(this,e)})),uP=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n)}(sP);function cP(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof sP&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof hP})).length,n=e.filter((function(e){return e instanceof lP})).length;if(t>1||t>0&&n>0)throw new Ob(Db.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=d(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var lP=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return(0,h.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return xP(e._query,t),new cR(e.firestore,e.converter,cx(e._query,t))}},{key:"_parse",value:function(e){var t=FR(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ob(Db.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_P(o,a);var u,c=[],l=d(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(wP(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=wP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_P(o,a),s=KR(n,"where",o,"in"===a||"not-in"===a);return m_.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uP);var hP=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,h.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:y_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=d(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;xP(r,a),r=cx(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new cR(e.firestore,e.converter,cx(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sP);var fP=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,h.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new O_(t,n);return function(e,t){if(null===ix(e)){var n=ax(e);null!==n&&EP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ex(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uP);var dP=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return(0,h.Z)(n,[{key:"_apply",value:function(e){return new cR(e.firestore,e.converter,lx(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uP);var pP=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,h.Z)(n,[{key:"_apply",value:function(e){var t=bP(e,this.type,this._docOrFields,this._inclusive);return new cR(e.firestore,e.converter,function(e,t){return new ex(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uP);function vP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pP._create("startAt",t,!0)}function mP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pP._create("startAfter",t,!1)}var yP=function(e){m(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,h.Z)(n,[{key:"_apply",value:function(e){var t=bP(e,this.type,this._docOrFields,this._inclusive);return new cR(e.firestore,e.converter,function(e,t){return new ex(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uP);function gP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yP._create("endBefore",t,!1)}function kP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yP._create("endAt",t,!0)}function bP(e,t,n,r){if(n[0]=ke(n[0]),n[0]instanceof rP)return function(e,t,n,r,i){if(!r)throw new Ob(Db.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=d(sx(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(e_(t,r.key));else{var c=r.data.field(u.field);if(Vw(c))throw new Ob(Db.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new f_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=FR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ob(Db.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ox(e)&&-1!==c.indexOf("/"))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Xb.fromString(c));if(!tw.isDocumentKey(l))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new tw(l);s.push(e_(t,h))}else{var f=KR(n,r,c);s.push(f)}}return new f_(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function wP(e,t,n){if("string"==typeof(n=ke(n))){if(""===n)throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ox(t)&&-1!==n.indexOf("/"))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Xb.fromString(n));if(!tw.isDocumentKey(r))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return e_(e,new tw(r))}if(n instanceof uR)return e_(e,n._key);throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nR(n),"."))}function _P(e,t){if(!Array.isArray(e)||0===e.length)throw new Ob(Db.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function xP(e,t){if(t.isInequality()){var n=ax(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=ix(e);null!==i&&EP(e,r,i)}var a=function(e,t){var n,r=d(e);try{for(r.s();!(n=r.n()).done;){var i,a=d(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Ob(Db.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ob(Db.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function EP(e,t,n){if(!n.isEqual(t))throw new Ob(Db.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var IP=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ab()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Rw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new AR(Uw(e.latitude),Uw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=qw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zw(e);return new Qb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Xb.fromString(e);Rb(nI(n));var r=new Nw(n.get(1),n.get(3)),i=new tw(n.popFirst(5));return r.isEqual(t)||Sb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SP=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return(0,h.Z)(n,[{key:"convertBytes",value:function(e){return new SR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uR(this.firestore,null,t)}}]),n}(IP);var CP=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,h.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NP=function(e){m(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return(0,h.Z)(n,[{key:"exists",value:function(){return Jt(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new AP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rP),AP=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jt(y(n.prototype),"data",this).call(this,e)}}]),n}(NP),RP=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new CP(i.hasPendingWrites,i.fromCache),this.query=r}return(0,h.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new AP(n._firestore,n._userDataWriter,r.key,r,new CP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ob(Db.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new AP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new AP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PP(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function PP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ab()}}function DP(e,t){return e instanceof NP&&t instanceof NP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RP&&t instanceof RP&&e._firestore===t._firestore&&pR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var OP=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return(0,h.Z)(n,[{key:"convertBytes",value:function(e){return new SR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uR(this.firestore,null,t)}}]),n}(IP);function LP(e){e=rR(e,uR);var t=rR(e.firestore,gR),n=kR(t),r=new OP(t);return function(e,t){var n=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Pb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ob(Db.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=iN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new NP(t,r,e._key,n,new CP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function MP(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=kR(t),r=new OP(t);return function(e,t){var n=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=u(o().mark((function e(t,n,r){var i,a,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FS(t,n,!0);case 3:i=e.sent,a=new EN(n,i.Yi),s=a.Hu(i.documents),u=a.applyChanges(s,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=iN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RP(t,r,e,n)}))}function FP(e,t,n){e=rR(e,uR);var r=rR(e.firestore,gR),i=TP(e.converter,t,n);return BP(r,[jR(FR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lx.none())])}function jP(e,t,n){e=rR(e,uR);for(var r=rR(e.firestore,gR),i=FR(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return BP(r,[("string"==typeof(t=ke(t))||t instanceof CR?GR(i,"updateDoc",e._key,t,n,o):WR(i,"updateDoc",e._key,t)).toMutation(e._key,Lx.exists(!0))])}function ZP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=ke(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||mR(n[l])||(c=n[l],l++);var h,f,d,p={includeMetadataChanges:c.includeMetadataChanges};if(mR(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof uR)f=rR(e.firestore,gR),d=nx(e._key.path),h={next:function(t){n[l]&&n[l](VP(f,e,t))},error:n[l+1],complete:n[l+2]};else{var m=rR(e,cR);f=rR(m.firestore,gR),d=m._query;var y=new OP(f);h={next:function(e){n[l]&&n[l](new RP(f,y,m,e))},error:n[l+1],complete:n[l+2]},oP(e._query)}return function(e,t,n,r){var i=new NA(r),a=new yN(t,i,n);return e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lN,t.next=3,KA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fN,t.next=3,KA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kR(f),d,p,h)}function UP(e,t){return function(e,t){var n=new NA(t);return e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pb(e).vu.add(t),t.next()},t.next=3,KA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pb(e).vu.delete(t)},t.next=3,KA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kR(e=rR(e,gR)),mR(t)?t:{next:t})}function BP(e,t){return function(e,t){var n=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ON,r.next=3,WA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kR(e),t)}function VP(e,t,n){var r=n.docs.get(t._key),i=new OP(e);return new NP(e,i,t._key,r,new CP(n.hasPendingWrites,n.fromCache),t.converter)}var qP={maxAttempts:5},zP=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=FR(t)}return(0,h.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WP(e,this._firestore),i=TP(r.converter,t,n),a=jR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ke(t))||t instanceof CR?GR(this._dataReader,"WriteBatch.update",i._key,t,n,o):WR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WP(e,this._firestore);return this._mutations=this._mutations.concat(new Yx(t._key,Lx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ob(Db.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WP(e,t){if((e=ke(e)).firestore!==t)throw new Ob(Db.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var GP=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,h.Z)(n,[{key:"get",value:function(e){var t=this,r=WP(e,this._firestore),i=new OP(this._firestore);return Jt(y(n.prototype),"get",this).call(this,e).then((function(e){return new NP(t._firestore,i,r._key,e._document,new CP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=FR(t)}return(0,h.Z)(e,[{key:"get",value:function(e){var t=this,n=WP(e,this._firestore),r=new SP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ab();var i=e[0];if(i.isFoundDocument())return new rP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rP(t._firestore,r,n._key,null,n.converter);throw Ab()}))}},{key:"set",value:function(e,t,n){var r=WP(e,this._firestore),i=TP(r.converter,t,n),a=jR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ke(t))||t instanceof CR?GR(this._dataReader,"Transaction.update",i._key,t,n,o):WR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function KP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VR("arrayUnion",t)}function HP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qR("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xb=e}(mt),ct(new we("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new gR(new Zb(e.getProvider("auth-internal")),new qb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ob(Db.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nw(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),_t(wb,"3.8.4",e),_t(wb,"3.8.4","esm2017")}();function QP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ob("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function YP(){if("undefined"===typeof Uint8Array)throw new Ob("unimplemented","Uint8Arrays are not available in this environment.")}function JP(){if("undefined"==typeof atob)throw new Ob("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XP=function(){function e(t){l(this,e),this._delegate=t}return(0,h.Z)(e,[{key:"toBase64",value:function(){return JP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return YP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return JP(),new e(SR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return YP(),new e(SR.fromUint8Array(t))}}]),e}();function $P(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eD=function(){function e(){l(this,e)}return(0,h.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){TR(e=rR(e,gR));var n=kR(e),r=e._freezeSettings(),i=new SA;return wR(n,i,new IA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){TR(e=rR(e,gR));var t=kR(e),n=e._freezeSettings(),r=new SA;return wR(t,r,new TA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ob(Db.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Lb;return e._queue.enqueueAndForgetEvenWhileRestricted(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yw.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,yw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(_S(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tD=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Nw||(this._appCompat=t)}return(0,h.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Cb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return _R(this._delegate)}},{key:"disableNetwork",value:function(){return xR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&$A("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=WN,n.next=3,WA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(kR(e=rR(e,gR)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return UP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ob("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vD(this,hR(this._delegate,e))}catch(t){throw sD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oD(this,fR(this._delegate,e))}catch(t){throw sD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fD(this,function(e,t){if(e=rR(e,oR),XA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ob(Db.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cR(e,null,function(e){return new ex(Xb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=rR(e,gR);var r=Object.assign(Object.assign({},qP),n);return function(e){if(e.maxAttempts<1)throw new Ob(Db.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Lb;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){var a;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,GA(e);case 2:a=i.sent,new PA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(kR(e),(function(n){return t(new GP(e,n))}),r)}(this._delegate,(function(n){return e(new rD(t,n))}))}},{key:"batch",value:function(){var e=this;return kR(this._delegate),new iD(new zP(this._delegate,(function(t){return BP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return ER(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return IR(this._delegate,e).then((function(e){return e?new fD(t,e):null}))}}]),e}(),nD=function(e){m(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return(0,h.Z)(n,[{key:"convertBytes",value:function(e){return new XP(new SR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oD.forKey(t,this.firestore,null)}}]),n}(IP);var rD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nD(t)}return(0,h.Z)(e,[{key:"get",value:function(e){var t=this,n=mD(e);return this._delegate.get(n).then((function(e){return new lD(t._firestore,new NP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mD(e);return n?(QP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mD(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mD(e);return this._delegate.delete(t),this}}]),e}(),iD=function(){function e(t){l(this,e),this._delegate=t}return(0,h.Z)(e,[{key:"set",value:function(e,t,n){var r=mD(e);return n?(QP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mD(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aD=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,h.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new AP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nD(t),n),i.set(n,a)),a}}]),e}();aD.INSTANCES=new WeakMap;var oD=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nD(t)}return(0,h.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vD(this.firestore,hR(this._delegate,e))}catch(t){throw sD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ke(e))instanceof uR&&dR(this._delegate,e)}},{key:"set",value:function(e,t){t=QP("DocumentReference.set",t);try{return t?FP(this._delegate,e,t):FP(this._delegate,e)}catch(n){throw sD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jP(this._delegate,e):jP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return BP(rR(e.firestore,gR),[new Yx(e._key,Lx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uD(n),a=cD(n,(function(t){return new lD(e.firestore,new NP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?LP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rR(e,uR);var t=rR(e.firestore,gR);return QA(kR(t),e._key,{source:"server"}).then((function(n){return VP(t,e,n)}))}(this._delegate):function(e){e=rR(e,uR);var t=rR(e.firestore,gR);return QA(kR(t),e._key).then((function(n){return VP(t,e,n)}))}(this._delegate),t.then((function(e){return new lD(n.firestore,new NP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ob("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uR(n._delegate,r,new tw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uR(n._delegate,r,t))}}]),e}();function sD(e,t,n){return e.message=e.message.replace(t,n),e}function uD(e){var t,n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!$P(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=$P(e[0])?e[0]:$P(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return(0,h.Z)(e,[{key:"ref",get:function(){return new oD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return DP(this._delegate,e._delegate)}}]),e}(),hD=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ab()}(void 0!==t),t}}]),n}(lD),fD=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nD(t)}return(0,h.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cP(this._delegate,function(e,t,n){var r=t,i=aP("where",e);return lP._create(i,r,n)}(t,n,r)))}catch(i){throw sD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=aP("orderBy",e);return fP._create(r,n)}(t,n)))}catch(r){throw sD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cP(this._delegate,function(e){return iR("limit",e),dP._create("limit",e,"F")}(t)))}catch(n){throw sD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cP(this._delegate,function(e){return iR("limitToLast",e),dP._create("limitToLast",e,"L")}(t)))}catch(n){throw sD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,cP(this._delegate,vP.apply(void 0,arguments)))}catch(t){throw sD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cP(this._delegate,mP.apply(void 0,arguments)))}catch(t){throw sD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cP(this._delegate,gP.apply(void 0,arguments)))}catch(t){throw sD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cP(this._delegate,kP.apply(void 0,arguments)))}catch(t){throw sD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=kR(t),r=new OP(t);return YA(n,e._query,{source:"server"}).then((function(n){return new RP(t,r,e,n)}))}(this._delegate):function(e){e=rR(e,cR);var t=rR(e.firestore,gR),n=kR(t),r=new OP(t);return oP(e._query),YA(n,e._query).then((function(n){return new RP(t,r,e,n)}))}(this._delegate),t.then((function(e){return new pD(n.firestore,new RP(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uD(n),a=cD(n,(function(t){return new pD(e.firestore,new RP(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return(0,h.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new hD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pD=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return(0,h.Z)(e,[{key:"query",get:function(){return new fD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new hD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return DP(this._delegate,e._delegate)}}]),e}(),vD=function(e){m(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,h.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oD(this.firestore,void 0===e?fR(this._delegate):fR(this._delegate,e))}catch(t){throw sD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=rR(e.firestore,gR),r=fR(e),i=TP(e.converter,t);return BP(n,[jR(FR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fD);function mD(e){return rR(e,uR)}var yD=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=w(CR,n)}return(0,h.Z)(e,[{key:"isEqual",value:function(e){return(e=ke(e))instanceof CR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ew.keyField().canonicalString())}}]),e}(),gD=function(){function e(t){l(this,e),this._delegate=t}return(0,h.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new BR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ZR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=HP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new zR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kD={Firestore:tD,GeoPoint:AR,Timestamp:Qb,Blob:XP,Transaction:rD,WriteBatch:iD,DocumentReference:oD,DocumentSnapshot:lD,Query:fD,QueryDocumentSnapshot:hD,QuerySnapshot:pD,CollectionReference:vD,FieldPath:yD,FieldValue:gD,setLogLevel:function(e){!function(e){Eb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new we("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kD)))}(e,(function(e,t){return new tD(e,t,new eD)})),e.registerVersion("@firebase/firestore-compat","0.3.4")}(Gt);var bD,wD="firebasestorage.googleapis.com",_D="storageBucket",xD=function(e){m(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l(this,n),(i=t.call(this,ED(e),"Firebase Storage: ".concat(r," (").concat(ED(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf((0,p.Z)(i),n.prototype),i}return(0,h.Z)(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return ED(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(H);function ED(e){return"storage/"+e}function ID(){return new xD(bD.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function TD(){return new xD(bD.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SD(){return new xD(bD.CANCELED,"User canceled the upload/download.")}function CD(){return new xD(bD.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ND(e){return new xD(bD.INVALID_ARGUMENT,e)}function AD(){return new xD(bD.APP_DELETED,"The Firebase app was deleted.")}function RD(e){return new xD(bD.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function PD(e,t){return new xD(bD.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function DD(e){throw new xD(bD.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(bD||(bD={}));var OD,LD=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return(0,h.Z)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new xD(bD.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===wD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new xD(bD.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),MD=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return(0,h.Z)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function FD(e){return"string"===typeof e||e instanceof String}function jD(e){return ZD()&&e instanceof Blob}function ZD(){return"undefined"!==typeof Blob&&!V()}function UD(e,t,n,r){if(r<t)throw ND("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw ND("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function BD(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function VD(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function qD(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(OD||(OD={}));var zD=function(){function e(t,n,r,i,a,o,s,u,c,h,f){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return(0,h.Z)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=ID();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?AD():SD());else i(TD())}};this.canceled_?t(0,new WD(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new WD(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===OD.NO_ERROR,a=r.getStatus();if(!n||qD(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===OD.ABORT;t(!1,new WD(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new WD(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),WD=(0,h.Z)((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function GD(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function KD(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function HD(e,t){t&&(e["X-Firebase-GMPID"]=t)}function QD(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function YD(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=VD(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return HD(c,t),GD(c,n),KD(c,a),QD(c,r),new zD(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function JD(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function XD(){for(var e=JD(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ZD())return new Blob(n);throw new xD(bD.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function $D(e){if("undefined"===typeof atob)throw t="base-64",new xD(bD.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var eO={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},tO=(0,h.Z)((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function nO(e,t){switch(e){case eO.RAW:return new tO(rO(t));case eO.BASE64:case eO.BASE64URL:return new tO(iO(e,t));case eO.DATA_URL:return new tO(function(e){var t=new aO(e);return t.base64?iO(eO.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw PD(eO.DATA_URL,"Malformed data URL.")}return rO(t)}(t.rest)}(t),new aO(t).contentType)}throw ID()}function rO(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function iO(e,t){switch(e){case eO.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw PD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case eO.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw PD(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=$D(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw PD(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var aO=(0,h.Z)((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw PD(eO.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var oO=function(){function e(t,n){l(this,e);var r=0,i="";jD(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return(0,h.Z)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(jD(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ZD()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(XD.apply(null,i))}var a=n.map((function(e){return FD(e)?nO(eO.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function sO(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function uO(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function cO(e,t){return t}var lO=(0,h.Z)((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||cO})),hO=null;function fO(){if(hO)return hO;var e=[];e.push(new lO("bucket")),e.push(new lO("generation")),e.push(new lO("metageneration")),e.push(new lO("name","fullPath",!0));var t=new lO("name");t.xform=function(e,t){return function(e){return!FD(e)||e.length<2?e:uO(e)}(t)},e.push(t);var n=new lO("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new lO("timeCreated")),e.push(new lO("updated")),e.push(new lO("md5Hash",null,!0)),e.push(new lO("cacheControl",null,!0)),e.push(new lO("contentDisposition",null,!0)),e.push(new lO("contentEncoding",null,!0)),e.push(new lO("contentLanguage",null,!0)),e.push(new lO("contentType",null,!0)),e.push(new lO("metadata","customMetadata",!0)),hO=e}function dO(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new LD(n,r);return t._makeStorageReference(i)}})}(r,e),r}function pO(e,t,n){var r=sO(t);return null===r?null:dO(e,r,n)}function vO(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var mO="prefixes",yO="items";function gO(e,t,n){var r=sO(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mO]){var i,a=d(n[mO]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new LD(t,o));r.prefixes.push(s)}}catch(f){a.e(f)}finally{a.f()}}if(n[yO]){var u,c=d(n[yO]);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=e._makeStorageReference(new LD(t,l.name));r.items.push(h)}}catch(f){c.e(f)}finally{c.f()}}return r}(e,t,r)}var kO=(0,h.Z)((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function bO(e){if(!e)throw ID()}function wO(e,t){return function(n,r){var i=pO(e,r,t);return bO(null!==i),i}}function _O(e,t){return function(n,r){var i=pO(e,r,t);return bO(null!==i),function(e,t,n,r){var i=sO(t);if(null===i)return null;if(!FD(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return BD("/b/"+o(i)+"/o/"+o(a),n,r)+VD({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function xO(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new xD(bD.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new xD(bD.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new xD(bD.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new xD(bD.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function EO(e){var t=xO(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new xD(bD.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function IO(e,t,n){var r=BD(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new kO(r,"GET",wO(e,n),i);return a.errorHandler=EO(t),a}function TO(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=BD(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new kO(o,"GET",function(e,t){return function(n,r){var i=gO(e,t,r);return bO(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=xO(t),u}function SO(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function CO(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=SO(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+vO(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=oO.getBlob(c,r,l);if(null===h)throw CD();var f={name:u.fullPath},d=BD(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new kO(d,"POST",wO(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=xO(t),v}var NO=(0,h.Z)((function e(t,n,r,i){l(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function AO(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){bO(!1)}return bO(!!n&&-1!==(t||["active"]).indexOf(n)),n}var RO=262144;function PO(e,t,n,r,i,a,o,s){var u=new NO(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new xD(bD.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(h,f);if(null===p)throw CD();var v=t.maxUploadRetryTime,m=new kO(n,"POST",(function(e,n){var i,o=AO(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?wO(t,a)(e,n):null,new NO(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=xO(e),m}var DO={STATE_CHANGED:"state_changed"},OO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LO(e){switch(e){case"running":case"pausing":case"canceling":return OO.RUNNING;case"paused":return OO.PAUSED;case"success":return OO.SUCCESS;case"canceled":return OO.CANCELED;default:return OO.ERROR}}var MO=(0,h.Z)((function e(t,n,r){l(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function FO(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var jO=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=OD.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=OD.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=OD.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return(0,h.Z)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw DD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw DD("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw DD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw DD("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw DD("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ZO=function(e){m(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return(0,h.Z)(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(jO);function UO(){return new ZO}var BO=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=fO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(bD.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(qD(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=TD()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(bD.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return(0,h.Z)(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,i.Z)(n,2),a=r[0],o=r[1];switch(t._state){case"running":e(a,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=SO(t,r,i),s={name:o.fullPath},u=BD(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=vO(o,n),h=e.maxUploadRetryTime,f=new kO(u,"POST",(function(e){var t;AO(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){bO(!1)}return bO(FD(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=xO(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,UO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new kO(n,"POST",(function(e){var t=AO(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){bO(!1)}n||bO(!1);var i=Number(n);return bO(!isNaN(i)),new NO(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=xO(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,UO,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=RO*this._chunkMultiplier,n=new NO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=PO(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,UO,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(RO*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=IO(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,UO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=CO(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,UO,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=SD(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=LO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new MO(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(LO(this._state)){case OO.SUCCESS:FO(this._resolve.bind(null,this.snapshot))();break;case OO.CANCELED:case OO.ERROR:FO(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(LO(this._state)){case OO.RUNNING:case OO.PAUSED:e.next&&FO(e.next.bind(e,this.snapshot))();break;case OO.SUCCESS:e.complete&&FO(e.complete.bind(e))();break;default:e.error&&FO(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),VO=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof LD?n:LD.makeFromUrl(n,t.host)}return(0,h.Z)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new LD(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return uO(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new LD(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw RD(e)}}]),e}();function qO(e,t,n){return zO.apply(this,arguments)}function zO(){return(zO=u(o().mark((function e(t,n,r){var i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={pageToken:r},e.next=3,WO(t,s);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,be.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,be.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,qO(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WO(e,t){null!=t&&"number"===typeof t.maxResults&&UD("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=TO(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,UO)}function GO(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=BD(t.fullServerUrl(),e.host,e._protocol),a=vO(n,r),o=e.maxOperationRetryTime,s=new kO(i,"PATCH",wO(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=EO(t),s}(e.storage,e._location,t,fO());return e.storage.makeRequestWithTokens(n,UO)}function KO(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=BD(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new kO(r,"GET",_O(e,n),i);return a.errorHandler=EO(t),a}(e.storage,e._location,fO());return e.storage.makeRequestWithTokens(t,UO).then((function(e){if(null===e)throw new xD(bD.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function HO(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=BD(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new kO(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=EO(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,UO)}function QO(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new LD(e._location.bucket,n);return new VO(e.storage,r)}function YO(e,t){if(e instanceof eL){var n=e;if(null==n._bucket)throw new xD(bD.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_D+"' property when initializing the app?");var r=new VO(n,n._bucket);return null!=t?YO(r,t):r}return void 0!==t?QO(e,t):e}function JO(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof eL)return new VO(e,t);throw ND("To use ref(service, url), the first argument must be a Storage instance.")}return YO(e,t)}function XO(e,t){var n=null===t||void 0===t?void 0:t[_D];return null==n?null:LD.makeFromBucketSpec(n,e)}function $O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Z(i,e.app.options.projectId))}var eL=function(){function e(t,n,r,i,a){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=wD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?LD.makeFromBucketSpec(i,this._host):XO(this._host,this.app.options)}return(0,h.Z)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=LD.makeFromBucketSpec(this._url,e):this._bucket=XO(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){UD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){UD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new VO(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new MD(AD());var o=YD(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=u(o().mark((function e(t,n){var r,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=(0,i.Z)(r,2),s=a[0],u=a[1],e.abrupt("return",this._makeRequest(t,n,s,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),tL="@firebase/storage",nL="0.11.2",rL="storage";function iL(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new BO(e,new oO(t),n)}(e=ke(e),t,n)}function aL(e){return function(e){e._throwIfRoot("getMetadata");var t=IO(e.storage,e._location,fO());return e.storage.makeRequestWithTokens(t,UO)}(e=ke(e))}function oL(e){return function(e){var t={prefixes:[],items:[]};return qO(e,t).then((function(){return t}))}(e=ke(e))}function sL(e,t){return JO(e=ke(e),t)}function uL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};$O(e,t,n,r)}function cL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new eL(r,i,a,n,mt)}ct(new we(rL,cL,"PUBLIC").setMultipleInstances(!0)),_t(tL,nL,""),_t(tL,nL,"esm2017");var lL=function(){function e(t,n,r){l(this,e),this._delegate=t,this.task=n,this.ref=r}return(0,h.Z)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),hL=function(){function e(t,n){l(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return(0,h.Z)(e,[{key:"snapshot",get:function(){return new lL(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new lL(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new lL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new lL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),fL=function(){function e(t,n){l(this,e),this._delegate=t,this._service=n}return(0,h.Z)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new dL(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new dL(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),dL=function(){function e(t,n){l(this,e),this._delegate=t,this.storage=n}return(0,h.Z)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return QO(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new hL(iL(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eO.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=nO(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new hL(new BO(this._delegate,new oO(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return oL(this._delegate).then((function(t){return new fL(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return WO(e=ke(e),t)}(this._delegate,e||void 0).then((function(e){return new fL(e,t.storage)}))}},{key:"getMetadata",value:function(){return aL(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return GO(e=ke(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return KO(ke(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),HO(ke(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw RD(e)}}]),e}(),pL=function(){function e(t,n){l(this,e),this.app=t,this._delegate=n}return(0,h.Z)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(vL(e))throw ND("ref() expected a child path but got a URL, use refFromURL instead.");return new dL(sL(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!vL(e))throw ND("refFromURL() expected a full URL but got a child path, use ref() instead.");try{LD.makeFromUrl(e,this._delegate.host)}catch(t){throw ND("refFromUrl() expected a valid full URL but got an invalid one.")}return new dL(sL(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uL(this._delegate,e,t,n)}}]),e}();function vL(e){return/^[A-Za-z]+:\/\//.test(e)}function mL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new pL(r,i)}!function(e){var t={TaskState:OO,TaskEvent:DO,StringFormat:eO,Storage:pL,Reference:dL};e.INTERNAL.registerComponent(new we("storage-compat",mL,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Gt);Gt.initializeApp({apiKey:"AIzaSyDtVL-YND4B2MoWohGUS1d-kKiqadarZz8",authDomain:"instagram-90498.firebaseapp.com",projectId:"instagram-90498",storageBucket:"instagram-90498.appspot.com",messagingSenderId:"349790959094",appId:"1:349790959094:web:08b086fc9abde8537943d7"});var yL=Gt.firestore(),gL=Gt.auth(),kL=Gt.storage(),bL=n(184),wL=(0,t.createContext)(),_L=function(e){var n=e.children,r=(0,t.useState)(!1),a=(0,i.Z)(r,2),s=a[0],c=a[1],l=(0,t.useState)(null),h=(0,i.Z)(l,2),f=h[0],d=h[1],p=(0,t.useState)(!0),v=(0,i.Z)(p,2),m=v[0],y=v[1],g=(0,t.useState)(!1),k=(0,i.Z)(g,2),b=k[0],w=k[1],_=(0,t.useState)([]),x=(0,i.Z)(_,2),E=x[0],I=x[1],T=function(){var e=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.email,i=t.password,a=t.name,e.prev=1,e.next=4,gL.createUserWithEmailAndPassword(r,i,a,n);case 4:e.sent.user.updateProfile({displayName:n}),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,gL.signInWithEmailAndPassword(n,r);case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){gL.onAuthStateChanged((function(e){d(e),y(!1)})),yL.collection("posts").orderBy("currentTime","desc").onSnapshot((function(e){I(e.docs.map((function(e){return{id:e.id,title:e.data().title,image:e.data().img,username:e.data().username}})))}))}),[]),(0,bL.jsx)(wL.Provider,{value:{model:s,openModel:function(){c(!0)},closeModel:function(){c(!1)},register:T,login:S,user:f,loader:m,logout:function(e){gL.signOut().then((function(){d(null)})).catch((function(e){console.log(e)}))},showpostform:function(){w(!0)},showcreate:b,closepostform:function(){w(!1)},create:function(e){var t=e.title,n=e.img;kL.ref("images/".concat(n.name)).put(n).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){console.log(e)}),(function(){kL.ref("images").child(n.name).getDownloadURL().then((function(e){yL.collection("posts").add({title:t,img:e,username:f.displayName,currentTime:Gt.firestore.FieldValue.serverTimestamp()})}))}))},posts:E,publishcomment:function(e){var t=e.id,n=e.comment;yL.collection("posts").doc(t).collection("comments").add({comment:n,username:f.displayName,currentTime:Gt.firestore.FieldValue.serverTimestamp()})}},children:n})},xL=n(9704),EL=n.p+"static/media/screenshot1.d688ff1f110b88f3c0c9.png",IL=n.p+"static/media/screenshot2.a8b4d779fa1026a205a2.png",TL=n.p+"static/media/screenshot3.66d6eaaf896694188857.png",SL=n.p+"static/media/screenshot4.a015f55058ad24a00428.png",CL=n.p+"static/media/Logo.0234e0bf8fae139480ea.png",NL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAACoCAMAAADAboQgAAAC/VBMVEVHcEyOjo6GhoZ0dHSVlZVcXFxmZmZvb29fX19VVVViYmJ7e3tYWFhqamr///8AAACnp6cA8HeBgYE+Pj7BwcElJSUHBwYA4f8AxP/e3t4Ax//z8/MAy/9gYGAA0P8A3v8A5P+hoaEA1P8aGhoA4//w8PAA4P8sLCwA1v8A1/8Axv8AyP/h4eEAyv//N0IA2f//ywD+NUMAzP8A2v/3MUYAzf8Az//5MkUA3f8A0f8A0v8A0/9PT0/R0dGRkZEA1f8A3/8A2P+xsbH/xAD/zQAA2//wK0vtKE3/xwD/zgCjo6NxcXHrJ03/zwD/1wD0Lkn/0gDvKkz6M0T8NET/2QDxLErn5+f2MEcA4Kr/2wDyLUniIFIA73f/yQAA7nf19fX/wQD/vwAA7HbpJU7/xgCenp70MEflIlH/0QAA6Xb4+PgE3XbmI1Dt7e3r6+v/1QD/0wAA63YG2HXnJE/Z2dn/wwD/UjQGAgAB43btwAD/vAAC4HaJiYnk5OTvxwCTbpLzLUkA5nYACgPoJE8ZGRkr6GAV8oY16ZB8fHyXb5DRJzvIHUT/tgBoaGizHDePbJQr6WAH8YEh8YoWAQKebozbKD+0tLQNDQ10dHQA8HlMPwQr85E8PDwA8HsailM134sCHhA085RHR0cbeUvkLT/THksB0akA3Km6urocFgAHRigsxHk2AwmAEiOab46pGTTcI0lA2I1wDh68HTxnDiScbo0A16mhbYuurq4xMTH/3QX40wBvYRHauAD/2x56ZgD/4iwSZz7vzQIu24Yjp2ZgChjFJjVRBxQwtHOSETIe2YBra2v/1BSRfhqxmCTz1DD/1yw8LwDNsCysiwAU54EEMxtEBQ4mAgXqLEMljmHuMj8MmLjSqQCVeABbSgDnxzFbTQD5ywAA3PVeUAz1wwAKQycxvHiiHyiTGCeZFi3tK0jOzs4AX2oWxum9ngAfml6LewzozjUNVzM3LAR64nPwXDgAp7uMGSHJUh8VzP98XoIVaYEVaIEu1bfGxsbIoa7OAAAADnRSTlMA9u/P/FecwHAfh+A8r7XWRp0AABP7SURBVHja7N17jB1VHQfwCqUP0HPKzOzIuo5mnBxHcUCq1fqYGfWKiXBTNBSuQiwLxDawzS5gVmvptikG6ELAQMWKBWx5BBFiE0wqhQqUh4QIAvLQgKgQEf4gvjVqfMQ59/W7Z86cedy7s9u79/f9p713z8703vncc37nzLmwQMrSJYsWYzDNHL5k6YKMHH7EwmUYjJA3HHqYWszSxSgGk5iFixRmFq1dhsGo2CxJ6mYOafwwvPKmoaFvUQwmysVDQzdd2+xMDpWKm8MaI9OVQxSDieXu6UZtszRmpq7pWuxhMIkZmqoPUYdJZtZeTzEYRfx4X7N0ITdzMcVglBlay9UAmkPQDCYzF3M1h7bn2mgGkyN3L4uypDk4cUFYz2By1TWHNNAs5vMmisFkJmx3NbwKxrk2JkeGWl3N4XxNj2IwOcKXa94YoTki+hPXgTG5cn2E5U2N0SmkGEyebIjQHBHNnXB0whQan9YuWLAkQnMTxWByxYq4LF2wCEsaTP749Un3YkSDyZ8hRINBNBhEg0E0GESDQTQYDKLBIBoMouktbjhZGx4ert1mmfCkpQnRKdW1eHQqtqdpjSC6PcngfJ0HqMYeO4gmnt03P/ro8w98jc5t9MkJ0szYRNi+jMNEyImUnkji4Uo62o9QdSOIPz7ePl9tCtjwEzJdOGBNRzSxPH/nT6I8dOfNc8nGtBnpyChzu0fDcqAxDeF8Y5tdQWlNQDSMaGL5z3+/1EjEZu7MDI+SKKxWG65N1P867peJxtxMeMY38/M1/iooHZtCNCkxf3/UrXUz69ev33Xn7+bKTJ3MbX79gTXJCBlbBggSa5qAEGI0n5TRqBuBmZF9dSjOdG2Mdy5up1LmIhp1/n30UQ0163m2vbqbzkF28M4FRgg6zcZ2iAjknCgNOdA+q5ExEpHxHBgbR7gTs3UA3vcEiEaZDb88KsqtTTOb1j+77fnZL218RsjIpDCF2UHLQQPnM0wKeYyr2dEufBkhbBrRKBOh4WoaZjZt+uqmZ3fNemkzzvsZkwopBw2czxPPNzVGCHNaB7BHeceDaFT519FtNdwMz/ZZLm30cZjklo4GzidD2tc6gFnjtRCiUeWYo5tqWmYuuuiic7e9+hydvdiEkElaKprs81m8q2kfwGfcFaJR5D1vaar5IZg594Jnb3x49kqbGiGjVrloss9njhMy4bYPYNQXaxCNAg2oaZuJ1Fxw6bbv0PLTnq84aWiEGXdvaNTnmyRkTG8fwJngizWIRoUG1LTMcDQXnL1911/orIQRUoNrNwzZJy3uaT2igfNJ4Us6VTjANB+gXESjQgNqwMzZZ59xxg3X3fHcLKEZ7ngAqZWGZphKua3eFA7g8cUaRJOYY0Q1YIbnaihtyu9pZDRsDnsa6tYXaxBNIhpBzXc7zXwhSlTalM6m1lljjA434xGyuXkN9XacntHA+eRnoabhaSzWIJqEvDWmRjRz5JHfvnTXA7Tc8BtB0mzG4f1BObOnzcrZk9N5gOZiTYBopLwvrkYww3PD9jtupyVGvW4yOZvrNKMNpHCA5mINoklAI6kRzfBcfd3DZd7HdGGFViwxwnJXhKW9EnbsAK/zYhyHJzkfkNW0zUDKLW0mWytpEB1mvCXce5LPt0y490R5mos1BNHIaBLUSGZ4afNQeaWNzuJ3LN2R+oS3JDT6RPyu+jR3tEM6wBSLGiIaGU2Cms9LZkoubez6LihdvIbMLQEN7N8Zgf075r76+Uz5AB4h2NMkoElUI5iB0ubRskqbyfouqMDn182xxhl/9Jhi594MoDG9jp2C7kI2Cvs9xQPoE4gmIR9MVgNUBDY3llTamK+PkShsIlqgaewRHn1MsUe4JzSgZrR1vs01wjPiJh7AHkU0ct6WSw2UNttKKm0Wjgg4mEXLREPNHeK3ETw3+QAmQzQJaPKpATbbHyqntNGDCdLM6Mg+h3aPZkxCk/E9K8amVAegfoSZIRoxHy6q5owbyiptnOn/8a+wDAvfeHR1IQ60Fh4J7WlqI2g6xb/RWZtc5ssHgOhRTEQjoimmBkobzOCi+UghNVDa3Ewxg4ummBoobXbdTjEDiuajxdRAoi1auylmMNEUVwOlzR+xtBlINO8orgaCpc2AosmhBksbRCOi6UoNpL77HDNYaD7WtRoobR7G0mbA0PSiBrZoUcwAoXlXL2pgse9vv6WYwUEzI2quevCpp/9KMYOCphc1YGbNmuOfesKkmIFA8+4ZUHPVlk+vifL4kz+lmIFA04MaMMPRHHfcCY//5kcUMwBoulYDZr7YRHP8Cefc9/ROOjNxdF/TNEvXKeZgQ/OJbtWAmU8CmlWrzn/qie/RXqOHBoF4toXV0sGFpls1YEZAs+qcqLTp6Ro7NiNSKj49GOJojVi0m2hJsVxlO+dgRfPe3tRcEpmJofns+ff1UNroBkmOdzCw0UkjBu0mJDmsYiW30w9aNF2pATNfTkBz/nndljZOhahjOPMMDcSz+gtNN2rAzJnJaM475UA3pU2VkbSw6nxDAwncPkLz/h7UXLLxTBWa806650DR0saskKzY5nxDA7H6CE1xNWDmrBQ0J51y3593FjITkOwE5rxFQ6z+QVNcDZhJR3PKaQcKFMQuI0KMULP4Uo0hPu/PXzTE6hc0nyquBsxkoTntQO6b3w4TZ9hmB6eQCe/rvEVD3H5B06UabiYbzWlPml2MTbYT/6nGwEw/o5ExmL5N2gn6BU03ariZC3OhuSfnAFUR5hGqItmi8wcNxAmgI+0TNF2piczkRPOnfHNtMGMrmlhgZp6ggbQ7G69v0BRXc9ffr8iL5v5cBQ3JUbS4Fp2vaGgAVU0/oPlQF2ruOvbYr1yRC809+1+iOWLkK3TnLxqXNBP2B5riaiIzXE2unubeDTQ7PoH3bCDRwABl9AeawmruWr68qSYbzYN5lvegczbogKKBz01foHl7UTWRGVCTjuakLS8VuRKEOQOLxuwvNAXVXLN6OahJR/PgvTuLTbc1OrBoaF+h+XgxNdesXt2pJgXN/o33K+oZ1YeMmYimT9AUUsPNCGpUaPZvfCbv1ghrBqpgxwoNnoqW+ka71UYzu+qmFuaawaP5udG4VRt+pRs0bgoaeIkBIQxe4xyiKaLmmpNXx9RcmIhm/5Y//IzmDKxsdVvRmFZAIMx2Fc00j0C80Mnebco0k1KjkVBAozwwC53iaGB101O0swwivEan9XtGM/JZjWYqM4/mnQXU7D35ZFmNjOacLff+muaPJ9x4mYmdW4aTRIbl2Zxj2kQI8yk4SUYTPzDTCqOBN6GS2M4NSDyhKU4iNGUHbpeAJr+avStXJqoR0URkoJjJk95GJycgCalK3T90BoKIWHwmNbJUaNTnD8yiaLT22ZLaWSQhniusi3rKBVOnBDS51URmktUIaF7e+Kti+zz1nnbKuCzXFj+LJEeTBgk5SjTq8wdOMTQ6acVMaBeSxDBXeGW+4s6MQUtAk1fN3hUrVWoAzcsbn4FipiAaPeFnmiqtBowoEmSakfvukBRDozYbmEXQQP9my+3U/3jmSgNbwmvRy0CTU83eFSvUappojtv4YmYxo+6ZU34mR4drls3BIupUhWYF0ZiesnV+NI4Nv+bI7RxGUj8Y1eRhiMGwNfNo3pxPDTejVnNWHc0rL0IxUzoa6ZpVNE0LA5mD+LYzO2pmexI/LpBAPN6skommo4UXWrofwoG1FDS2BhH+yWECrg5ShqZZms3ELQEmS6oJLWhSBppcavZwMmlq1qx5BYqZctHAexGKc2Me1yDSTQlD/nqRH8BzrZEEnjL01owrHY0u/09jLJZSf5KMBEk9UrU9/jjSObxOVSypDGZmKWjyqNmz7nMZai6EYqZkNPBBdhJLCAsGKOkJM+nQWryZJtbZajQGnF/+DbsQGuArD2M+7FqM74314W0QWjjwWspBk61mz7p16WqW3/LPnbTL+PDRLIjGTi473ViFEAiIZFwMVkrgvQcDajQ6nD/puE5BNIGjrH2ckFUoBMblsHOQNBLKYKccNJlquJl0NS888gMK6Xr2VBCNCZ9QxcQ5FAwZqpVoS7BrS6ZVaOyEIcC1oUAphqZiphXMpvga/US8IMSDF1MKmkw1e7Z+JlXNC5f/o3j9q+hJi9Q0lkobLHilfuhM1jlZraiKAEOJxpMmYOL9jCJoPD97luVrmmHYmuV2TI6EvtSWpOsloclSs2fr1jQ1K7752i9oTyFw7bLXaQJ4N2woH1Ujniu+ozJJuLpMRddXoXFjzJyQESFubjSeZdJ0NI7mCffNjE40Vhx8Bd6aEtGo1ew5fWuKmpW3fP3ntLdAOWkWaKyDhqr6To6VunbvdFxdV10EMAUaX8DuV2IOqma+nsYzNNClqmlsEgv0NJ3irdgLs8pEo1Zz2emnp6i55ZEf0w20x1Rzv0SxW4ZLLsWGbkNXTs6AnQ8CAiqlokCjwUlMzcv8bzAp/Wa3sxhRRewzA/GhR0tEo1Zz2amnqtW8cPn3exUjVqr523qUmjmm6nb6tqkKXHZNPUZqGWh8vW5UtTuidzQhUSe2j80VOlqtRDRqNZEZpZp1l7/2DToj8fKXbaGsgaTs6zLS0WgyGi0/mrAFmAgx/t/e+fs0jkRx3AuBJXDHWLYznaWzfL40/hMcFy6WwjS0tyXK0dBR0Ky00kJxEAEFQkexFVo6TosWmv0D7lb8A7crXXfV7WqvveKq8+QHL+PxxLbwhER5nyJCKEDifPLmjfP1AwpmNdIYqyNIlVaHa+moemlEaw6ePZNZ89PZ8RUBqlmfWoX9sidAGqgvQgKsSmnM1VFABQZPIjBIsTSiNcwZmTWsmakM6kliMPJkKFW1PDkllyex+a1aGmvo15uEYcatlDRwr5jr71VLI1qTOCOx5hM0M5VgyHap8jMrVTfCtrzYOQWlccCFCqVpZs6OM/3Uswqg2YvhMSqWRrTmYGMj25pPh3+fkkqhXrELEiJun+WX23I3R265TXkf4Mu33IDP5rcqkAbUNGW7SP4pm/dfBaqlEa1JnMm05sezt1ekamJZekk+W6Gak3tw5KX7flN2cs8FZayAMFRIY2U+fLF+2vf1Dg6SWmlEaw7WNjKtObv5QBRgcdFXuTPwwqr6GMEXypv8YwTZhaEurV4aM/tYiM8Guht10nyfac3LtbUsa978/m6XqMD18ua+UosPKVT8gSUoaAiFRiZNKInn0pZvqpUGdlTSrKpHVUojWtNzRrQGmpnqCXKuQLE9PhrLcHgdZNEIv1g0wisdjXDhEQm1KaQVS2Nnp+mFDg2erFJpRGuYM4I1Xw6hmVGAPWIjQm1fmIEpD2F55UNY/DfioiEsB6wRSqJvViINn78Q0+ypygm4SqVJSDuzvi5Y8+XsGJoZldbAf15pEgY144i/SiyrIns2hTn5BeKepiXm5fyMuKc3Mu7penzclHc2rEIaOCy+kEFl8GsWEBGl0jDSzgjWnN1AM6PSmnwcPsAGikSGLQmWNz0uMR4YYSpYLh70Vpj8tsjLC5bHXLA95n/EqUQaCr/RDwdpd4Dv/wFTsTQM3pm0NW8Ofz0l6gm8fGdCAlRyCYvBNdBlr3uKysxWLy8NLJsyJO86n6iWhgHObG6mrFk//HxF1AOXLMvx7LRnOa9ZuYvlnNLS0FYxZx4gDfXzpREWWFu9NIyBM3ubvDXrCpuZwvlO+YRh82GX5YaEwykrDaGW1JkKpJGW08jKksaA/bZiaQb0ndnjrbm+ud0lY8R15GXGKD4AwBDkKjYAwC49AICEEmcrkUZiTYtmSkMhs6pWmu+GrXm5s8dZc92BZmZ82njZytDio0aaRIAahV5Z1yo9agR2YtxGp8LkHo2ECxcypXFhv61YmiFrTnZ2hq3Z6Xz+SB4BakdCTCUgcmjcyvm0GbLZ+fE6Mxr+u5Rw0jRhwpHwI/kpLKsPOJ1/P/EvtAJW36weBOCiWIqlAWtOtreHrNm5fPsHeTTMeHBYIsNu5pcndvf8+WXN2CkwZY3aYc+MgJKEIq8EDYy+Tbar6p1k5Ax+g9XJVC5Nwr0zQ9ZcH98SJIFOzehRA2qiamkYXWe2tsCapJnZJchwGxOTCQdSRMql+atnDXPm3pqtzt3HGTUkorIsu0kmHBtO7KmXpsvJ8y3GNqMDzcxMQdlUj1D2/p2aQmOol+bfvjPPB9ZcHv9GZpGm42XFQuOp+rcNDKpemj/7zvStuYZPJmcMLzMc0/SmpaWBXKh6ab7+0Hdmi9107k7JjGJAOCbtDIOSyQZO7I1Bmlf/MGd6dCBmNWPwGQTDHcyBkOQcJhAHllH10pCv/w2Umb1mRp44TY1Q9Kam0AQqpQFuby4TOse3s35mxlmVYk/L4uqT8Ujz6vT27u7dh1lXZpQ1ztSsrfGDpUFK4kyjM/wsLJRm7BiScM6kA9M+UZrx07Qk4ZyJBsbQojRjRwzHRCaZAgKjh01QmkeCBkZkJTiGSaYMlAZBaRCUBkFpEJQGpUHKSrOI0iDFCbrSLCW3FwRBCmEnutS1enJ7RBCkEC90va1pWk3XQ4IgRdjVdX0lkWYFmxqkKK8TWb5NpFnG9QkpsTrp32i99Un/hSBIoQ33nMZgZ2rOCYLkEnY33Ix6O/nyNUGQHIJ+oWGw83vtfYIgI3mvDwoNYw6tQXLZZyvSvDagXkNrkBwazJknGrDQZtZgX4NICXTmTF1LW6Of484byaTxQk+oLWgcCzWdcYTnhhGB9z/rYp1h1Of0LuHRRaOBFQfpst9oXJy39S7z4Ayw2NYRREJtScuk/rSmI0gGtUVNzvIKeoOkeDK/oOVQX1p8iiB9lpfEVuZ/8WQDiQg2nhQAAAAASUVORK5CYII=",AL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA2AAAAE4CAMAAAAKDmAlAAABX1BMVEUAAAB3d3eAgICwsLD/uADxUCEAo+7////S0tJ+uQDQ0NDg4OAgICAQEBBAQEBQUFBwcHDAwMABAQEgFwCQkJD+/v4GBgYDAwOgoKD9/f339/cJCQnx8fEYGBhgYGDs7OyIiIgNDQ3Dw8MkJCQvLy8SEhL5+fktLS0qKipDQ0NpaWkVFRWNjY0LCwtGRkZKSkrv7++Tk5Pz8/M2Njarq6s8PDxWVla3t7fl5eVjY2McHBz7+/s4ODhZWVlsbGzq6uqvr68zMzPn5+dmZma1tbV0dHSlpaWXl5f19fV6enq/v7+ampqKiorMzMyjo6Oenp7e3t6tra2oqKhOTk4nJyfY2NghISFcXFwaGhrV1dXPz8/GxsZ8fHy6urpubm5/f38xMTE+Pj6dnZ3j4+Pc3NzKysrX19d4eHja2trf39+Dg4PIyMhTU1MUFBRMTEyzs7NxcXGGhoa9vb2xsbEaEgC9ii9pAAAcaklEQVR4XuzTIQEAAAwCsMv3T0wBLG7rsPsZoAUDBAPBQLCwT8cEAAAgDMPYh6D618aHgp2Nh5AySXywHPt0j6owEAZQ9LMai1HIawJCiochQTS9iGAbcAPuwErc/78Ewc7KIAHPqe4GbowMmBkMDAYGAwz2FhgMDAYYDAwGBgMMBgYDgwEGA4OBwQCDgcHAYIDBwGBgMMBgYDDAYGAwMBhgMDAYGAwwGBgMDAYYDAwGBgMMBgYDg/06MBgYDDAYGAwMBhgMDAYGAwwGBgODAQYDg4HBAIOBwcBgULV1XZXPxmD8/cdYLteiT4O+WAcGI9p7k067LkZwOzfpZRmTYTDKbc750MXXbVZpMF/Ex477lKY6mMEe7N37TxrdFsfhpebk6wFBmXBRASuIiHi3SFWoF7RCy1t9ta1IKWq91J7erPb/T07imqEwF8qAKJT9/LpwE42f4OydGf/TDKT4b1PQvYhsZYPrLtwJ/+tIHy956cG4z8HS1KiPGbRYYCIwEVhy4RwaiUL3BD0MO2Q+alDfPFoqMBGYCMwz0gsj+Tg9hOdQ2KgxRbRUYCIwEVj8AlX00EOYhGxRoobMQua7Sfptkdz2R3pEIjARWF8RaGZg3lWqgTsFliU9Y1Sra7BePz0+EZgILO5DEwOz5WKL3VSLOd5ZfzdOatLS9IWVahTgZTA8Ro9OBCYCk0ZRaTlfcBTy60P3EdhRtJgA0E01Sd4mMJ+2USX3XHYdgNXsX4hZenQiMBGYZw9lCleTNmXw9s2NI9FgYGDdVCNPgDScAMwE1gU2SY9NBCYCk85QMrwwRiq257euhwqMNR5YGsxGj00EJgLrRkmsj/REdofaK7Bd3FmkxyYCE4H9gMIXJyOnV20VWA/uLNMjE4GJwKbWIbNGqIp2DMxKj0wEJgI7gOx/q2RMBCaIwOqxBNl8hKoSgQkiMPMckH2jKkRgggisoQ+wHaqPJ7Tl3Nm+jk1vTUhtF9jUt+jAyqyN1AL24+mdnmLPwfRa0k21kJID2f3tg+n4OFXwzr3c63m2kT7elDoxMBFYDGzRT/WITKdQcj56ROWiljtgKYsiQMaiFkayI15jHXfCFkWO9L3lsU/1eqfe8pOvcOcVVfj+MziE34b34x7S2rSwTSKi8e5lyIZ3D6kksrMIhfWnt+MCE4GNJ8BGqQ59MRcqhG+8mvM1LVsNZ3Ik64O+AdIXgq4e7fLuNGQOKuNPD0PNOiIZ3rlmJ6LcPMoMX8mvnkm7UO7zaacFJgKLgiX8ZN7WIjTyh20SmPcWeoGt+aAnuGocmGcBKrseIqLVT1DJLHVYYCKwa7ANMs1zBj3rE+0R2Bl0AvNuwMCTpGFge9AYJaI+KzTm+zoqMBGYZxFsxHxfv6Av5W+HwL5BJzBbAYYydoPAuqDlSpL3PXQUOyowEdgpmGuKzMpCMX/w5fhq4RKKoNT6gbk/6wTmfoWS8OWO0zkYXETJ/FvdwAYSAPCkZyG7YUXJV+XnYzlz7rzKoMTeSYGJwFbALHV/JVIjbh6MxSDbIpYcuAP2bEDhNhFYgNdwyC0PKE5J3xSPe1Wv/6Fa/jlfWXVvrS18dSmBpaF4n5uRm5t9BkWvWy+wDIDlnIfPPIJQdPH3HOHdjugTyDY6KTAR2D/1HoKtLoIVx6lkDSzlNXsOpg2sSedgyvK3AAoTPPDneDYHWWZLot/m1iHr1gTGvn4nmZRGuRNep/yCLBzooMBEYPtgL8mkA7BfbirzBSza2oGxAzdVcF+A+TapQt+56qxQFdg7G5VIRdVWhyLpAnvTQYGJwApgOTInApafoXLKlc1lGwRWcBudWCyRSiQDdqMXmGtT85NhBY9O8hjtoMBEYJ/B+knFDi3tDcOup1RpC2y11QPTPg1H+gR2QhovwFJuncAGqUIQMteE7hMff3VQYCIwK5jdXGCBDA9ipDIOttLygTmN7io495KGexlsUiewEFU4NnhKkG2IB3n6AxGYCOyb4SNl3vEg3eqBuQ6N9nu6qmU/rQ3sQhOqwcXWBQ/WOzAwEdisucD2eHAuGW1+BFs9sAKpWeTyjkjHBFhBG9guVbKBDQWo0jMehDswMHENFjcX2IXO7xZbkNNr9cBuSMWbqHYiKK3zNOPRBHZMKkMGC+2BdWBgYhdxzVRgXhcPzvo1YjxJtHpgcVJ5CpYmXUWwI3Vg2pXmeXBNKs7OC0wE1gP2j/7dTmxRHVgIf+Rt8cAipBIHWyNdC2BJTWCzBte1g6Ry03mBicCcYNtUhUMd2Bz+yNbigflJZQCsn3R9AJvTBGY3CMypabvzAhOBbYGlTAUWb//AvAYDpRfD/kRgIjATnkIWMRPYSvsHRmo3YE+rB/ZNBCYCM8GdAftpJrCRvziwj+ITzJAIzLxnYK/NBJYDux005G23wJTBLOl6CWYXgYnAzIhCtlnHJscIGWu3wNbAVqrvIr4VgYnAzJhKgPWYCOwU7OVfFFg/2Gj1Z5d4RWAiMFP2IVuqPbBxsJ2/KLAJsFvSdc7TzyQCE4GZ8hGyT+6aA1N+3ax/UWCeDA+GZ0jHIdiBCEwEZpIDsr3aA9sACz10YOdNC4xuq11YvlCGIjARmElJKF7WHNgaWNZMYNP3ENh88wIbAHsvkYaU51liSgQmAjNrEIoPUo2BrbpwJzxGNfDhztk9BJbwNC2wo4TxR1gcbINEYCIws2zLUMQCtQVGt/oPtmDeGd0NgqD5wLRhjDUtMIqB+TTv8X0ZzC4CE4GZt5SAIpWTSC3Qqw1sFrIDD6lt9oaogvz14UADgR2DRZsXWMgFdrFKFbxBsCKJwERgdVjBb++iU1RGOnX6INO7kQy3fqowtudCSP+emK4GAnsDlvc0LTA6gyw1S2XGXoMNR0RgIrC6XKHMUGE693Fsdeow9OPFbgpMHVgoAZnvw+8iA/FfCQAh/dXD/E+APFsz5gPzQxb7zmfdk/cfWMAKRc+SpOQ1moFsgERgIrD6RIfwZ1Suq6zI4HT0eXzl6uwyobt7H4Li370vJ7sp2MwHRq8hW7wePZn+ioH7D4w2MyhJ7Y92/fwymEfJniQCE4HVa3bdZGA0CEMhozhYXYFFUaEpgdHcMAztu0kEJgKrm/8Xqls/pgqevZoDm72HwLwXDxAYTc7DQNZDIjARWCPm8jBmfTFDamth6HKMk0q68cAoGX6AwOjwK/TM54hEYCKwxkjxIHSFY288pGPsGlqX/RKpebKNB0ZzvgcIjKStZaiF01PERGAisIa8PSkMoYIrn+0PkJGJdArl8qOnpKs/j5Kil4wNWBlp9R0koDi3U1VZXiVoYnmFO/csgTK9H/ykI2llSVIJ8uDE8K3bmAiscTP2tYXYq9eW147tvZuVpQBVJ4W2nPuO1xbHdrbrx3cyJD19eeCwBH9N51apbkcr2eLl5e3Zz00PNVNg9uqsGLQUbne/xFf/z94duyQQx2Ec/hnIt0AdGk4orDZxCATBQDxraXBqKRANWpy16P+HlqOLwylvOOF5/oB3+8xvKiGwKhCYwBCYwEBgIDCBITCBgcAEhsAEhsAEBgITGAITGAITGAhMYAhMYAhMYCAwgSEwgSEwgYHABIbABAYCK4HABIbABAYCqwCBCQyBCQwEBt1VpzO4F1jNBEbWW36/FReCV9v91ygTWE0ExvxlHBU3AquFwBhtotCwwE4frJ7iL4Exmy4+80k/1YDdbZQExmW+Lo7V36/TsXiOaG5gvJ4dNEz/kH0cmsorA92H+LUdpuNwF00OjB927rWniSAK4/jxEh8j9LaBNtBWxVK5JK2t5Zq2EoUmJARrhQJRDKAoiliCfP/E+KLJztImZ5Y27sbn9wFmX0z+2Zl5cWLo6a34UEcv98SQfwiXzO0KozOEMTAGNhkRewlFYM4yDO+mxD+6QCgDY2B4JdZmoQhsCR5X4hvtlUIaGAP7INbKmsAS8FhzxC/6hJAGxsBwLJYKJUVg6Sq8KuITxRDawB4Mg3TdH4rBBlYWS6tQBLaLG+riDzkPcdOPVnmseXnaL7BUQAJjYKW02NnWBFZR3PaUqAivia3uq+zonfbNwKaPto8CEhgDw75YqUATWG5wfzB6D48V93HbyYtbslj+AuBuUAJjYL/FSlMVWHJyUHcwKryE6UlO+sjvL2QABCkwBoacWIhsqgKTS3i8Sclg8IS4Iz3lGokJAEELjIGdi4U4dIGdwMPvLtE5TAnp5fAbuoIVGANbSYma01YGJlswfE2KP7QB04X0MoKABsbA0BG1KLSBJZfh0j4Qn+g7DJPpkAXGwFqitqAOTJJj4+i6zotf9ByGjxKywBhYNStK2ao+MJHp5hoAZFpz4hulYfoctsAYGBqidAhFYC7OaKWWS8ktUASmp6ELjIG1RSc1oghssGgUprPQBcbAsCgqHfzzwBhYPHyBMbCmqGxoAiMGxsCewbA5JQp743C57hMYMTAGVq/CsC4KV3Cb6xMYMTAGFm3B8FOxRHINLo8i/QIjBsbAijDN2A6Tmu8bGDEwBuacwjBmOUxqc2o4gWVrscfr8UZ8PlbLy7Bkj6PF2FJs7mS2IH78quysxhuN9XpnJi12nIPX0Rd/v724m/4fAvvD3p02tZGsaRh+bU+chxDIbmpAC0KABBICARKbAQmQ2dzCGLrZV2ODsMFgG8uc/x8z0RE08VZm1q4enZq6vnpREFG3qsjK5f9tYPQMTG/E3mZSMfI6sOin4a1jtoys8uHWztk8iUL94aS11hp6UP+z74WP9/tdeNL7eWMup5Fl0cmzD+xRufbu/askWXH0qv7hzyyeLJ+OL/T7NLAgsHwWzGt7m0nNmwXWEWI6yFBk920RMtWHQ36XGQ4xO48BDMQm8OQVSexd30GqNj5trbHc+1nIXHWY/QefblsgtV9fIol06NExuNmQVBbMcohJ/9OBBYHRWzAzZGy0G09wTGaBvbBxfzuqV6DWPV6iJ8/BhOgvyR0wYmCRuU0Y+HNtlMwsPTicMZ36uQ8DLSsR0ivCU8V/PLAgsAswnSU7m0n95mFgyd+zMJZNmQQ21gvjwCLnyzBRXEuQke8bnTDQTiqjz01rmZ2L+i2wIDA6BvPRxmZSXRnPAov+1g1TYePAVuIwDqxwBQuuhkhtaBZwEph2WIEFm5/8FlgQ2DmYVs36ZlJb5FVgB6eA28DmAMPAUn/Aoo4IKfyMw1FgyVVYU36m+SuwILBwFcyY9c2kXnoVWKEI14FdZI0DG7yBZek8SY0AjgK7WIZlbxK+CiwIjGJgdixvJrWveRTYcByuAwvXYBjYWDdsuOoniY9wFlhPFjbc5X0VWBDYJJhsxupmUmvkTWDXgPvAxmEY2G4WttTaSLAAZ4ENw56WsJ8CCwKjEJhzi5tJZfPeBHYODwLrLxsGVsjCpv0M6Rx0OwtsDnalE34KLAhsBUwLqfCZ81PkSWCv4l4EtgGjwD5VYdu7KHEPcBTYjzhsi/kpsCCw1ASYSWubSQ15ElhuAh4EVqwaBZavwYE6MdOQmVgulg0D2+uGAys+CiwIjH4Hs2FpM6k/NS8CS3yBXDG91fd8/XbjV0UZGKcOTFuFVPZ4desytv25CKk430FhG3rp808JItKOLtZeTCgCi4QgVQ3dxy5jDycTkKr2+yiwILABMN0JK5tJrZMXgY1D5uR6UHtMSdtbu3MX2AokavXpyOMn5H77DIkvEXqSL4O7Ye+jE7vbZVlgdUh8OVuK/j23ef0LJD7QX+7bH92Bu2qX6gLT2s7c/58EFgRGp1YOS4zW+C6KXgQ23QnR6jTpDFxmLQZWjS0MZsKZ3I+z9GNg+SIENwsaMfPvIBqmJ4eSoT4uWS8KgeXKEGyOEaMVQhAVfDSbPgisB0yaZHb5+1DyIDAtBEFrgST6t6wE1lV/apD631dfPT0AM+8TpKetVKG3PKo+r2mQROHbarvZqcrZtSjpRc/i0DvR/BNYEFiiCGbPfDOpgheB9UBwHya56WPTwK4GiCn1E5E4gN+1QDJLFaOtWD+DSZNUac1kD//iS5IpiHV/809gQWDUAabPdDOpVs2DwKJX0PtdI5VIX8o4sFBesYCNK++S3GBRKFZTvfIdcbbBXfckyQ1lofPLR4EFgeXMj8nrEybduw5sAXobGplQB/ZV2leq2/op0QUwbGKmk9PUDjqtn2AzDL09/wQWBEbtYHZNNpOKl7wIrB06H6LkOLDykrUL943F5dp8YmYK3O9kQR90OkjtHjp9PgosCGwBzL3JRLx78iCwHHQqeXIe2AhJnYKrlkgtXAHX/ThSHwEXInPaMrjZFKn1Z8Ed+yiwILBIxeQoozS/w3kR2HvovCbngXWHSSbZCa6PjKwDint8FtwSmZqEzgoZ2YDOgV8CCwITr/Zr4nLCcbPuAzsGd0ouAhsnqTlw2SQZyXSBe6+4cnEasX2qciVBRnLQGfZRYEFgB53C+Jl6LO6WPAisHzpjbgJbIqkpm8d4boNLK99ozWTIxCa4EZt/P+abwILAxCvowmAzqc42LwI7F8bEXQRW00iqZvMp9BDchKac81R7rZGRSNnmU+U6uBbfBBYEJra3xTpZESbKuQ/sLbh1chHYFknlwcXDZOxINVg+BNHpEBmYB1fRyNg0uHLCR4EFgUVn+WgbuxRP+CQDTwK7ATfgJrBFa2+2NsnMV3AFNgqk9/lblFQWwU2RiUgWXM43gQWBidfssHI8rBJxH5hYZoXcBPaSpH7afn31oBppGIFU7SxPch3grslMC7gxPwUWBFaKK7/sY8LImvvAJsGtugqsZG0bqHMyM6JadpmsQi77dp5k3oDbJTNT4Fb8FFgQGD2oHtky/Nrq9ySw1+DqrgKLWrtkC2RmUXms7hmUTnc180HBnO24z3wVWBBYAcy44kHrF3kS2Bq4FTeB9ZLcne3Xw6+VvzlFT8GIi7y4CrgMmbkG1+erwILANP71V0xIN5PCgjeBjYAruAms1eJvNUdkxuBI3GQrDDwcEDcBJkum5sB1+CqwIDBah7SkIeEIMS8Ci4G7cBPYDcnpkwiTmZcGq0b6v8JAdZE/J9rfD6MH3KW/AgsCS5al19aUMB/Bi8DeghtwE1iI5JbBpcjMpNE+bMk7GHmToicJcL1kagFczEeBBYGJKXUeyLLLeRTYi38isCK4UTJzAaN1BZERGGnJu3oN0QNu3GeBBYENgbmVjJ6lyaPA7sHNNyKwiutHxDf6AI9h4EuGHiXcPyKO+CmwIDBxOKMWFTaTwiE16A421ojAWsElycwPcDHSifzWC7X2KD0C10W2XxE891lgQWC0Jo7s7QpDi94EtgWupxGBHYMbcDaSx4WvWWKqAwyrtu+edXDnfgssCCzTJSzumBFejnkT2Aa4s0YEdmf7NnkNbo0kEsNfoNB1oHo83SMzG+C++SqwIDDxvpLN69eJDXoW2C24nUYENmV7qtQf1ta3aGMv4iYHN3y2/aLvHbgl3wUWBDYNZk23ccsdeRbYHLibRgQ2Ynuy7ym4SVJpG++CRPa7Yu3mGpmZBZf3V2BBYOLch2PdKo057wJ7CZ1SAwI7t7tcJVoFUx4ltfx7WWKLitn0U2QiCW6W/BdYENgiGP7I2D3qXWBJ6Kw0ILAhuwsuJ8G1kKGDbQhWFbfoimZzGuSDDwMLAktVobZB3gVGreDSDQgs1QlugYydgbskEz0TqjOCBmHzTd8luHUfBhYERpdQW/IysB3oDHofGO2DeyBjJ7ZfHkxWoZOUP22igwxFe8FduA+s3nSBBYEtQWmTvAxsBTpvGhDYBrhyGxlZAhfP2J9/gUnFRlTFUTLyDVxv1H1gHU0XWBAYbUJl2NPA8nHoXHgfWAE642Rky8Fjq7YPbkgxMQNrtsYvY+Q+sFjzBRYENgeFasrTwCgNna+jngcWmQBXHiS1T53gzsmCuuKEhxJ0upOktgudXQ8CSzdfYEFgo92QuyRvA1uB3puo14HRFnQ+R0glegeuGiYLDsG9VN2T8EIjldRXcK1RJ4H9CabYfIEFgdE45OY9DixRsXM8GGnPUg4Cmxc/g1T61KOmqY6E5eH1AfXxTMqLVNuBzjU5CSwELtd8gQWBDUKqhTwKjFfCbUVIIZdG2EFgtAm9PouT2dGZo0dhfP1BCouqWb2RZegNW5xygonvjgL7AO558wUWBEZpyCx6HlimCMHJHsl8HynDWWALkooTJNLE3Hf4j/lriaTeKCdgXEPQFyVR5BJ6dXIU2Ba4Yqb5AgsCO4REV9jzwGgRomxd/KBS3wTgMDDtBIKbMdI7eCedGM9/zJkhjQRLZeWUqNFZCD6LmS6FoFcJOwvsI3RmIvRktCkCCwJL9EK0Rd4HFj2GxMT4vEZPEt+2y4DjwGgaEulvERZJrAzBR8mPub92RNxkDdyc2VfVw1iUnmgXLyA6JGeBvYJe+u9Hgsyzr00RWBAYjUA07XVg/Nufm91ZezXQlj/K7a7PVAG4CYw2INP9cP2/H/H9qP/l3MYNJE4UO4TfnU0n/r4lFKY6jUYetQ+QqUz9/DHYlintDQ1v1SBxTw4DK0FQfliZ7E8Ozk1lUWyOwILA9iD4Qo0IjJ7BnNvARm/gwITBBsbl/dXY+EZsZr9sNl+z1AsHat+dBkb7UGuWwILA6Bf01hoTmDbV+MBocAL27RIPzKKuEjFjcdjWNUmOA3v/nxBYENhrcRlhYwKjxGnjA6PdOOz6Sc4Cey4O4tsV/0bOAxts5sCCwJRvcHaoQYFR+KTxgdFhJ+z5SM4CO41KBvbsifeQi8CovTkDCwLj6uCGGhYYhU8bHxgdlmHHGjkLrFYi0TXsyC6Qq8Au/hMCCwJrE85Eb1hglNhufGA0VoRlXQvkLLDKnrzuLCzrHSJ3gVGsOQMLAuNWhTl0DQuMtPVywwOj/hAs2h8gZ4HtH5Dc5FdYdNpGbgPL3DR/YEFgfPVEOel5YNzkccMDo0jdUsblkQQ5C2wqQyqpDVhRvY6S68Bor9L0gQWB8R2zt6nBgVHkuhtm2iO2A+NyqzD1YZDIUWDLh2Rk/g6m3h4QeRAY7bU2e2BBYHzwa8zzwETfP1ZgoHPmpaP1YNz8VBkGOu+nSS662AIjxdtRMlGYgZHsW5a2m8AoPNX0gQWBHZXxqFVrUGBcYu5XGXL7t/2OFlyKSrfKUjbP2sjA4O1mJ+TuhkfJgr2RK1XZ6Z95IleBcUOnEMV33AXWrP793w3wb3Ii0cYkyECp7VGe1LQ2Lk9MXvhTQ5meP75A52ZnuF/suo05Ihv6z3euhIJjw21kKrNb/9UrTJscLpFlg8+2Z8HFQxtzSTITbeNSZOLTiO6onK255P+wT/esCYNRHEdTunQROzzDXSI6hA6NglQFQYNLI4WC1KVrOgkiot//TcRPkCFLOWe/8L/DL/t3gbVH72NxSNt4rmN7vZyaUdaFYrX4LKcx20f6fu03vRan+d/gK8V+E1E+/c6LrLV8vr4/OKt3aVid38ZZV94n1XAXP5GOy8fOjgIDOg8MEBgIDAQGCAwEBgIDBAYCAwQGAgOBAQIDgYHAAIGBwEBggMBAYCAwQGAgMBAYIDAQGCAwEBgIDBAYCAwEBggMBAYCAwQGAgOBAQIDgYHAAIGBwACBgcBAYIDAQGAgMEBgIDAQGCAwEBgIDBAYCAwEBggMBAbc2KdjAgAAEIZh8CGo/rVxzsDOxkMSjC2TxLdPhwQAACAMwJD0T4xAXt9tHfbBOoAMBggGggEHIpxNXBmA9GcAAAAASUVORK5CYII=",RL=n(7595),PL=function(e){var t=e.formsToggle,n=e.closeform,r=e.handleinput,i=e.registeruser,a=e.input;return(0,bL.jsxs)("div",{className:"container mt-3 d-flex justify-content-center flex-wrap",children:[(0,bL.jsx)("div",{className:"loginheader  col-10",children:(0,bL.jsx)("div",{className:"row g-0 g-lg-5 justify-content-center",onClick:n,id:"close",children:(0,bL.jsxs)("div",{className:"loginform col-12 col-sm-10 col-md-8 col-xl-5",children:[(0,bL.jsxs)("div",{className:"form px-4 pt-4 pb-2",children:[(0,bL.jsx)("img",{src:CL,className:"formlogo my-3",alt:"logo"}),(0,bL.jsxs)("h5",{children:["Sign up to see photos & videos ",(0,bL.jsx)("br",{})," from your friends"]}),(0,bL.jsxs)("button",{className:"btn col-11 mt-4",children:[(0,bL.jsx)(xL.Z,{})," Log in with facebook"]}),(0,bL.jsxs)("form",{action:"",className:"",onSubmit:i,children:[(0,bL.jsxs)("div",{className:"row justify-content-center px-3 mt-3",children:[(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("hr",{})}),(0,bL.jsx)("div",{className:"col-2 text-center",children:"OR"}),(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("hr",{})})]}),(0,bL.jsxs)("div",{className:"row justify-content-center g-0",children:[(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"text",className:"form-control",placeholder:"Mobile Number, or Email",name:"email",value:a.email,onChange:r,required:!0})}),(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"text",className:"form-control",placeholder:"Full Name",name:"fullname",value:a.fullname,onChange:r,required:!0})}),(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",name:"username",value:a.username,onChange:r,required:!0})}),(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"text",className:"form-control",placeholder:"Password",name:"password",value:a.password,onChange:r,required:!0})}),(0,bL.jsxs)("h6",{className:"terms learn my-4 mb-3 text-center",children:["People who user our service may have uploaded your contact information to Instagram. ",(0,bL.jsxs)("span",{children:["Learn ",(0,bL.jsx)("br",{})," More"]})]}),(0,bL.jsxs)("h6",{className:"terms text-center",children:["By singing Up you agree to our ",(0,bL.jsxs)("span",{children:["terms,privacy ",(0,bL.jsx)("br",{})," policy"]})," and ",(0,bL.jsx)("span",{children:" cookies policy."})]}),(0,bL.jsx)("button",{className:"btn col-10 my-3",children:"Sign Up"})]}),(0,bL.jsxs)("div",{className:"row text-center loginfacebook",children:[(0,bL.jsxs)("p",{children:[(0,bL.jsx)(xL.Z,{}),"Login With Facebook"]}),(0,bL.jsx)("p",{children:"Forgot Password?"})]})]})]}),(0,bL.jsx)("div",{className:"signup form px-4 py-3 pb-2 mt-3",children:(0,bL.jsxs)("p",{children:["Have an account ? ",(0,bL.jsx)("span",{onClick:t,children:"Log In"})]})}),(0,bL.jsx)("div",{className:"col-12 text-center my-3 mb-2",children:(0,bL.jsx)("p",{children:"Get the app"})}),(0,bL.jsx)("div",{className:"col-12 logbrand",children:(0,bL.jsxs)("div",{className:"row g-2 justify-content-center",children:[(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("img",{src:NL,alt:""})}),(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("img",{src:AL,alt:""})})]})})]})})}),(0,bL.jsxs)("div",{className:"loginfooter col-12 col-sm-10 my-3 mt-5",children:[(0,bL.jsxs)("div",{className:"col-12",children:[(0,bL.jsx)("a",{href:"",children:"Meta"}),(0,bL.jsx)("a",{href:"",children:"About"}),(0,bL.jsx)("a",{href:"",children:"Blog"}),(0,bL.jsx)("a",{href:"",children:"Jobs"}),(0,bL.jsx)("a",{href:"",children:"Helps"}),(0,bL.jsx)("a",{href:"",children:"API"}),(0,bL.jsx)("a",{href:"",children:"Privacy"}),(0,bL.jsx)("a",{href:"",children:"Terms"}),(0,bL.jsx)("a",{href:"",children:"Top Accounts"}),(0,bL.jsx)("a",{href:"",children:"Locations"}),(0,bL.jsx)("a",{href:"",children:"Instagram Lite"}),(0,bL.jsx)("a",{href:"",children:"Contact Uploading & Non-Users"}),(0,bL.jsx)("a",{href:"",children:"Meta Verified"})]}),(0,bL.jsx)("div",{className:"col-12 copyright text-center my-3",children:(0,bL.jsxs)("p",{children:[" English ",(0,bL.jsx)(RL.Z,{})," ",(0,bL.jsxs)("span",{children:["\xa9\ufe0f ",(new Date).getFullYear()," Instagram from meta "]})]})})]})]})},DL=function(){var e=(0,t.useContext)(wL),n=e.model,r=e.closeModel,a=e.register,o=e.login,s=(0,t.useState)({Register:!0,Login:!1}),u=(0,i.Z)(s,2),l=u[0],h=u[1],f=function(){h(Oe(Oe({},l),{},{Register:!l.Register,Login:!l.Login}))},d=function(e){var t=e.target.getAttribute("class"),n=e.target.getAttribute("id");"model"!==t&&"close"!==n||r()},p=(0,t.useState)({email:"",fullname:"",password:"",username:""}),v=(0,i.Z)(p,2),m=v[0],y=v[1],g=function(e){var t=e.target,n=t.name,r=t.value;y(Oe(Oe({},m),{},(0,c.Z)({},n,r)))};return(0,bL.jsx)(bL.Fragment,{children:n?(0,bL.jsx)("div",{className:"model",onClick:d,children:l.Register?(0,bL.jsx)(PL,{formsToggle:f,closeform:d,handleinput:g,registeruser:function(e){e.preventDefault(),a(m),y({email:"",fullname:"",password:"",username:""})},input:m}):(0,bL.jsxs)("div",{className:"container  mt-5 d-flex justify-content-center flex-wrap",children:[(0,bL.jsx)("div",{className:"loginheader col-12 col-xl-10",children:(0,bL.jsxs)("div",{className:"row g-5 justify-content-center ",id:"close",onClick:d,children:[(0,bL.jsxs)("div",{className:"loginimg col-4 d-none d-md-block",children:[(0,bL.jsx)("img",{src:EL,alt:""}),(0,bL.jsx)("img",{src:IL,alt:""}),(0,bL.jsx)("img",{src:TL,alt:""}),(0,bL.jsx)("img",{src:SL,alt:""})]}),(0,bL.jsxs)("div",{className:"loginform col-12 col-md-8 col-xl-5",children:[(0,bL.jsxs)("div",{className:"form px-md-4 pt-md-4 pb-md-2 p-0",children:[(0,bL.jsx)("img",{src:CL,className:"formlogo my-4",alt:"logo"}),(0,bL.jsxs)("form",{action:"",className:"",onSubmit:function(e){e.preventDefault(),o(m),y({email:"",password:""})},children:[(0,bL.jsxs)("div",{className:"row justify-content-center",children:[(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Your Email",value:m.email,onChange:g,name:"email"})}),(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Your Password",value:m.password,onChange:g,name:"password"})}),(0,bL.jsx)("button",{className:"btn col-10 mt-4",children:"Log in"})]}),(0,bL.jsxs)("div",{className:"row justify-content-center px-3 mt-3",children:[(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("hr",{})}),(0,bL.jsx)("div",{className:"col-2 text-center",children:"OR"}),(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("hr",{})})]}),(0,bL.jsxs)("div",{className:"row text-center loginfacebook",children:[(0,bL.jsxs)("p",{children:[(0,bL.jsx)(xL.Z,{}),"Login With Facebook"]}),(0,bL.jsx)("p",{children:"Forgot Password?"})]})]})]}),(0,bL.jsx)("div",{className:"signup form px-4 py-3 pb-2 mt-3",children:(0,bL.jsxs)("p",{children:["Don't have an account?"," ",(0,bL.jsx)("span",{onClick:f,children:"Sign up"})]})}),(0,bL.jsx)("div",{className:"col-12 text-center my-3 mb-2",children:(0,bL.jsx)("p",{children:"Get the app"})}),(0,bL.jsx)("div",{className:"col-12 logbrand",children:(0,bL.jsxs)("div",{className:"row g-2 justify-content-center",children:[(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("img",{src:NL,alt:""})}),(0,bL.jsx)("div",{className:"col-5",children:(0,bL.jsx)("img",{src:AL,alt:""})})]})})]})]})}),(0,bL.jsxs)("div",{className:"loginfooter col-10 my-3 mt-5",children:[(0,bL.jsxs)("div",{className:"col-12",children:[(0,bL.jsx)("a",{href:"",children:"Meta"}),(0,bL.jsx)("a",{href:"",children:"About"}),(0,bL.jsx)("a",{href:"",children:"Blog"}),(0,bL.jsx)("a",{href:"",children:"Jobs"}),(0,bL.jsx)("a",{href:"",children:"Helps"}),(0,bL.jsx)("a",{href:"",children:"API"}),(0,bL.jsx)("a",{href:"",children:"Privacy"}),(0,bL.jsx)("a",{href:"",children:"Terms"}),(0,bL.jsx)("a",{href:"",children:"Top Accounts"}),(0,bL.jsx)("a",{href:"",children:"Locations"}),(0,bL.jsx)("a",{href:"",children:"Instagram Lite"}),(0,bL.jsx)("a",{href:"",children:"Contact Uploading & Non-Users"}),(0,bL.jsx)("a",{href:"",children:"Meta Verified"})]}),(0,bL.jsx)("div",{className:"col-12 copyright text-center my-3",children:(0,bL.jsxs)("p",{children:[" ","English ",(0,bL.jsx)(RL.Z,{})," ",(0,bL.jsxs)("span",{children:["\xa9\ufe0f ",(new Date).getFullYear()," Instagram from meta"," "]})]})})]})]})}):""})},OL=n(3155),LL=n(5987),ML=n(7462),FL=n(8182),jL=n(9615),ZL=n(3108),UL=n(4164),BL=n(9806),VL=n(2216),qL=n(1175),zL=n(3366),WL=n(4578),GL=t.createContext(null);function KL(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function HL(e,t,n){return null!=n[t]?n[t]:e.props[t]}function QL(e,n,r){var i=KL(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,t.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],h=(0,t.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:HL(s,"exit",e),enter:HL(s,"enter",e)})):a[o]=(0,t.cloneElement)(s,{in:!1}):a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:HL(s,"exit",e),enter:HL(s,"enter",e)})}})),a}var YL=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},JL=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,p.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,WL.Z)(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,KL(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:HL(e,"appear",r),enter:HL(e,"enter",r),exit:HL(e,"exit",r)})}))):QL(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=KL(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,ML.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,zL.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=YL(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(GL.Provider,{value:a},o):t.createElement(GL.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);JL.propTypes={},JL.defaultProps={component:"div",childFactory:function(e){return e}};var XL=JL,$L="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var eM=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,s=e.rippleSize,u=e.in,c=e.onExited,l=void 0===c?function(){}:c,h=e.timeout,f=t.useState(!1),d=f[0],p=f[1],v=(0,FL.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:s,height:s,top:-s/2+o,left:-s/2+a},y=(0,FL.Z)(n.child,d&&n.childLeaving,i&&n.childPulsate),g=(0,VL.Z)(l);return $L((function(){if(!u){p(!0);var e=setTimeout(g,h);return function(){clearTimeout(e)}}}),[g,u,h]),t.createElement("span",{className:v,style:m},t.createElement("span",{className:y}))},tM=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,s=(0,LL.Z)(e,["center","classes","className"]),u=t.useState([]),c=u[0],l=u[1],h=t.useRef(0),f=t.useRef(null);t.useEffect((function(){f.current&&(f.current(),f.current=null)}),[c]);var d=t.useRef(!1),p=t.useRef(null),v=t.useRef(null),m=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var y=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,s=e.cb;l((function(e){return[].concat((0,be.Z)(e),[t.createElement(eM,{key:h.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),h.current+=1,f.current=s}),[a]),g=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&d.current)d.current=!1;else{"touchstart"===e.type&&(d.current=!0);var l,h,f,g=c?null:m.current,k=g?g.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(k.width/2),h=Math.round(k.height/2);else{var b=e.touches?e.touches[0]:e,w=b.clientX,_=b.clientY;l=Math.round(w-k.left),h=Math.round(_-k.top)}if(s)(f=Math.sqrt((2*Math.pow(k.width,2)+Math.pow(k.height,2))/3))%2===0&&(f+=1);else{var x=2*Math.max(Math.abs((g?g.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((g?g.clientHeight:0)-h),h)+2;f=Math.sqrt(Math.pow(x,2)+Math.pow(E,2))}e.touches?null===v.current&&(v.current=function(){y({pulsate:a,rippleX:l,rippleY:h,rippleSize:f,cb:n})},p.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):y({pulsate:a,rippleX:l,rippleY:h,rippleSize:f,cb:n})}}),[i,y]),k=t.useCallback((function(){g({},{pulsate:!0})}),[g]),b=t.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(p.current=setTimeout((function(){b(e,t)})));v.current=null,l((function(e){return e.length>0?e.slice(1):e})),f.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:k,start:g,stop:b}}),[k,g,b]),t.createElement("span",(0,ML.Z)({className:(0,FL.Z)(a.root,o),ref:m},s),t.createElement(XL,{component:null,exit:!0},c))})),nM=(0,jL.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(tM)),rM=t.forwardRef((function(e,n){var r=e.action,i=e.buttonRef,a=e.centerRipple,o=void 0!==a&&a,s=e.children,u=e.classes,c=e.className,l=e.component,h=void 0===l?"button":l,f=e.disabled,d=void 0!==f&&f,p=e.disableRipple,v=void 0!==p&&p,m=e.disableTouchRipple,y=void 0!==m&&m,g=e.focusRipple,k=void 0!==g&&g,b=e.focusVisibleClassName,w=e.onBlur,_=e.onClick,x=e.onFocus,E=e.onFocusVisible,I=e.onKeyDown,T=e.onKeyUp,S=e.onMouseDown,C=e.onMouseLeave,N=e.onMouseUp,A=e.onTouchEnd,R=e.onTouchMove,P=e.onTouchStart,D=e.onDragLeave,O=e.tabIndex,L=void 0===O?0:O,M=e.TouchRippleProps,F=e.type,j=void 0===F?"button":F,Z=(0,LL.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),U=t.useRef(null);var B=t.useRef(null),V=t.useState(!1),q=V[0],z=V[1];d&&q&&z(!1);var W=(0,qL.Z)(),G=W.isFocusVisible,K=W.onBlurVisible,H=W.ref;function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,VL.Z)((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){z(!0),U.current.focus()}}}),[]),t.useEffect((function(){q&&k&&!v&&B.current.pulsate()}),[v,k,q]);var Y=Q("start",S),J=Q("stop",D),X=Q("stop",N),$=Q("stop",(function(e){q&&e.preventDefault(),C&&C(e)})),ee=Q("start",P),te=Q("stop",A),ne=Q("stop",R),re=Q("stop",(function(e){q&&(K(e),z(!1)),w&&w(e)}),!1),ie=(0,VL.Z)((function(e){U.current||(U.current=e.currentTarget),G(e)&&(z(!0),E&&E(e)),x&&x(e)})),ae=function(){var e=UL.findDOMNode(U.current);return h&&"button"!==h&&!("A"===e.tagName&&e.href)},oe=t.useRef(!1),se=(0,VL.Z)((function(e){k&&!oe.current&&q&&B.current&&" "===e.key&&(oe.current=!0,e.persist(),B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),I&&I(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),ue=(0,VL.Z)((function(e){k&&" "===e.key&&B.current&&q&&!e.defaultPrevented&&(oe.current=!1,e.persist(),B.current.stop(e,(function(){B.current.pulsate(e)}))),T&&T(e),_&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&_(e)})),ce=h;"button"===ce&&Z.href&&(ce="a");var le={};"button"===ce?(le.type=j,le.disabled=d):("a"===ce&&Z.href||(le.role="button"),le["aria-disabled"]=d);var he=(0,BL.Z)(i,n),fe=(0,BL.Z)(H,U),de=(0,BL.Z)(he,fe),pe=t.useState(!1),ve=pe[0],me=pe[1];t.useEffect((function(){me(!0)}),[]);var ye=ve&&!v&&!d;return t.createElement(ce,(0,ML.Z)({className:(0,FL.Z)(u.root,c,q&&[u.focusVisible,b],d&&u.disabled),onBlur:re,onClick:_,onFocus:ie,onKeyDown:se,onKeyUp:ue,onMouseDown:Y,onMouseLeave:$,onMouseUp:X,onDragLeave:J,onTouchEnd:te,onTouchMove:ne,onTouchStart:ee,ref:de,tabIndex:d?-1:L},le,Z),s,ye?t.createElement(nM,(0,ML.Z)({ref:B,center:o},M)):null)})),iM=(0,jL.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(rM),aM=n(1122),oM=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,s=void 0===o?"default":o,u=e.component,c=void 0===u?"button":u,l=e.disabled,h=void 0!==l&&l,f=e.disableElevation,d=void 0!==f&&f,p=e.disableFocusRipple,v=void 0!==p&&p,m=e.endIcon,y=e.focusVisibleClassName,g=e.fullWidth,k=void 0!==g&&g,b=e.size,w=void 0===b?"medium":b,_=e.startIcon,x=e.type,E=void 0===x?"button":x,I=e.variant,T=void 0===I?"text":I,S=(0,LL.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),C=_&&t.createElement("span",{className:(0,FL.Z)(i.startIcon,i["iconSize".concat((0,aM.Z)(w))])},_),N=m&&t.createElement("span",{className:(0,FL.Z)(i.endIcon,i["iconSize".concat((0,aM.Z)(w))])},m);return t.createElement(iM,(0,ML.Z)({className:(0,FL.Z)(i.root,i[T],a,"inherit"===s?i.colorInherit:"default"!==s&&i["".concat(T).concat((0,aM.Z)(s))],"medium"!==w&&[i["".concat(T,"Size").concat((0,aM.Z)(w))],i["size".concat((0,aM.Z)(w))]],d&&i.disableElevation,h&&i.disabled,k&&i.fullWidth),component:c,disabled:h,focusRipple:!v,focusVisibleClassName:(0,FL.Z)(i.focusVisible,y),ref:n,type:E},S),t.createElement("span",{className:i.label},C,r,N))})),sM=(0,jL.Z)((function(e){return{root:(0,ML.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,ZL.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,ZL.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,ZL.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,ZL.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,ZL.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,ZL.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,ZL.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(oM),uM=(n(7441),n(503)),cM=n(4667),lM=n(7636),hM=n(7545),fM=n(4576),dM=n(358),pM=n(1565);var vM="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var mM=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,s=e.onRendered,u=t.useState(null),c=u[0],l=u[1],h=(0,BL.Z)(t.isValidElement(r)?r.ref:null,n);return vM((function(){o||l(function(e){return e="function"===typeof e?e():e,UL.findDOMNode(e)}(i)||document.body)}),[i,o]),vM((function(){if(c&&!o)return(0,pM.Z)(n,c),function(){(0,pM.Z)(n,null)}}),[n,c,o]),vM((function(){s&&(c||o)&&s()}),[s,c,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:h}):r:c?UL.createPortal(r,c):c})),yM=n(9535);function gM(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function kM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function bM(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function wM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,be.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&kM(e,i)}))}function _M(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function xM(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,cM.Z)(e);return t.body===e?(0,lM.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=gM();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(bM(a)+o,"px"),n=(0,cM.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(bM(e)+o,"px")}))}var s=a.parentElement,u="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:u.style.overflow,key:"overflow",el:u}),u.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var EM=function(){function e(){l(this,e),this.modals=[],this.containers=[]}return(0,h.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&kM(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);wM(t,e.mountNode,e.modalRef,r,!0);var i=_M(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=_M(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=xM(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=_M(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&kM(e.modalRef,!0),wM(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&kM(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var IM=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getDoc,l=e.isEnabled,h=e.open,f=t.useRef(),d=t.useRef(null),p=t.useRef(null),v=t.useRef(),m=t.useRef(null),y=t.useCallback((function(e){m.current=UL.findDOMNode(e)}),[]),g=(0,BL.Z)(n.ref,y),k=t.useRef();return t.useEffect((function(){k.current=h}),[h]),!k.current&&h&&"undefined"!==typeof window&&(v.current=c().activeElement),t.useEffect((function(){if(h){var e=(0,cM.Z)(m.current);i||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&l()&&!f.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():f.current=!1)},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===m.current&&(f.current=!0,t.shiftKey?p.current.focus():d.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[i,o,u,l,h]),t.createElement(t.Fragment,null,t.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:g}),t.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},TM={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},SM=t.forwardRef((function(e,n){var r=e.invisible,i=void 0!==r&&r,a=e.open,o=(0,LL.Z)(e,["invisible","open"]);return a?t.createElement("div",(0,ML.Z)({"aria-hidden":!0,ref:n},o,{style:(0,ML.Z)({},TM.root,i?TM.invisible:{},o.style)})):null}));var CM=new EM,NM=t.forwardRef((function(e,n){var r=(0,fM.Z)(),i=(0,dM.Z)({name:"MuiModal",props:(0,ML.Z)({},e),theme:r}),a=i.BackdropComponent,o=void 0===a?SM:a,s=i.BackdropProps,u=i.children,c=i.closeAfterTransition,l=void 0!==c&&c,h=i.container,f=i.disableAutoFocus,d=void 0!==f&&f,p=i.disableBackdropClick,v=void 0!==p&&p,m=i.disableEnforceFocus,y=void 0!==m&&m,g=i.disableEscapeKeyDown,k=void 0!==g&&g,b=i.disablePortal,w=void 0!==b&&b,_=i.disableRestoreFocus,x=void 0!==_&&_,E=i.disableScrollLock,I=void 0!==E&&E,T=i.hideBackdrop,S=void 0!==T&&T,C=i.keepMounted,N=void 0!==C&&C,A=i.manager,R=void 0===A?CM:A,P=i.onBackdropClick,D=i.onClose,O=i.onEscapeKeyDown,L=i.onRendered,M=i.open,F=(0,LL.Z)(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),j=t.useState(!0),Z=j[0],U=j[1],B=t.useRef({}),V=t.useRef(null),q=t.useRef(null),z=(0,BL.Z)(q,n),W=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),G=function(){return(0,cM.Z)(V.current)},K=function(){return B.current.modalRef=q.current,B.current.mountNode=V.current,B.current},H=function(){R.mount(K(),{disableScrollLock:I}),q.current.scrollTop=0},Q=(0,VL.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,UL.findDOMNode(e)}(h)||G().body;R.add(K(),e),q.current&&H()})),Y=t.useCallback((function(){return R.isTopModal(K())}),[R]),J=(0,VL.Z)((function(e){V.current=e,e&&(L&&L(),M&&Y()?H():kM(q.current,!0))})),X=t.useCallback((function(){R.remove(K())}),[R]);if(t.useEffect((function(){return function(){X()}}),[X]),t.useEffect((function(){M?Q():W&&l||X()}),[M,X,W,l,Q]),!N&&!M&&(!W||Z))return null;var $=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:yM.Z}),ee={};return void 0===u.props.tabIndex&&(ee.tabIndex=u.props.tabIndex||"-1"),W&&(ee.onEnter=(0,hM.Z)((function(){U(!1)}),u.props.onEnter),ee.onExited=(0,hM.Z)((function(){U(!0),l&&X()}),u.props.onExited)),t.createElement(mM,{ref:J,container:h,disablePortal:w},t.createElement("div",(0,ML.Z)({ref:z,onKeyDown:function(e){"Escape"===e.key&&Y()&&(O&&O(e),k||(e.stopPropagation(),D&&D(e,"escapeKeyDown")))},role:"presentation"},F,{style:(0,ML.Z)({},$.root,!M&&Z?$.hidden:{},F.style)}),S?null:t.createElement(o,(0,ML.Z)({open:M,onClick:function(e){e.target===e.currentTarget&&(P&&P(e),!v&&D&&D(e,"backdropClick"))}},s)),t.createElement(IM,{disableEnforceFocus:y,disableAutoFocus:d,disableRestoreFocus:x,getDoc:G,isEnabled:Y,open:M},t.cloneElement(u,ee))))})),AM=!1,RM="unmounted",PM="exited",DM="entering",OM="entered",LM="exiting",MM=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=PM,r.appearStatus=DM):i=OM:i=t.unmountOnExit||t.mountOnEnter?RM:PM,r.state={status:i},r.nextCallback=null,r}(0,WL.Z)(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===RM?{status:PM}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==DM&&n!==OM&&(t=DM):n!==DM&&n!==OM||(t=LM)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===DM){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:UL.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===PM&&this.setState({status:RM})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[UL.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||AM?this.safeSetState({status:OM},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:DM},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:OM},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:UL.findDOMNode(this);t&&!AM?(this.props.onExit(r),this.safeSetState({status:LM},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:PM},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:PM},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:UL.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===RM)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,zL.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(GL.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function FM(){}MM.contextType=GL,MM.propTypes={},MM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:FM,onEntering:FM,onEntered:FM,onExit:FM,onExiting:FM,onExited:FM},MM.UNMOUNTED=RM,MM.EXITED=PM,MM.ENTERING=DM,MM.ENTERED=OM,MM.EXITING=LM;var jM=MM,ZM=n(8189);function UM(){return(0,fM.Z)()||ZM.Z}function BM(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function VM(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var qM={entering:{opacity:1,transform:VM(1)},entered:{opacity:1,transform:"none"}},zM=t.forwardRef((function(e,n){var r=e.children,a=e.disableStrictModeCompat,o=void 0!==a&&a,s=e.in,u=e.onEnter,c=e.onEntered,l=e.onEntering,h=e.onExit,f=e.onExited,d=e.onExiting,p=e.style,v=e.timeout,m=void 0===v?"auto":v,y=e.TransitionComponent,g=void 0===y?jM:y,k=(0,LL.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=t.useRef(),w=t.useRef(),_=UM(),x=_.unstable_strictMode&&!o,E=t.useRef(null),I=(0,BL.Z)(r.ref,n),T=(0,BL.Z)(x?E:void 0,I),S=function(e){return function(t,n){if(e){var r=x?[E.current,t]:[t,n],a=(0,i.Z)(r,2),o=a[0],s=a[1];void 0===s?e(o):e(o,s)}}},C=S(l),N=S((function(e,t){!function(e){e.scrollTop}(e);var n,r=BM({style:p,timeout:m},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===m?(n=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[_.transitions.create("opacity",{duration:n,delay:a}),_.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),A=S(c),R=S(d),P=S((function(e){var t,n=BM({style:p,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=_.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[_.transitions.create("opacity",{duration:t,delay:i}),_.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=VM(.75),h&&h(e)})),D=S(f);return t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]),t.createElement(g,(0,ML.Z)({appear:!0,in:s,nodeRef:x?E:void 0,onEnter:N,onEntered:A,onEntering:C,onExit:P,onExited:D,onExiting:R,addEndListener:function(e,t){var n=x?e:t;"auto"===m&&(b.current=setTimeout(n,w.current||0))},timeout:"auto"===m?null:m},k),(function(e,n){return t.cloneElement(r,(0,ML.Z)({style:(0,ML.Z)({opacity:0,transform:VM(.75),visibility:"exited"!==e||s?void 0:"hidden"},qM[e],p,r.props.style),ref:T},n))}))}));zM.muiSupportAuto=!0;var WM=zM,GM=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.component,o=void 0===a?"div":a,s=e.square,u=void 0!==s&&s,c=e.elevation,l=void 0===c?1:c,h=e.variant,f=void 0===h?"elevation":h,d=(0,LL.Z)(e,["classes","className","component","square","elevation","variant"]);return t.createElement(o,(0,ML.Z)({className:(0,FL.Z)(r.root,i,"outlined"===f?r.outlined:r["elevation".concat(l)],!u&&r.rounded),ref:n},d))})),KM=(0,jL.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,ML.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(GM);function HM(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function QM(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function YM(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function JM(e){return"function"===typeof e?e():e}var XM=t.forwardRef((function(e,n){var r=e.action,i=e.anchorEl,a=e.anchorOrigin,o=void 0===a?{vertical:"top",horizontal:"left"}:a,s=e.anchorPosition,u=e.anchorReference,c=void 0===u?"anchorEl":u,l=e.children,h=e.classes,f=e.className,d=e.container,p=e.elevation,v=void 0===p?8:p,m=e.getContentAnchorEl,y=e.marginThreshold,g=void 0===y?16:y,k=e.onEnter,b=e.onEntered,w=e.onEntering,_=e.onExit,x=e.onExited,E=e.onExiting,I=e.open,T=e.PaperProps,S=void 0===T?{}:T,C=e.transformOrigin,N=void 0===C?{vertical:"top",horizontal:"left"}:C,A=e.TransitionComponent,R=void 0===A?WM:A,P=e.transitionDuration,D=void 0===P?"auto":P,O=e.TransitionProps,L=void 0===O?{}:O,M=(0,LL.Z)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),F=t.useRef(),j=t.useCallback((function(e){if("anchorPosition"===c)return s;var t=JM(i),n=(t&&1===t.nodeType?t:(0,cM.Z)(F.current).body).getBoundingClientRect(),r=0===e?o.vertical:"center";return{top:n.top+HM(n,r),left:n.left+QM(n,o.horizontal)}}),[i,o.horizontal,o.vertical,s,c]),Z=t.useCallback((function(e){var t=0;if(m&&"anchorEl"===c){var n=m(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[o.vertical,c,m]),U=t.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:HM(e,N.vertical)+t,horizontal:QM(e,N.horizontal)}}),[N.horizontal,N.vertical]),B=t.useCallback((function(e){var t=Z(e),n={width:e.offsetWidth,height:e.offsetHeight},r=U(n,t);if("none"===c)return{top:null,left:null,transformOrigin:YM(r)};var a=j(t),o=a.top-r.vertical,s=a.left-r.horizontal,u=o+n.height,l=s+n.width,h=(0,lM.Z)(JM(i)),f=h.innerHeight-g,d=h.innerWidth-g;if(o<g){var p=o-g;o-=p,r.vertical+=p}else if(u>f){var v=u-f;o-=v,r.vertical+=v}if(s<g){var m=s-g;s-=m,r.horizontal+=m}else if(l>d){var y=l-d;s-=y,r.horizontal+=y}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:YM(r)}}),[i,c,j,Z,U,g]),V=t.useCallback((function(){var e=F.current;if(e){var t=B(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[B]),q=t.useCallback((function(e){F.current=UL.findDOMNode(e)}),[]);t.useEffect((function(){I&&V()})),t.useImperativeHandle(r,(function(){return I?{updatePosition:function(){V()}}:null}),[I,V]),t.useEffect((function(){if(I){var e=(0,uM.Z)((function(){V()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[I,V]);var z=D;"auto"!==D||R.muiSupportAuto||(z=void 0);var W=d||(i?(0,cM.Z)(JM(i)).body:void 0);return t.createElement(NM,(0,ML.Z)({container:W,open:I,ref:n,BackdropProps:{invisible:!0},className:(0,FL.Z)(h.root,f)},M),t.createElement(R,(0,ML.Z)({appear:!0,in:I,onEnter:k,onEntered:b,onExit:_,onExited:x,onExiting:E,timeout:z},L,{onEntering:(0,hM.Z)((function(e,t){w&&w(e,t),V()}),L.onEntering)}),t.createElement(KM,(0,ML.Z)({elevation:v,ref:q},S,{className:(0,FL.Z)(h.paper,S.className)}),l)))})),$M=(0,jL.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(XM);var eF=t.createContext({}),tF=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.component,s=void 0===o?"ul":o,u=e.dense,c=void 0!==u&&u,l=e.disablePadding,h=void 0!==l&&l,f=e.subheader,d=(0,LL.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),p=t.useMemo((function(){return{dense:c}}),[c]);return t.createElement(eF.Provider,{value:p},t.createElement(s,(0,ML.Z)({className:(0,FL.Z)(i.root,a,c&&i.dense,!h&&i.padding,f&&i.subheader),ref:n},d),f,r))})),nF=(0,jL.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(tF);function rF(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function iF(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function aF(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function oF(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&aF(s,a)&&!u)return void s.focus();s=i(e,s,n)}}var sF="undefined"===typeof window?t.useEffect:t.useLayoutEffect,uF=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,s=void 0!==o&&o,u=e.children,c=e.className,l=e.disabledItemsFocusable,h=void 0!==l&&l,f=e.disableListWrap,d=void 0!==f&&f,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=(0,LL.Z)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),g=t.useRef(null),k=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sF((function(){a&&g.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(gM(),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var b=t.useCallback((function(e){g.current=UL.findDOMNode(e)}),[]),w=(0,BL.Z)(b,n),_=-1;t.Children.forEach(u,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===_)&&(_=n))}));var x=t.Children.map(u,(function(e,n){if(n===_){var r={};return s&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return t.createElement(nF,(0,ML.Z)({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=(0,cM.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),oF(t,r,d,h,rF);else if("ArrowUp"===n)e.preventDefault(),oF(t,r,d,h,iF);else if("Home"===n)e.preventDefault(),oF(t,null,d,h,rF);else if("End"===n)e.preventDefault(),oF(t,null,d,h,iF);else if(1===n.length){var i=k.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&aF(r,i);i.previousKeyMatched&&(s||oF(t,r,!1,h,rF,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y),x)})),cF=uF,lF={vertical:"top",horizontal:"right"},hF={vertical:"top",horizontal:"left"},fF=t.forwardRef((function(e,n){var r=e.autoFocus,i=void 0===r||r,a=e.children,o=e.classes,s=e.disableAutoFocusItem,u=void 0!==s&&s,c=e.MenuListProps,l=void 0===c?{}:c,h=e.onClose,f=e.onEntering,d=e.open,p=e.PaperProps,v=void 0===p?{}:p,m=e.PopoverClasses,y=e.transitionDuration,g=void 0===y?"auto":y,k=e.TransitionProps,b=(k=void 0===k?{}:k).onEntering,w=(0,LL.Z)(k,["onEntering"]),_=e.variant,x=void 0===_?"selectedMenu":_,E=(0,LL.Z)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),I=UM(),T=i&&!u&&d,S=t.useRef(null),C=t.useRef(null),N=-1;t.Children.map(a,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("menu"!==x&&e.props.selected||-1===N)&&(N=n))}));var A=t.Children.map(a,(function(e,n){return n===N?t.cloneElement(e,{ref:function(t){C.current=UL.findDOMNode(t),(0,pM.Z)(e.ref,t)}}):e}));return t.createElement($M,(0,ML.Z)({getContentAnchorEl:function(){return C.current},classes:m,onClose:h,TransitionProps:(0,ML.Z)({onEntering:function(e,t){S.current&&S.current.adjustStyleForScrollbar(e,I),f&&f(e,t),b&&b(e,t)}},w),anchorOrigin:"rtl"===I.direction?lF:hF,transformOrigin:"rtl"===I.direction?lF:hF,PaperProps:(0,ML.Z)({},v,{classes:(0,ML.Z)({},v.classes,{root:o.paper})}),open:d,ref:n,transitionDuration:g},E),t.createElement(cF,(0,ML.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:S,autoFocus:i&&(-1===N||u),autoFocusItem:T,variant:x},l,{className:(0,FL.Z)(o.list,l.className)}),A))})),dF=(0,jL.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(fF),pF=n(3375),vF="undefined"===typeof window?t.useEffect:t.useLayoutEffect,mF=t.forwardRef((function(e,n){var r=e.alignItems,i=void 0===r?"center":r,a=e.autoFocus,o=void 0!==a&&a,s=e.button,u=void 0!==s&&s,c=e.children,l=e.classes,h=e.className,f=e.component,d=e.ContainerComponent,p=void 0===d?"li":d,v=e.ContainerProps,m=(v=void 0===v?{}:v).className,y=(0,LL.Z)(v,["className"]),g=e.dense,k=void 0!==g&&g,b=e.disabled,w=void 0!==b&&b,_=e.disableGutters,x=void 0!==_&&_,E=e.divider,I=void 0!==E&&E,T=e.focusVisibleClassName,S=e.selected,C=void 0!==S&&S,N=(0,LL.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),A=t.useContext(eF),R={dense:k||A.dense||!1,alignItems:i},P=t.useRef(null);vF((function(){o&&P.current&&P.current.focus()}),[o]);var D=t.Children.toArray(c),O=D.length&&(0,pF.Z)(D[D.length-1],["ListItemSecondaryAction"]),L=t.useCallback((function(e){P.current=UL.findDOMNode(e)}),[]),M=(0,BL.Z)(L,n),F=(0,ML.Z)({className:(0,FL.Z)(l.root,h,R.dense&&l.dense,!x&&l.gutters,I&&l.divider,w&&l.disabled,u&&l.button,"center"!==i&&l.alignItemsFlexStart,O&&l.secondaryAction,C&&l.selected),disabled:w},N),j=f||"li";return u&&(F.component=f||"div",F.focusVisibleClassName=(0,FL.Z)(l.focusVisible,T),j=iM),O?(j=F.component||f?j:"div","li"===p&&("li"===j?j="div":"li"===F.component&&(F.component="div")),t.createElement(eF.Provider,{value:R},t.createElement(p,(0,ML.Z)({className:(0,FL.Z)(l.container,m),ref:M},y),t.createElement(j,F,D),D.pop()))):t.createElement(eF.Provider,{value:R},t.createElement(j,(0,ML.Z)({ref:M},F),D))})),yF=(0,jL.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(mF),gF=t.forwardRef((function(e,n){var r,i=e.classes,a=e.className,o=e.component,s=void 0===o?"li":o,u=e.disableGutters,c=void 0!==u&&u,l=e.ListItemClasses,h=e.role,f=void 0===h?"menuitem":h,d=e.selected,p=e.tabIndex,v=(0,LL.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(r=void 0!==p?p:-1),t.createElement(yF,(0,ML.Z)({button:!0,role:f,tabIndex:r,component:s,selected:d,disableGutters:c,classes:(0,ML.Z)({dense:i.dense},l),className:(0,FL.Z)(i.root,a,d&&i.selected,!c&&i.gutters),ref:n},v))})),kF=(0,jL.Z)((function(e){return{root:(0,ML.Z)({},e.typography.body1,(0,c.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,ML.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(gF),bF=n.p+"static/media/Logo.0234e0bf8fae139480ea.png",wF=function(){var e=(0,t.useContext)(wL),n=e.model,r=e.openModel,a=e.user,o=e.loader,s=e.logout,u=e.showpostform,c=(e.showcreate,function(){r()}),l=function(){s()},h=t.useState(null),f=(0,i.Z)(h,2),d=f[0],p=f[1],v=function(){p(null)};return(0,bL.jsxs)(bL.Fragment,{children:[(0,bL.jsxs)("div",{className:"Navbar px-4 pt-4",style:n?{zIndex:-1}:{zIndex:1},children:[(0,bL.jsxs)("div",{className:"logo d-none d-md-block",children:[(0,bL.jsx)("img",{src:bF,className:"d-xl-inline-block d-none",alt:"logo"}),(0,bL.jsx)("span",{className:"d-xl-none d-inline-block",children:(0,bL.jsx)("svg",{"aria-label":"Instagram",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M12 2.982c2.937 0 3.285.011 4.445.064a6.087 6.087 0 0 1 2.042.379 3.408 3.408 0 0 1 1.265.823 3.408 3.408 0 0 1 .823 1.265 6.087 6.087 0 0 1 .379 2.042c.053 1.16.064 1.508.064 4.445s-.011 3.285-.064 4.445a6.087 6.087 0 0 1-.379 2.042 3.643 3.643 0 0 1-2.088 2.088 6.087 6.087 0 0 1-2.042.379c-1.16.053-1.508.064-4.445.064s-3.285-.011-4.445-.064a6.087 6.087 0 0 1-2.043-.379 3.408 3.408 0 0 1-1.264-.823 3.408 3.408 0 0 1-.823-1.265 6.087 6.087 0 0 1-.379-2.042c-.053-1.16-.064-1.508-.064-4.445s.011-3.285.064-4.445a6.087 6.087 0 0 1 .379-2.042 3.408 3.408 0 0 1 .823-1.265 3.408 3.408 0 0 1 1.265-.823 6.087 6.087 0 0 1 2.042-.379c1.16-.053 1.508-.064 4.445-.064M12 1c-2.987 0-3.362.013-4.535.066a8.074 8.074 0 0 0-2.67.511 5.392 5.392 0 0 0-1.949 1.27 5.392 5.392 0 0 0-1.269 1.948 8.074 8.074 0 0 0-.51 2.67C1.012 8.638 1 9.013 1 12s.013 3.362.066 4.535a8.074 8.074 0 0 0 .511 2.67 5.392 5.392 0 0 0 1.27 1.949 5.392 5.392 0 0 0 1.948 1.269 8.074 8.074 0 0 0 2.67.51C8.638 22.988 9.013 23 12 23s3.362-.013 4.535-.066a8.074 8.074 0 0 0 2.67-.511 5.625 5.625 0 0 0 3.218-3.218 8.074 8.074 0 0 0 .51-2.67C22.988 15.362 23 14.987 23 12s-.013-3.362-.066-4.535a8.074 8.074 0 0 0-.511-2.67 5.392 5.392 0 0 0-1.27-1.949 5.392 5.392 0 0 0-1.948-1.269 8.074 8.074 0 0 0-2.67-.51C15.362 1.012 14.987 1 12 1Zm0 5.351A5.649 5.649 0 1 0 17.649 12 5.649 5.649 0 0 0 12 6.351Zm0 9.316A3.667 3.667 0 1 1 15.667 12 3.667 3.667 0 0 1 12 15.667Zm5.872-10.859a1.32 1.32 0 1 0 1.32 1.32 1.32 1.32 0 0 0-1.32-1.32Z"})})})]}),(0,bL.jsxs)("div",{className:"menu",children:[(0,bL.jsxs)("li",{className:"active",children:[(0,bL.jsx)("span",{children:(0,bL.jsx)("svg",{"aria-label":"Home",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M22 23h-6.001a1 1 0 0 1-1-1v-5.455a2.997 2.997 0 1 0-5.993 0V22a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V11.543a1.002 1.002 0 0 1 .31-.724l10-9.543a1.001 1.001 0 0 1 1.38 0l10 9.543a1.002 1.002 0 0 1 .31.724V22a1 1 0 0 1-1 1Z"})})}),(0,bL.jsx)("span",{children:"Home"})]}),(0,bL.jsxs)("li",{className:"d-none d-md-block",children:[(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Search",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"})]})}),(0,bL.jsx)("span",{children:"Search"})]}),(0,bL.jsxs)("li",{children:[(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Explore",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("polygon",{fill:"none",points:"13.941 13.953 7.581 16.424 10.06 10.056 16.42 7.585 13.941 13.953",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,bL.jsx)("polygon",{fillRule:"evenodd",points:"10.06 10.056 13.949 13.945 7.581 16.424 10.06 10.056"}),(0,bL.jsx)("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]})}),(0,bL.jsx)("span",{children:"Explore"})]}),(0,bL.jsxs)("li",{children:[(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Reels",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"2.049",x2:"21.95",y1:"7.002",y2:"7.002"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"13.504",x2:"16.362",y1:"2.001",y2:"7.002"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.207",x2:"10.002",y1:"2.11",y2:"7.002"}),(0,bL.jsx)("path",{d:"M2 12.001v3.449c0 2.849.698 4.006 1.606 4.945.94.908 2.098 1.607 4.946 1.607h6.896c2.848 0 4.006-.699 4.946-1.607.908-.939 1.606-2.096 1.606-4.945V8.552c0-2.848-.698-4.006-1.606-4.945C19.454 2.699 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.546 2 5.704 2 8.552Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,bL.jsx)("path",{d:"M9.763 17.664a.908.908 0 0 1-.454-.787V11.63a.909.909 0 0 1 1.364-.788l4.545 2.624a.909.909 0 0 1 0 1.575l-4.545 2.624a.91.91 0 0 1-.91 0Z",fillRule:"evenodd"})]})}),(0,bL.jsx)("span",{children:"Reels"})]}),(0,bL.jsxs)("li",{className:"d-none d-sm-block",children:[(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Messenger",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("path",{d:"M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"1.739"}),(0,bL.jsx)("path",{d:"M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z",fillRule:"evenodd"})]})}),(0,bL.jsx)("span",{children:"Messages"})]}),(0,bL.jsxs)("li",{className:"d-none d-md-block",children:[(0,bL.jsx)("span",{children:(0,bL.jsx)("svg",{"aria-label":"Notifications",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"})})}),(0,bL.jsx)("span",{children:"Notifications"})]}),(0,bL.jsxs)("li",{onClick:u,children:[(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"New post",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("path",{d:"M2 12v3.45c0 2.849.698 4.005 1.606 4.944.94.909 2.098 1.608 4.946 1.608h6.896c2.848 0 4.006-.7 4.946-1.608C21.302 19.455 22 18.3 22 15.45V8.552c0-2.849-.698-4.006-1.606-4.945C19.454 2.7 18.296 2 15.448 2H8.552c-2.848 0-4.006.699-4.946 1.607C2.698 4.547 2 5.703 2 8.552Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"6.545",x2:"17.455",y1:"12.001",y2:"12.001"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.003",x2:"12.003",y1:"6.545",y2:"17.455"})]})}),(0,bL.jsx)("span",{children:"Create"})]}),(0,bL.jsx)(bL.Fragment,{children:o?"...":!o&&a?(0,bL.jsxs)("li",{onClick:l,children:[(0,bL.jsx)("span",{children:(0,bL.jsx)(OL.Z,{})}),(0,bL.jsxs)("span",{children:[a.displayName,"/ ",(0,bL.jsx)("span",{children:"Logout"})]})]}):(0,bL.jsxs)("li",{onClick:c,children:[(0,bL.jsx)("span",{children:(0,bL.jsx)(OL.Z,{})}),(0,bL.jsx)("span",{children:"Register/Login"})]})})]}),(0,bL.jsx)("div",{className:"options d-none d-md-block",children:(0,bL.jsxs)("li",{children:[(0,bL.jsx)("span",{children:(0,bL.jsx)("svg",{"aria-label":"Settings",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M3.5 6.5h17a1.5 1.5 0 0 0 0-3h-17a1.5 1.5 0 0 0 0 3Zm17 4h-17a1.5 1.5 0 0 0 0 3h17a1.5 1.5 0 0 0 0-3Zm0 7h-17a1.5 1.5 0 0 0 0 3h17a1.5 1.5 0 0 0 0-3Z"})})}),(0,bL.jsx)("span",{children:"More"})]})})]}),(0,bL.jsxs)("div",{className:"searchnav d-md-none p-4 ",style:n?{zIndex:-1}:{zIndex:1},children:[(0,bL.jsxs)("div",{className:"logo",children:[(0,bL.jsx)("img",{src:bF,className:"d-inline-block",alt:"logo"}),(0,bL.jsx)(sM,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},children:(0,bL.jsx)(RL.Z,{})}),(0,bL.jsxs)(dF,{id:"simple-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:v,children:[(0,bL.jsx)(kF,{onClick:v,children:"Profile"}),(0,bL.jsx)(kF,{onClick:v,children:"My account"})]})]}),(0,bL.jsxs)("div",{className:"rightside d-flex align-items-center",children:[(0,bL.jsxs)("div",{className:"searchbar d-none d-sm-block",children:[(0,bL.jsx)("label",{htmlFor:"",className:"me-3",children:(0,bL.jsxs)("svg",{"aria-label":"Search",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("path",{d:"M19 10.5A8.5 8.5 0 1 1 10.5 2a8.5 8.5 0 0 1 8.5 8.5Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"16.511",x2:"22",y1:"16.511",y2:"22"})]})}),(0,bL.jsx)("input",{type:"search",placeholder:"Search"})]}),(0,bL.jsx)("span",{className:"d-sm-none",children:(0,bL.jsxs)("svg",{"aria-label":"Messenger",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("path",{d:"M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"1.739"}),(0,bL.jsx)("path",{d:"M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z",fillRule:"evenodd"})]})}),(0,bL.jsx)("span",{className:"block ps-4",children:(0,bL.jsx)("svg",{"aria-label":"Notifications",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"})})})]})]})]})},_F=n.p+"static/media/profile1.056ad4e2aadac0aa514e.jpg",xF=n.p+"static/media/profile2.979dda0cdfd716605b21.jpg",EF=n.p+"static/media/profile3.c93f9d64f08fce10570a.jpg",IF=n.p+"static/media/profile4.ce314fe7b4ed9eda35b3.jpg",TF=n.p+"static/media/profile5.73695ba9a4edf9545db9.jpg",SF=function(){return(0,bL.jsx)("div",{className:"col-11 m-auto m-lg-none py-2 d-flex justify-content-md-center",children:(0,bL.jsxs)("div",{className:"col-12 col-md-8 col-lg-5 mt-4 py-3 px-0 stories",children:[(0,bL.jsxs)("div",{className:" profile text-center",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:_F,alt:""})}),(0,bL.jsx)("span",{children:"Kuntay12"})]}),(0,bL.jsxs)("div",{className:" profile",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:xF,alt:""})}),(0,bL.jsx)("span",{children:"harr@34"})]}),(0,bL.jsxs)("div",{className:" profile",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:EF,alt:""})}),(0,bL.jsx)("span",{children:"Sujo234"})]}),(0,bL.jsxs)("div",{className:" profile",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:IF,alt:""})}),(0,bL.jsx)("span",{children:"Radk@3ejf"})]}),(0,bL.jsxs)("div",{className:" profile",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:TF,alt:""})}),(0,bL.jsx)("span",{children:"Jo23@34"})]}),(0,bL.jsxs)("div",{className:" profile",children:[(0,bL.jsx)("div",{className:"storiesimg",children:(0,bL.jsx)("img",{src:_F,alt:""})}),(0,bL.jsx)("span",{children:"Sujoy123"})]})]})})},CF=n(14),NF=n(4378),AF=function(){var e=(0,t.useContext)(wL),n=e.showcreate,r=e.closepostform,a=e.create,o=(e.loader,(0,t.useState)("")),s=(0,i.Z)(o,2),u=s[0],c=s[1],l=(0,t.useState)(""),h=(0,i.Z)(l,2),f=h[0],d=h[1];return(0,bL.jsx)(bL.Fragment,{children:n?(0,bL.jsxs)("div",{className:"Createbody",children:[(0,bL.jsx)("div",{className:"closepost",onClick:r,children:(0,bL.jsx)(CF.Z,{})}),(0,bL.jsxs)("form",{action:"",className:"form p-4",onSubmit:function(e){e.preventDefault(),a({title:u,img:f}),c(""),d("")},children:[(0,bL.jsx)("div",{className:"row justify-content-center",children:(0,bL.jsx)("div",{className:"col-11",children:(0,bL.jsx)("textarea",{type:"text",className:"form-control",name:"image",placeholder:"What is your mind...",onChange:function(e){return c(e.target.value)},value:u,required:!0})})}),(0,bL.jsxs)("div",{className:"row text-center px-3 justify-content-between mt-4",children:[(0,bL.jsxs)("div",{className:"upload col text-start",children:[(0,bL.jsx)("label",{htmlFor:"camera",children:(0,bL.jsx)(NF.Z,{})}),(0,bL.jsx)("input",{type:"file",accept:"file_extension|audio/*|video/*|image/*|media_type",name:"file",id:"camera",className:"d-none",onChange:function(e){d(e.target.files[0])},required:!0})]}),(0,bL.jsx)("div",{className:"post col text-end ",children:(0,bL.jsx)("button",{className:"btn",type:"submit",children:"Post"})})]})]})]}):null})},RF=function(e){var n=e.id,r=(0,t.useContext)(wL),a=r.loader,o=r.user,s=r.publishcomment,u=(0,t.useState)(""),c=(0,i.Z)(u,2),l=c[0],h=c[1],f=(0,t.useState)([]),d=(0,i.Z)(f,2),p=d[0],v=d[1];return(0,t.useEffect)((function(){yL.collection("posts").doc(n).collection("comments").orderBy("currentTime","desc").onSnapshot((function(e){v(e.docs.map((function(e){return e.data()})))}))}),[]),(0,bL.jsxs)("div",{className:"comments pt-2 col-12",children:[p.map((function(e){return(0,bL.jsxs)("div",{className:"comments_container ms-3  col-12  d-flex align-items-center",children:[(0,bL.jsxs)("div",{className:"comments_container-name ",children:[e.username," "]}),(0,bL.jsxs)("div",{className:"comments_container-message ms-2",children:[e.comment," "]})]},e.id)})),!a&&o?(0,bL.jsx)("form",{onSubmit:function(e){e.preventDefault(),s({id:n,comment:l}),h("")},className:"mt-3",children:(0,bL.jsxs)("div",{className:"comments_section",children:[(0,bL.jsx)("label",{htmlFor:"",children:"\ud83d\ude04"}),(0,bL.jsx)("input",{type:"text",placeholder:"Add a comment...",value:l,onChange:function(e){return h(e.target.value)},required:!0}),(0,bL.jsx)("button",{type:"submit",children:"Post"})]})}):""]})},PF=function(){var e=(0,t.useContext)(wL),n=e.posts,r=e.model;return(0,bL.jsx)(bL.Fragment,{children:n.map((function(e){return(0,bL.jsx)("div",{className:"col-11 g-0 m-auto m-lg-none py-2 d-flex justify-content-md-center",children:(0,bL.jsxs)("div",{className:"col-12 col-md-8 col-lg-5 posts ",style:r?{display:"none"}:{display:"block"},children:[(0,bL.jsxs)("div",{className:"post_header ",children:[(0,bL.jsx)("div",{className:"post_header_avater",children:e.username[0]}),(0,bL.jsx)("div",{className:"post_header-name ms-3",children:e.username})]}),(0,bL.jsx)("div",{className:"posts_img col-12",children:(0,bL.jsx)("img",{src:e.image,alt:""})}),(0,bL.jsxs)("div",{className:"posts_social col-12 d-flex px-2 my-2 justify-content-between",children:[(0,bL.jsxs)("div",{className:"like_comments",children:[(0,bL.jsx)("span",{children:(0,bL.jsx)("svg",{"aria-label":"Notifications",class:"_ab6-",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,bL.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"})})}),(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Comment",class:"x1lliihq x1n2onr6",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("title",{children:"Comment"}),(0,bL.jsx)("path",{d:"M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"})]})}),(0,bL.jsx)("span",{children:(0,bL.jsxs)("svg",{"aria-label":"Share Post",class:"x1lliihq x1n2onr6",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("title",{children:"Share Post"}),(0,bL.jsx)("line",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",x1:"22",x2:"9.218",y1:"3",y2:"10.083"}),(0,bL.jsx)("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2"})]})})]}),(0,bL.jsx)("div",{className:"savepost",children:(0,bL.jsxs)("svg",{"aria-label":"Save",class:"x1lliihq x1n2onr6",color:"rgb(38, 38, 38)",fill:"rgb(38, 38, 38)",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,bL.jsx)("title",{children:"Save"}),(0,bL.jsx)("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"})]})})]}),(0,bL.jsx)(RF,{id:e.id})]},e.id)})}))})},DF=n.p+"static/media/profile.89252e41610c01232e77.jpg",OF=function(e){var t=e.img,n=e.username;return(0,bL.jsxs)("div",{className:"sidebar_user my-1",children:[(0,bL.jsxs)("div",{className:"sidebar_user_details col-9 col-xl-8",children:[(0,bL.jsx)("div",{className:"sidebar_user-avater sidebar_user_profile ms-3 mt-2",children:(0,bL.jsx)("img",{src:t,alt:""})}),(0,bL.jsxs)("div",{className:"sidebar_user-name ms-3",children:[(0,bL.jsx)("span",{children:n})," ",(0,bL.jsx)("br",{})," ",(0,bL.jsx)("span",{children:"Suggested for you"})]})]}),(0,bL.jsx)("div",{className:"switch col-3",children:"Switch"})]})},LF=n.p+"static/media/profile1.056ad4e2aadac0aa514e.jpg",MF=n.p+"static/media/profile2.979dda0cdfd716605b21.jpg",FF=n.p+"static/media/profile3.c93f9d64f08fce10570a.jpg",jF=n.p+"static/media/profile4.ce314fe7b4ed9eda35b3.jpg",ZF=n.p+"static/media/profile5.73695ba9a4edf9545db9.jpg",UF=function(){return(0,bL.jsx)(bL.Fragment,{children:(0,bL.jsxs)("div",{className:"sidebar col-4 d-none d-lg-block",children:[(0,bL.jsxs)("div",{className:"sidebar_user",children:[(0,bL.jsxs)("div",{className:"sidebar_user_details col-9 col-xl-8",children:[(0,bL.jsx)("div",{className:"sidebar_user-avater ms-3 mt-2",children:(0,bL.jsx)("img",{src:DF,alt:""})}),(0,bL.jsxs)("div",{className:"sidebar_user-name ms-3",children:[(0,bL.jsx)("span",{children:"Sujoy123"})," ",(0,bL.jsx)("br",{})," Frontend Devoloper"]})]}),(0,bL.jsx)("div",{className:"switch col-3",children:"Switch"})]}),(0,bL.jsxs)("div",{className:"suggest px-3 my-2",children:[(0,bL.jsx)("h6",{children:"Suggestions for you"}),(0,bL.jsx)("span",{className:"me-5",children:"See All"})]}),(0,bL.jsx)(OF,{img:LF,username:"toto.n55"}),(0,bL.jsx)(OF,{img:MF,username:"Sanjib.6142"}),(0,bL.jsx)(OF,{img:FF,username:"Rohit Bhudiya 120"}),(0,bL.jsx)(OF,{img:jF,username:"Harry1354"}),(0,bL.jsx)(OF,{img:ZF,username:"jouy24e"}),(0,bL.jsx)("div",{className:"sidebar_about col-12 px-3 my-4",children:"About . Help . Press . API . Jobs . Privacy . Terms . Locations . Language . Meta Verified"}),(0,bL.jsx)("div",{className:"sidebar_footer col-12 px-3 text-uppercase my-3",children:(0,bL.jsxs)("p",{children:["\xa9\ufe0f ",(new Date).getFullYear()," Instagram from meta "]})})]})})},BF=n.p+"static/media/logo.85e869a755c605162bb9.png";var VF=function(){return(0,bL.jsxs)("div",{className:"loading",children:[(0,bL.jsx)("div",{className:"logo",children:(0,bL.jsx)("img",{src:BF,alt:"logo"})}),(0,bL.jsxs)("div",{className:"meta_logo",children:[(0,bL.jsx)("span",{children:"from"}),(0,bL.jsx)("br",{}),(0,bL.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYkAAACACAMAAADJe2XzAAABklBMVEX////uOkzZPWTxUE/3iFXNQHPvQ026RorZPWXvP03xU0/xTk+5Rov3hlX4i1XbPGPwVk/xYlDxXU/lOlfJQXfvR03wWU/FQnznOVT2flT1d1PjOlnsOE/3g1TqOFG+RIT1clLkiJ7DQ3/VPmr4hkfHeqjwRT70alLjcIj0bVL95Nn+wVv7p1j8sFnVPmnRP275rpP6n1f8tFr98/X83uD4kVb5l1bx3ef9uVr96ensJUH5w8fyV1jwTTvoo7TdIU/gkKj3rrP+vk/oJkXvOkP1hH75wb/60c31kZD+7+XtIzb46u/ivtLzf4i5LHr+y3n2parFKWv6mEf0a0X/7NH4sKPzlJ36x8H5s6P1kof4o4j1bT/7wqz2eUHyZVj5m23xXGTyc3b2pJz8xJT7oUb0ipHwXmvxb3f3hmX8sEjzbGPfpb3TgKXWkbL1p6/Tc5jGYZT+1Jr6u5v+5L75nmbMYI78zLPbAD/MIGD/8NvheJH3kHnVZozGaZvwS1r7soH+05HYcZHptcTKAFL7tHvxPDLKaYwwAAAPH0lEQVR4nO3c/1/Tdh4H8CBQaDmhFChfB4yxgLipu1S7pAaoDS0EqNSKiIgDdoACMqeHsqncDe/+78snny/5fJLPp62MCzo/rx/2mG3apjz7yedL3omiyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMh8VtFXtlZnZmYf5FNVN1ze2lquupnMmTL3cLjcnkjE67ssyzYWC8INC6sJ0zST8ZiqqjP5EPfwy4j2aK08PNbenojHWroi0TrDPslwN8y3mwkHLJFIJuPxmKORDXlP/+J5vN7b10dLOLFPgkef1BOz3YknEatX68XNR+Zj89PoV0EJx+KBb7tlpz34Jepb7KUL2em/YOZutjY4EsNXfBLRqLWh0RvOmgmeRIu1eVG7/tfK3D1PAvTYlETUiujehrNqwpMAEFiiy9qo+iE3SB7WslP6LM727Jm/2WeWuXu3brZexhJJT8KBiEQiFuksttSkJ5E01ViMSHRZO1U+ZWK94fJXTnp7e9dq6Vc2Ved9HWJnINd1hi9VyICcnn5O42zth1sVJbos1CryahJLJMy9rXw+O6OqWKLLWqz8MROjDQ2XsUX1vSq47wwwWrpazvCtxqfaQD58fYbXXlS+YyWcYakVYSQQRUqNI4mEuYV7jyW1HklErMqjWVpifaXqXiVjf1Ki7dKl5uZrzZ+RxM8/UBLt5sxyPv9gw7ZoCfdPoalxJGHOUL24tqciiYhd8UjAtIm+anuVVePnIdH8GUnc/wclUca/dX3bpiW6NhTldgxJmMvsO2xaSCISqfRBrES1TlsFo4EvS+L77xyJm0hiwntc3zGoNmHNbtYjCTNwZNnsAhSgb/fPPugwEr1rWoVNnbFBzB2XfUkSPxMJ54fK/nWW7Doi0dJSH4MSJmed6XYXbBNRWw8+icNK9D2qtFc6aBJflsTcM0+iz/8zzdiehAMBJJy+mvMuuo0krF3xR7ESvWsT4k2VmfgXJ3H3eyzx1Xrw95yy/RLJGe7bLFlQIlqh0/ZJ9D0V71XKTH5pEr89wxIN3IFlwfZLCN7oNpKoE8/v/BJr4pHsXpKVuP1x38rNeFtbTRLzC/vPDw6e7y/Mn+FDzi93//79d0iCf9zO2l434Uioop98wYISFRqFX6JPOJLNm55E/f9VYn6/u9Td3T3ipFgcep5GDy/gnOFzz5a5Z1iidV0wllm0KAmV10nAbESghHimDSQaaImyaCSbSNYgkTpc3Ono6d/dzvJHCTVIzP9S6uxGECMjQ0NDxRfQoqnY9DeQb8WvPef8+iOWGH0s2oYeOj0Rv1XBghJ1tmh4CiUuU22izN902awqkVo0jFxuYNDJQC7XT0/utcNJN9eQxPgkHfpXPg0dKAnH4gA809QUtsQdT0K4TcH2JNQKg9QWJGGI1jyIxI2fkAR/JKuZqE2oeZUvUTixc3UDToDEYE9Pz+Cg96Ham34n7poTXO4AuXbtGyfXrx9Pk+3mO0udQQkn6QuQeIUkbt0afS3eatOTiO+JN8taACJaJ+yzPYm5NUSxxpNddRfck/HYrM6V0Had6f/AAC3R05Hbxe1Lgyt/WMJBcBmuw0zjd0k7DnyJYhpINIUqcfcqkaiw1bY7dIITO960DkWzYZsQHp48CeURbhRvg5vpJpJQtZQaC0pkDLAi5pfo6OlAqrVJQAiuxFBxPnSJO0TipXgj3aYkkqZ4w00LtglDoDUx2ooltHUkUQ6eqJiBZwOTzugAS7RQEks2PK3rl+jomIIUNUnMQwhGglA0NYUt8YpIjM6Jt9qM0BLJVeGGGSRRJxg9URKgfMGVCI5kCyaSiCs8iQd2lJJwLbBER7+7RU0SnY20RGnk6ODgBRjHXpCEc3BCEv8UbwQ6bEoiYYon0TaSMPhP0xLKUyRR9o/ZniSghLrCk8jaUSyRM4yenZ0eIzeIJTrGwSa1SEw3ehKlowV0OJ1feF+8GIk7UMIZOlXor/EUG0skxJ32LpIQTO4YiYk11CbK7EZ5E9UqgI/R/RIpO4ol7J2M+wfUMjs53CamQH2W9mbKDZZobmtrbj7GmQavSR9jCcciTX/8/EHxAiR+IxL3xAenJYtd7AienfCStVCb4I9jGQnlUR+SYCeLCVQ1YoKDfkAiiqzrjAFKO5NDEv0d4J8pmPE2OKH4Hf07lQZxlzTeNTYiitK0fy/TFyDxikiID066HfFLJEzR1A3/Yg1+R8FKaGtQYrhMj2S3sITbHblHp3pP4gHuiQx2yVcf7IESU9RvAEm0BefYCyUsUdrn7Oe3xbAl/n0VdNhAQjxy2okiCRUendyDOH85VoEdBfjFnnCfdSUasITysAwlhqmRrGaiSiqorbMSzs8CSgTKSFI5KNHf7z0mlnCbBJAoPefu6MFQyBJXscQ94ZmCLFmK1W7XY4l2U1Qjs4EkbO6zSOIyklB6kQQ1kl1FlVQm/G37JLbx3LEu8N6Hg1BiynsvocT8MZZ4J/ge70OWuEMkRIcbzUCnJ6y8oqlEor1dsP22BbtT/pk7v0RhDUoMk5FsilTcwn/7JODUMVpncwqne1Cb+J08Mg677KDEfiOSKAnXwcOV+A1KgGUn0Sa7VpTUEyh5lUgkBEuyoMt2+1NujblfQnmLJMr4RMUeqmnDjY6VyFtIgnfwA40CSEyRR4QS77DEtOh7K7ijCEfiPpH4l2ALePLUgYDD0pkYaRMmfyWwgNoEf/AUkNBxo0Aj2RUTSeCOSEdlbVBiEUlw313PIQkyphJKHCMJcZMIWeIVkRB12EYdkoBjIY2qAOR32jqaABvcEg9HopWRgJ02kIAD47ExKEGcWQm07C6oWuhBEqf4AZFEGkuIegklbIlfscQ9wbxu14pCCbykl/WqYoOVNm6wBHcYG5RQUJsYdk9ULLdDCu/Yx0iAFUbYJrgfPY4oyI9AJHF6HUo0TvK/NkjIElexBH/olLFhuVOXV8SUpOqTua/Bi0LcCg+OxEoZSlxZBSPYMSjhLTIyEu6pKEBxkuEFS4zjF4skJpFEqcKp0XAlwHSikgSpO7PIQwWqZp9bSI+XIjZ4T3IklKdIopxSVsegBLXwzkhksESd4SVHggdPbfjFIolpLJFWhAlX4i5pE9y1jl0sQdcd7yWJBHcl8ARC8Kd2PAmn03YlrjzVTSRBnaFlJLJYglmMHWQWY+nB07i7BlhBokItx6ck4RybkAR9liZFXVHEWwnc+FgJ5UZ5GFJcGYMS9LRRx4X71SV6Pm+JH4USmoHrk21mQr3qSfBO32GJAd4HQokGVkLBEmNXoAQ9KmMk8jVK4GlqVYlP6egEFwB5ErtYwldeqXnXOybV4NS8hqOTX2KljNoElGBmKoxEBldU/UmJ00+2x+YtO2VtfPWEf/C+7F0CHA9OKtDM7mMklKeMBDN7ZyRSRMJ2E+y03wxOTU29YSUuBSQW8Ch2Wvy3uSiJwHxCt8nljoEh0pMEufBUDawE4lEst7xDIDGxRkuw+0FLaDaSONFTlYJfLJLAM7vGTvHfBp+hCG1mhxYAA3PsDe/C08DLCiaRiMd8xye9hvlEQEJ5VCYSvgmjrqLSWDLHjghndoGIJPBqR6WOIlyJV1gicKJo1sISvFXP1YQn4bsIO4PXnbZ5HwgkWjkSmifhG4+xEptIotI1GlSEEn8gicZfhK8NV+I+kbjHPpG38cXY3N82OJuDL4tX2VsTbFdbAeRKKI/LSMI/R2ElsmjhyartfghCCdxldwobhVYMVWIO19j4CgpSKrksnl9DtmJ6NyhQmUaDFsXrDO6pJKGE0lcul50WUfZX8LASKbzwFDxRxItQQsNLgJ2inuLFUKgSCjk9cesm9aiukhsUiCpcZxLUjWyoPzo+PSGoAhRLTCy72fK/jJVQTnBHUVOjEErgw5MjwT8+vR8K9+jkDJ6IhFcp7AxXsITwpgMaJVHvUegWGepzXyaWEMUnkSXr4twyHo3t1H5HJU/XAhuSdXFOaYfzNi+Gwpa4T1WKY4q86d0+xRBeHVow6VsKoV+oTiZd/A777BL1uLaDHJ4MTqed6ckxFIdQovlDcFWDnLXrLAVaxUJxKHQJxWsTrZfXHxYKheUxcB8zJMEbN+FsmdSNbKzbeV3Rl2wiYfMrDpBEw9kllvD502BPpC3mOjre0G3ltB9NssepB6GKV1PghJlqp9kqwNDqYnF9snsjG9Brgpt2IAn+eTecPfpGNuBedZZFLUTwX/PnJRRvucNeZH7qhzlQ3NExSDVjfaoNVXeM40cX/vgA/3ey5EmUuvfRGCq9f1Ski5RDrBV/RiQCt08xqtyZhr2lELxBAa7PE3T05yBRsIm3Ye9mYRPQM4u5AbQu3ka9+hIpjf0Ariv6+t3x8TfHqNV4VYCd3d2dpdLI0dFIsegrFw/zSpZnQgl+p+tFNwMS5G8keMk5SCjwGAibXg4sOg0OOP8ZwEXK/VOH3qsn+0mRMiiPdYuUv0GnTDVawqvcRw4vmhBFeFd33RVIVOitcQqmQELYv5xJAg6evHMk2153FLiYxZF4Qx9TeeXiuB5qvsRK0FdQFLXwJeBNOwISUd7YxJ8VlSshKIpVkETrx0hoQQlwAQWzLs5IvGEOjKdTnMJ9/OS8UKKYVnCXHaKEwpOwIlVbBAi4FZbzd2phJAzx7SLOR8KtdOBLDPb75hlfTwUkjslX095xL/AqDjlDgYuQUP5zj9zIxpWItVS69wYTPa76JOps/lTCzTlJwCsegxL09ac4gMInQWHtBy96HCm6RcsXIqG8vjUKb2TjSsRV6yPuibylqi2UhL1T6VZbE87nnIeEoqR2bYPtKAbYa7JJMm3gOhYk4eT4Hb3qp02X8JXAUKJ4AMfGQ0WY97Xu6Tnl9c1RdNfehPnk4+6HrG3VqxaKvVNhLqgACTcN67VL/FeNqeCmjPWBZ7I7hk3O1xk7S8KfwOm1DwCjGVxX9G7SP9/W9o9K6Pr4YvFoHx+60ji17um5Ze71jUdv365urdS29M9EzyzNLi7OLmWqdS5zLx+DvHxZ8w2XtS0U7pJfKnP4wEk2U+Xul1rhdHJ6elJ0k0wtfbr//Pn+abqmzlFGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZG5hPJ/wD+q7BvzvqQWAAAAABJRU5ErkJggg==",alt:"metalogo"})]})]})},qF=function(){var e=(0,t.useState)(!0),n=(0,i.Z)(e,2),r=n[0],a=n[1];return(0,t.useEffect)((function(){a(!1)}),[]),(0,bL.jsxs)(_L,{children:[r&&(0,bL.jsx)(VF,{}),(0,bL.jsx)(DL,{}),(0,bL.jsx)(wF,{}),(0,bL.jsx)(SF,{}),(0,bL.jsx)(AF,{}),(0,bL.jsx)(UF,{}),(0,bL.jsx)(PF,{})]})};r.createRoot(document.getElementById("root")).render((0,bL.jsx)(qF,{}))}()}();
//# sourceMappingURL=main.9c74f228.js.map